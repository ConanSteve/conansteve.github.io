<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>古诗</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E8%AF%97/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E8%AF%97/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>古词</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E8%AF%8D/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E8%AF%8D/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>古文</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E6%96%87/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E5%8F%A4%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><ul><li>“夫运筹策帷帐之中，决胜于千里之外，吾不如子房;镇国家，抚百姓，给馈饷，不绝粮道，吾不如萧何;连百万之军，战必胜，攻必取，吾不如韩信。此三者，皆人杰也，吾能用之，此吾所以取天下也。”</li><li></li></ul><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>成长</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E6%88%90%E9%95%BF/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E6%88%90%E9%95%BF/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><ul><li>我们对年龄的恐惧，其实并不在于年龄增长所带来的苍老，而是恐惧随着年龄的增长，我们仍然一无所得。读过一句话，当你总是缅怀过去的时候，证明你现在过的并不好。所以，美好的回忆可以，但绝不留恋。要永远憧憬，永远在现在努力。</li><li>如果世界上还有比痛苦更坏的事，那么，它就是怀疑了（列夫-托尔斯泰）</li><li>”明珠埋土，自掩其华，一朝出土，流光四溢“</li><li>极而反，盛而衰：天地之道也，人之理也</li></ul>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爱情</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E7%88%B1%E6%83%85/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E7%88%B1%E6%83%85/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><ul><li>一份美好的感情想要长久，重要的是经营的智慧、坚守的勇气、和一个懂得珍惜的人。</li><li>你终会明白，前途比爱情重要，你还会明白，爱情比前途更难得，但最后你会明白，对的人会站在你的前途里。（罗翔）</li></ul>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>抖音语录</title>
      <link href="/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E6%8A%96%E9%9F%B3%E8%AF%AD%E5%BD%95/"/>
      <url>/2023/10/20/Notebooks/%E6%96%87%E5%BD%95/2023-10-20-%E6%8A%96%E9%9F%B3%E8%AF%AD%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h3 id="罗翔">罗翔</h3><ul><li>千万不要相信，压力可以转化为动力，你的压力只会转化成病历。人真正的动力，源自于内心深处，对于快乐和兴趣的追求。</li></ul><h2 id="未整理">未整理</h2><p><strong>人间无事人</strong></p><blockquote><p>逢人不说人间事，便是人间无事人</p></blockquote><p>毕竟几人真得鹿，不知终日梦为鱼</p><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 文录 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文录 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2023/10/13/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-16-OpenWrt/"/>
      <url>/2023/10/13/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-16-OpenWrt/</url>
      
        <content type="html"><![CDATA[<hr><h2 id="title-OpenWrt-的安装使用-date-2023-04-16-11-15-author-陌上人如玉-comments-description-keywords-top-img-cover-toc-toc-style-simple-mathjax-katex-aside-true-aplayer-highlight-shrink-tags-未分类-categories-未分类">title: OpenWrt 的安装使用 date: 2023-04-16 11:15 author: 陌上人如玉 comments: description: keywords: top_img: cover: toc: toc_style_simple: mathjax: katex: aside: true aplayer: highlight_shrink: tags: <em>未分类</em> categories: <em>未分类</em></h2><h2 id="Introduction">Introduction</h2><p><a href="https://openwrt.org/zh/downloads">openwrt.org 官网固件</a></p><p><strong>注意</strong></p><blockquote><p>Openwrt 界面很多数据修改了并不会生效，甚至造成系统文件错误，所以最好用命令行来执行。</p></blockquote><h2 id="固件下载">固件下载</h2><p><a href="https://lidrive.vip/">x86 版</a></p><h2 id=""></h2><h2 id="常用命令">常用命令</h2><p><strong>注意</strong></p><blockquote><p>app 配置文件一般在<code>/etc/config/</code>文件夹下</p><p>系统服务和任务启动脚本在<code>/etc/init.d/</code>文件夹下</p></blockquote><p><a href="https://blog.csdn.net/maosm007/article/details/118767465%09">OpenWRT19.07_命令行_重拨 wan_重启路由</a> 查看 cpu 信息：<code>cat /proc/cpuinfo</code> 查看已安装包信息：<code>cat /usr/lib/opkg/status</code> 查看架构信息：<code>opkg print-architecture</code> ，在<code>/etc/opkg.conf</code>文件中 重启网络：<code>/etc/init.d/network restart</code> 重载网络配置：<code>/etc/init.d/network reload</code> 修改网络配置文件：<code>vim /etc/config/network</code> 修改无线网络配置文件：<code>vim /etc/config/wireless</code> 查看防火墙状态：<code>/etc/init.d/firewall status</code> 关闭防火墙：<code>/etc/init.d/firewall disable</code> <code>/etc/init.d/firewall stop</code> 开启防火墙：<code>/etc/init.d/firewall enable</code> 重启：<code>reboot</code> 关机： <code>poweroff</code></p><h2 id="安装教程">安装教程</h2><h3 id="ophub-版安装步骤">ophub 版安装步骤</h3><p>修改网络配置文件，将 IP 设置为<code>192.168.1.3</code>只要不是 1，就可以访问. 修改网络配置文件：<code>vim /etc/config/network</code> 重载网络配置：<code>/etc/init.d/network reload</code> 关闭软路由 dhcp 功能。 <strong>添加默认 dns：192.168.1.1，否则无法更新包。</strong></p><h4 id="默认配置文件">默认配置文件</h4><p><code>/etc/config/network</code></p><pre><code>config interface 'loopback'option device 'lo'option proto 'static'option ipaddr '127.0.0.1'option netmask '255.0.0.0'config globals 'globals'option ula_prefix 'fdef:7a32:9e49::/48'config deviceoption name 'br-lan'option type 'bridge'list ports 'eth0'config interface 'lan'option device 'br-lan'option proto 'static'option ipaddr '192.168.1.5'option netmask '255.255.255.0'option ip6assign '60'option gateway '192.168.1.1'list dns '192.168.1.1' # 可选dnslist dns '114.114.114.114'config interface 'docker'option device 'docker0'option proto 'none'option auto '0'config deviceoption type 'bridge'option name 'docker0'</code></pre><p><code>/etc/config/wireless</code></p><pre><code>config wifi-device 'radio0'option type 'mac80211'option path 'platform/soc/ffe03000.sd/mmc_host/mmc0/mmc0:0001/mmc0:0001:1'option channel '36'option band '5g'option htmode 'VHT80'option disabled '1'config wifi-iface 'default_radio0'option device 'radio0'option network 'lan'option mode 'ap'option ssid 'OpenWrt'option encryption 'none'</code></pre><h4 id="安装-openclash">安装 openclash</h4><p><a href="https://blog.csdn.net/u010857736/article/details/123543325">解决 OpenWrt 下安装插件缺少依赖、架构不兼容、依赖冲突的问题</a> 官方源版本</p><pre><code>src/gz openwrt_core https://downloads.openwrt.org/snapshots/targets/armvirt/64/packagessrc/gz openwrt_base https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/basesrc/gz openwrt_luci https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/lucisrc/gz openwrt_packages https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/packagessrc/gz openwrt_routing https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/routingsrc/gz openwrt_telephony https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/telephony</code></pre><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/openwrt/">将官方源换为清华源</a>： <code>sed -i 's_downloads.openwrt.org_mirrors.tuna.tsinghua.edu.cn/openwrt_' /etc/opkg/distfeeds.conf</code> 将清华源换为官方源： <code>sed -i 's_downloads.openwrt.org_downloads.openwrt.org_' /etc/opkg/distfeeds.conf</code> <a href="https://cloud.tencent.com/developer/article/2232818">参考</a> <a href="https://blog.csdn.net/xs18952904/article/details/124600025">参考</a> 一、 安装依赖</p><ol><li>卸载 <code>dnsmasq</code>，因为默认的不完整，需要安装<code>dnsmasq-full</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">opkg remove dnsmasq</span><br><span class="line">mv /etc/config/dhcp /etc/config/dhcp.bak</span><br></pre></td></tr></table></figure><ol><li>安装依赖（除了 luci-compat）</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">opkg install luci luci-base iptables dnsmasq-full coreutils coreutils-nohup bash curl jsonfilter ca-certificates ipset ip-full iptables-mod-tproxy kmod-tun luci-compat</span><br></pre></td></tr></table></figure><pre><code>⁃</code></pre><h3 id="Flippy-版安装步骤">Flippy 版安装步骤</h3><p><a href="https://blog.csdn.net/bigcarp/article/details/129395326">HK1 box 安装 openwrt</a></p><p>修改网络配置文件，将 IP 设置为<code>192.168.1.3</code>只要不是 1，就可以访问</p><h4 id="桥接模式">桥接模式</h4><p><strong>注意：此模式下，界面操作可能配置文件并不生效，导致主（手动设置软路由）旁网络都无法上网，需要手动修改配置文件，使用命令</strong><code>/etc/init.d/network reload</code>重载网络，或者多试几次。</p><ul><li>连接 S905X3 旁路由 wifi，可以直接科学上网；连接主路由 DHCP 正常上网，手动设置 IP 和 DNS，可以科学上网。详细配置如下：</li></ul><blockquote><p>打开桥接模式，接口选择以太网适配器<code>eth0</code>和无线网络。 关闭旁路由 DHCP，打开 iPad 会间歇性断联 苹果系设备连接旁路由 WiFi 不稳定，或者直接连接不上旁路由 WiFi，但是可以通过连接主路由 WiFi，手动设置固定 IP 和 DNS(192.168.1.1)。</p></blockquote><p>可以使用的配置具体如下</p><pre><code>config interface 'loopback'option ifname 'lo'option proto 'static'option ipaddr '127.0.0.1'option netmask '255.0.0.0'config globals 'globals'option ula_prefix 'fd80:a441:42c3::/48'config interface 'lan'option ifname 'eth0'option proto 'static'option ipaddr '192.168.1.3'option netmask '255.255.255.0'option ip6assign '60'option delegate '0'option gateway '192.168.1.1'option broadcast '192.168.1.255'option dns '192.168.1.1'config interface 'VPN'option ifname 'ipsec0'option proto 'static'option ipaddr '10.10.10.1'option netmask '255.255.255.0'config interface 'vpn0'option ifname 'tun0'option proto 'none'config interface 'docker'option ifname 'docker0'option proto 'none'option auto '0'config deviceoption type 'bridge'option name 'docker0'</code></pre><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304162141598.png" alt=""> <img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304162144860.png" alt=""> <img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304171925580.png" alt=""></p><h4 id="非桥接模式">非桥接模式</h4><p><strong>注意</strong></p><blockquote><ol><li>网络配置 DNS 需要添加 114，否则网速测试软件用不了。</li></ol></blockquote><p>可行配置文件如下：</p><pre><code>config interface 'loopback'option ifname 'lo'option proto 'static'option ipaddr '127.0.0.1'option netmask '255.0.0.0'config globals 'globals'option ula_prefix 'fd1c:5910:ec02::/48'config interface 'lan'option ifname 'eth0'option proto 'static'option ipaddr '192.168.1.8'option netmask '255.255.255.0'option ip6assign '60'option gateway '192.168.1.1'option broadcast '192.168.1.255'option dns '192.168.1.1 114.114.114.114'option delegate '0'config interface 'VPN'option ifname 'ipsec0'option proto 'static'option ipaddr '10.10.10.1'option netmask '255.255.255.0'config interface 'vpn0'option ifname 'tun0'option proto 'none'config interface 'docker'option ifname 'docker0'option proto 'none'option auto '0'config deviceoption type 'bridge'option name 'docker0'</code></pre><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304181603673.png" alt=""> <img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304181601296.png" alt=""></p><h4 id="默认配置">默认配置</h4><p><code>/etc/config/network</code>默认配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;loopback&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;lo&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.0.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">globals</span> <span class="string">&#x27;globals&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ula_prefix</span> <span class="string">&#x27;fd29:2fa8:af1f::/48&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;lan&#x27;</span></span><br><span class="line">   <span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;bridge&#x27;</span> <span class="comment">#删除取消桥接</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span> <span class="comment">#协议类型</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;192.168.1.3&#x27;</span> <span class="comment">#ip地址</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.255.255.0&#x27;</span> <span class="comment">#子网掩码</span></span><br><span class="line"><span class="string">option</span> <span class="string">ip6assign</span> <span class="string">&#x27;60&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">broadcast</span> <span class="string">&#x27;192.168.1.255&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">_orig_ifname</span> <span class="string">&#x27;eth0 wlan0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">_orig_bridge</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">dns</span> <span class="string">&#x27;192.168.1.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">gateway</span> <span class="string">&#x27;192.168.1.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">delegate</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;eth0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;VPN&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;ipsec0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;10.10.10.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.255.255.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;vpn0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;tun0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;none&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;docker&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;docker0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;none&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">auto</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">device</span></span><br><span class="line"><span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;bridge&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">name</span> <span class="string">&#x27;docker0&#x27;</span></span><br></pre></td></tr></table></figure><p><code>/etc/config/wireless</code>默认配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">config</span> <span class="string">wifi-device</span> <span class="string">&#x27;radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;mac80211&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">hwmode</span> <span class="string">&#x27;11a&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">path</span> <span class="string">&#x27;platform/soc/ffe03000.sd/mmc_host/mmc0/mmc0:0001/mmc0:0001:1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">country</span> <span class="string">&#x27;CN&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">legacy_rates</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">mu_beamformer</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">band</span> <span class="string">&#x27;5g&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">channel</span> <span class="string">&#x27;36&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">htmode</span> <span class="string">&#x27;VHT80&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">wifi-iface</span> <span class="string">&#x27;default_radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">device</span> <span class="string">&#x27;radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">mode</span> <span class="string">&#x27;ap&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ssid</span> <span class="string">&#x27;S905X3&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">encryption</span> <span class="string">&#x27;psk2&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">key</span> <span class="string">&#x27;123654789&#x27;</span> <span class="comment">#密码</span></span><br><span class="line"><span class="string">option</span> <span class="string">network</span> <span class="string">&#x27;lan&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">disabled</span> <span class="string">&#x27;1&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="armbian-安装-Openwrt">armbian 安装 Openwrt</h3><p><strong>千万不能多开 openwrt，否则开机启动不了网络，只能重装系统</strong></p><blockquote><p>如果多开不要使用同一个虚拟网卡，可能没问题，暂时未测试。 <a href="https://www.jianshu.com/p/a44d06dfd37e">armbian 安装 openwrt</a> <a href="https://zhuanlan.zhihu.com/p/112484256">OpenWrt 中，旁路由的设置与使用</a> 可以参考 docker 镜像<code>piaoyizy/openwrt-aarch64</code>的使用说明 <strong>主路由设置不需要更改 DHCP</strong></p></blockquote><p><code>docker</code>命令行导入镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gunzip -c /opt/openwrt/openwrt.tar.gz | docker load</span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line">docker load &lt; xxx.tar</span><br><span class="line">docker images</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>docker</code>命令行保存镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">直接将容器保存为本地镜像</span></span><br><span class="line">docker ps -a</span><br><span class="line">docker export -o /opt/openwrt/openwrt-arm64-perfect:1.1.tar 2476e6578d9c</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者</span></span><br><span class="line">docker export 2476e6578d9c &gt; /opt/openwrt/tmp.tar  openwrt-arm64-perfect:1.1</span><br><span class="line">tar -czvf /opt/openwrt/openwrt-arm64-perfect:1.1.tar.gz /opt/openwrt/tmp.tar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将docker 镜像导出为本地文件</span></span><br><span class="line">docker images  # 查看镜像ID</span><br><span class="line">docker save 2f7abc88e74c &gt; save.tar</span><br><span class="line">docker save  | gzip &gt; /opt/openwrt/openwrt-arm64-perfect_1.1.tar.gz</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启网络混合模式</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要将命令写入`/etc/rc.local`,否则重启会失效，可能导致系统无法开机，只能重装</span></span><br><span class="line">ip link set eth0 promisc on</span><br><span class="line">ip link set wlan0 promisc on</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建docker虚拟网卡，名称为macnet</span></span><br><span class="line">docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o parent=eth0 macnet</span><br><span class="line"></span><br><span class="line">docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o parent=wlan0 macnet</span><br><span class="line">docker network rm macnet</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看docker虚拟网卡</span></span><br><span class="line">docker network ls</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导入或者拉取镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">本镜像有问题，停止，导致系统重启和崩溃</span></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged unifreq/openwrt-aarch64:latest /sbin/init</span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged hibuddies/openwrt-aarch64-21.02 /sbin/init</span><br><span class="line"></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged sulinggg/openwrt:armv8 /sbin/init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">来源镜像</span></span><br><span class="line">docker run --restart=on-failure -d --network macnet --privileged unifreq/openwrt-aarch64:latest /sbin/init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">已经配置好的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">宝塔面板直接创建容器，可以使用</span></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged openwrt-arm64-perfect:1.0 /sbin/init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进行openwrt容器终端</span></span><br><span class="line">docker ps</span><br><span class="line">docker exec -it 56c7ae62abea /bin/bash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vi /etc/config/network</span><br></pre></td></tr></table></figure><p>默认密码<code>password</code></p><p>防火墙-自定义规则<code>iptables -t nat -I POSTROUTING -j MASQUERADE</code></p><p><a href="https://opclash.com/luyou/80.html">openwrt 安装 openclash</a> <strong>注意</strong></p><blockquote><p>openwrt 无法访问 youtube 可能是因为浏览器设置了安全 DNS，可以试试手机是否可以访问 dns 设置</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.3</span><br><span class="line">114.114.114.114</span><br></pre></td></tr></table></figure><h3 id="MacOS-安装">MacOS 安装</h3><p><a href="https://blog.csdn.net/w946612410/article/details/113997146">VMware 安装 OpenWrt 让宿主机上网&amp;旁路由（两种方案）</a></p><h2 id="重新安装-Version666">重新安装 Version666</h2><ol><li><p>备份系统配置、iStore 配置、zshrc 文件，打开威力同步所有项目。</p></li><li><p>将系统从 sd 卡安装到 emmc</p></li><li><p>修改<code>/etc/config/network</code>，然后<code>/etc/init.d/network reload</code>（修改了 TF 卡，就省略这一步）</p></li><li><p>更换壁纸</p></li><li><p>从 iStore 恢复备份。如果恢复失败，手动安装以下插件</p></li></ol><blockquote><ul><li><p>关机</p></li><li><p>AList</p></li><li><p>易有云</p></li><li><p>网心云</p></li><li><p>SFTP</p></li></ul></blockquote><ol><li><p>从网页访问 Openwrt，上传备份好的配置,等待重启。</p></li><li><p>关闭 Docker，修改 Docker 根目录配置文件<code>/etc/docker/daemon.json</code>路径<code>/mnt/sda1/DockerConfig/docker/</code>，重启 docker</p></li><li><p>手动上传<code>openclash</code>内核，执行</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/openclash/core/</span><br><span class="line"></span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash /etc/openclash/core/</span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash_tun /etc/openclash/core/</span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash_meta /etc/openclash/core/</span><br></pre></td></tr></table></figure><ol><li>执行</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install zsh</span><br><span class="line">opkg install python3-pip</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">失败的话就执行</span></span><br><span class="line">opkg install /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/zsh/zsh_5.9-1_aarch64_cortex-a53.ipk</span><br></pre></td></tr></table></figure><ol><li>更换 python 源</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/root/.config/pip/pip.conf</span></span><br><span class="line">pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">或者</span></span><br><span class="line">pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure><ol><li><p>直接拷贝 zsh 和 oh-my-zsh 配置文件，可以省略后三步</p></li><li><p>执行命令，安装 Oh-my-zsh</p></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/felix-fly/openwrt-ohmyzsh/master/install.sh)&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">失败的话就执行</span></span><br><span class="line">sh /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/oh-my-zsh/install.sh</span><br></pre></td></tr></table></figure><ol><li>拷贝 autojump、zsh-syntax-highlighting、zsh-autosuggestions 插件到 openwrt，执行</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.oh-my-zsh/custom/plugins/autojump</span><br><span class="line">python3 ./install.py</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li>替换<code>~/.zshrc</code>文件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改</span></span><br><span class="line">export ZSH=&quot;/root/.oh-my-zsh&quot;</span><br><span class="line">ZSH_THEME=&quot;rkj-repos&quot;</span><br><span class="line">plugins=(zsh-syntax-highlighting zsh-autosuggestions)</span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加</span></span><br><span class="line">[[ -s /root/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; source /root/.autojump/etc/profile.d/autojump.sh</span><br><span class="line">alias ss=&quot;sensors&quot;</span><br><span class="line">alias src=&quot;source ~/.zshrc&quot;</span><br><span class="line">alias als=&quot;alias&quot;</span><br><span class="line">alias alsg=&quot;alias |grep&quot;</span><br><span class="line">alias l=&#x27;ls -CF&#x27;</span><br><span class="line">alias la=&#x27;ls -AF&#x27;</span><br><span class="line">alias lsa=&#x27;ls -AF&#x27;</span><br><span class="line">alias ll=&#x27;ls -lhF&#x27;</span><br><span class="line">alias lla=&#x27;ls -lhAF&#x27;</span><br><span class="line">alias lsp=&#x27;ls -plh&#x27;</span><br><span class="line">alias lt=&#x27;ls -lhtF&#x27;</span><br><span class="line">alias lat=&#x27;ls -lhatF&#x27;</span><br></pre></td></tr></table></figure><ol><li>若使用 docker，此步骤跳过。修改/etc/rc.local 文件，添加</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh /mnt/sda1/Config/opt/yt-dlp-web-ui/start.sh</span><br></pre></td></tr></table></figure><h2 id="系统优化">系统优化</h2><p><a href="https://www.jianshu.com/p/20881a8b6e02">自定义启动项</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh /etc/rc.common</span></span><br><span class="line">START=99</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">start()&#123;</span><br><span class="line">        /mnt/sda1/myapp</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">        /mnt/sda1/myapp -s</span><br><span class="line">&#125;</span><br><span class="line">restart()&#123;</span><br><span class="line">       /mnt/sda1/myapp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-2"></h3><h2 id="插件配置">插件配置</h2><h3 id="argone-主体">argone 主体</h3><p>默认暗色主色调：#483d8b</p><p>自定义暗色主色调：#268BFE、#1E6FFF</p><h3 id="SmartDNS">SmartDNS</h3><table><thead><tr><th style="text-align:left">名称</th><th>DNS 地址</th></tr></thead><tbody><tr><td style="text-align:left">谷歌</td><td>8.8.8.8</td></tr><tr><td style="text-align:left">百度</td><td>180.76.76.76</td></tr><tr><td style="text-align:left">阿里</td><td>223.5.5.5</td></tr><tr><td style="text-align:left">腾讯</td><td>119.29.29.29</td></tr><tr><td style="text-align:left">微软</td><td>4.2.2.2</td></tr><tr><td style="text-align:left">微软</td><td>4.2.2.1</td></tr><tr><td style="text-align:left"></td><td></td></tr><tr><td style="text-align:left"></td><td></td></tr><tr><td style="text-align:left"></td><td></td></tr></tbody></table><h3 id="adgardhome">adgardhome</h3><p><a href="https://www.jianshu.com/p/8167d0f82832">广告测试页面</a></p><h3 id="aria2">aria2</h3><p><a href="https://www.right.com.cn/forum/thread-3770017-1-1.html">aria2 配置</a> <a href="https://blog.csdn.net/zhu378287521/article/details/78363420">无法打开 aria</a> 默认配置文件<code>/etc/config/aria2</code></p><blockquote><p>注意，需要保证配置的文件夹都存在。否则启动不了</p></blockquote><p>手动配置 <code>aria2c -c –conf-path=/mnt/sda1/Config/etc/aria2/aria2.conf -D</code> 查看程序是否启动<code>ps |grep aria</code></p><pre><code>### dockerdocker运行ubuntu<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">    docker run -d --restart=always \</span><br><span class="line">                    -v /mnt/sda1/docker-data/ubuntu20.04:/opt \</span><br><span class="line">                    -p 6601:6601 \</span><br><span class="line">                    --name=&quot;ubunut20.04&quot; ubuntu:20.04</span><br><span class="line"></span><br><span class="line">[修改 docker 根目录](https://www.v2ex.com/t/783236)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">1.  先 `/etc/init.d/dockerd stop` 停止 docker 服务</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">&gt; 2.  再拷贝文件，通过 `rsync -av source-path destination-path`或者`<span class="built_in">cp</span> -r`命令。</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">&gt; 3.  然后再更改 `/etc/docker/daemon.json` 中的 `data-root` 字段，改成新的路径。ps: 如果这个 json 文件中没有这个字段，创建即可。如果不成功，就在`/etc/config/dockd`文件中。最好两者都修改一下。</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">&gt; 4.  看情况把 docker 容器持久化了的配置文件 volumes 的映射的路径也转移一下</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">&gt; 5.  重新启动 docker daemon （ dockerd ) `/etc/init.d/dockerd start`</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">## Ubuntu</span></span></span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">docker run --restart=unless-stopped -d     --dns=172.17.0.1     -u=0:0     --shm-size=512m     -p 6901:6901     -e VNC_PW=1212     -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"></span><br><span class="line">docker run -d --restart=always --dns=192.168.1.1 -u=0:0 --shm-size=512m -p 6901:6901 -e VNC_PW=1212 -e VNC_USE_HTTP=0 -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"></span><br><span class="line">docker run -d --restart=always --network=host -e VNC_PW=1212 -e VNC_USE_HTTP=0 -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除容器</span></span><br><span class="line">docker rm ubuntu</span><br></pre></td></tr></table></figure></code></pre><h3 id="Armbian">Armbian</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull armbian/build:latest</span><br><span class="line">docker run -d --restart=always --network=host -v /mnt:/mnt --name armbian armbian/build:latest</span><br></pre></td></tr></table></figure><h2 id="常用功能">常用功能</h2><h5 id="查看-smart6">查看 smart6</h5><p><a href="https://blog.eqianzheng.com/archives/129.html">查看硬盘 smart 信息</a></p><p>openwrt 需要安装这两个插件</p><ul><li><p>smartmontools</p></li><li><p>smartmontools-drivedb</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install smartmontools</span><br><span class="line">opkg install smartmontools-drivedb</span><br><span class="line"></span><br><span class="line">smartctl --all /dev/sda1</span><br><span class="line">smartctl -A /dev/sda1</span><br></pre></td></tr></table></figure><h5 id="自定义目录插件">自定义目录插件</h5><p>这些插件为了以后数据迁移方便，修改了默认配置目录或运行目录，迁移数据钱，需要先停止这些插件。 <code>xxx</code>为挂载磁盘的文件夹名称。</p><ul><li><p>alist /mnt/xxx/opt/alist</p></li><li><p>可道云 /mnt/xxx/opt/kodexplorer</p></li><li><p>微力同步 /mnt/xxx/etc/verysync</p></li><li><p>filebrowser /mnt/xxx/opt/filebrowser</p></li></ul><p><a href="https://book-dl.com/cms/openwrt/QeKo9zLoDNB34gNl.html">升级所有 opkg 可更新包</a></p><pre><code>opkg updateopkg list-upgradable | awk -F ' - ' '&#123;print $1&#125;' | xargs opkg upgrade# 强置升级opkg updateopkg list-upgradable | cut -f 1 -d ' ' | xargs opkg upgrade --force-depends</code></pre><p>升级 python 依赖包</p><pre><code>opkg list-upgradable | grep python3opkg install xxxopkg list-upgradable | grep python3- | cut -f 1 -d ' ' | xargs opkg upgradeopkg list-upgradable | grep luci- | cut -f 1 -d ' ' | xargs opkg upgradeopkg list-upgradable | grep ssl | cut -f 1 -d ' ' | xargs opkg upgrade</code></pre><h2 id="源">源</h2><h4 id="HK1Rbox">HK1Rbox</h4><p>修改<code>/etc/opkg.conf</code>文件，注释签名检查。 源配置文件目录<code>/etc/opkg/</code></p><h5 id="清华源">清华源</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h5 id="腾讯源">腾讯源</h5><h6 id="openwrt-22-03-5">openwrt 22.03.5</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-snapshots">lede snapshots</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/snapshots/targets/armsr/armv8/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/18.06.9/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-22-03-5">lede 22.03.5</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-snapshots-默认">lede snapshots 默认</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_OpenAppFilter https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/OpenAppFilter</span><br><span class="line">src/gz openwrt_kenzo https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/kenzo</span><br><span class="line">src/gz openwrt_passwall https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/passwall</span><br><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/snapshots/targets/armvirt/64/packages</span><br><span class="line"></span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/18.06.9/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h2 id="问题解答">问题解答</h2><h6 id="打不开-ttyd">打不开 ttyd</h6><p>是因为修改了的网段与编译的初始网段不一致导致，目前问题无解。</p><h2 id="Reference">Reference</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2023/10/12/Notebooks/%E6%99%AE%E4%BC%97/readme/"/>
      <url>/2023/10/12/Notebooks/%E6%99%AE%E4%BC%97/readme/</url>
      
        <content type="html"><![CDATA[<p>助人者人恒助之<br>助人者人助之，自助者天助之<br>助人者人助之，善人者人善之</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>U盘和TF卡</title>
      <link href="/2023/09/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-09-21-%E5%A4%96%E8%AE%BE/"/>
      <url>/2023/09/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-09-21-%E5%A4%96%E8%AE%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>防止时间太长，忘记每个U盘和TF的用途。</p><table><thead><tr><th>名称</th><th>外观型号</th><th>容量</th><th>说明</th></tr></thead><tbody><tr><td>U盘</td><td>金士顿DT50</td><td>32G</td><td>Openwrt x86系统盘</td></tr><tr><td>U盘</td><td>大恒图像</td><td>16G</td><td>微PE工具箱+win10系统镜像</td></tr><tr><td>U盘</td><td>金子顿</td><td>64G</td><td>老毛桃</td></tr><tr><td>U盘</td><td>闪迪</td><td>64G</td><td>老毛桃</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td>TF卡</td><td>红色闪迪</td><td>64G</td><td>电子游戏系统盘</td></tr><tr><td>TF卡</td><td>黑色金士顿</td><td>64G</td><td>Openwrt系统 Arm Version666 S905X3</td></tr><tr><td>TF卡</td><td>白色三星</td><td>64G</td><td>Armbian S905X3</td></tr></tbody></table><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 硬件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>youtube视频下载</title>
      <link href="/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-yt-dlp/"/>
      <url>/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-yt-dlp/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p><a href="https://github.com/yt-dlp/yt-dlp">Github</a></p><h2 id="安装">安装</h2><h3 id="openwrt">openwrt</h3><p>opkg install yt-dlp</p><h3 id="其他系统">其他系统</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install yt-dlp</span><br><span class="line">pip3 install yt-dlp</span><br></pre></td></tr></table></figure><h3 id="yt-dlp">yt-dlp</h3><p><strong>建议pip安装，apt会缺包</strong><br><a href="https://i007it.com/2022/12/18/yt-dlp-%25E4%25BD%25BF%25E7%2594%25A8%25E6%2595%2599%25E7%25A8%258B/">youtube下载神器</a></p><h3 id="参数说明">参数说明</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看有哪些分辨率</span></span><br><span class="line">https://www.youtube.com/watch?v=ukQ9YiTd2E8&amp;ab_channel=AIbeauty666</span><br><span class="line"></span><br><span class="line">yt-dlp -F https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1.只下载音频</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">找m4a格式，列表越靠后越清晰。比如ID：140 | EXT：m4a | audio only</span></span><br><span class="line">yt-dlp -f140 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2.下载音频转换成mp3（加上-x --audio-format参数）</span></span><br><span class="line">yt-dlp -f140 -x --audio-format mp3 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">3.下载视频（带音频）ID：22 | EXT：mp4 | 1280*720</span></span><br><span class="line">yt-dlp -f22 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">4.下载指定分辨率视频+音频（为了方便就直接下载mp4格式了）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1080及以上分辨率的音频和视频是分开的，所以一般会音频和视频一起下载</span></span><br><span class="line">yt-dlp -f299+140 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">5.(通用）下载最佳mp4视频+最佳m4a音频格式并合成mp4</span></span><br><span class="line">yt-dlp -f &#x27;bv[ext=mp4]+ba[ext=m4a]&#x27; --embed-metadata --merge-output-format mp4 https://www.youtube.com/watch?v=kNU2WCHVVBk</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">6.指定文件名下载（用-o参数）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认下载的文件格式是：title+空格+[<span class="built_in">id</span>].格式，比如***** [kNU2WCHVVBk].mp4</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">文件名只要标题，不要<span class="built_in">id</span>，加上 -o <span class="string">&#x27;%(title)s.mp4&#x27;</span></span></span><br><span class="line">yt-dlp -f &#x27;bv[ext=mp4]+ba[ext=m4a]&#x27; --embed-metadata --merge-output-format mp4 https://www.youtube.com/watch?v=kNU2WCHVVBk -o &#x27;%(title)s.mp4&#x27;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">example</span></span><br><span class="line">yt-dlp -f &#x27;bv[ext=mp4]+ba[ext=m4a]&#x27; --embed-metadata --merge-output-format mp4  -o /mnt/sda1/Documents/Downloads/youtube/&#x27;%(title)s.mp4&#x27; https://www.youtube.com/watch?v=kNU2WCHVVBk&#x27; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alias ytd=&quot;yt-dlp&quot;</span><br><span class="line">alias ytdF=&quot;yt-dlp -F&quot;</span><br><span class="line">alias ytdf=&quot;yt-dlp -o /mnt/sda1/Documents/Downloads/youtube/&#x27;%(title)s.mp4&#x27;&quot;</span><br><span class="line">alias ytdl=&quot;yt-dlp -f &#x27;bv[ext=mp4]+ba[ext=m4a]&#x27; --embed-metadata --merge-output-format mp4 -o /mnt/sda1/Documents/Downloads/youtube/&#x27;%(title)s.mp4&#x27;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://github.com/yt-dlp/yt-dlp#subtitle-options">官方文档</a></p><h4 id="其它常用参数">其它常用参数</h4><ul><li>–list-subs ： 列出所有字幕</li></ul><blockquote><p><code>yt-dlp --list-subs https://www.youtube.com/watch?v=teEYWtu1FRs&amp;ab_channel=12KScenicRelaxation</code></p></blockquote><ul><li>–sub-format src : 下載的字幕格式，如果原影片沒有指定的字幕格式會去下載其他格式的字幕，</li><li>–sub-lang zh-Hans：選擇要下載的字幕語言，用逗號分隔，例如：zh_cn,ja</li></ul><blockquote><p>–sub-format src --sub-lang zh-Hans</p></blockquote><h4 id="配合axel">配合axel</h4><p><code>yt-dlp --downloader axel --downloader-args axel:&quot;-a -n 4&quot; https://www.youtube.com/watch?v=zEhCwDl0KD0&amp;ab_channel=%E7%91%9F%E7%91%9F%E5%8F%91%E6%8A%96%E5%B0%8F%E9%9F%AD%E8%8F%9C</code></p><h4 id="配合Aria2">配合Aria2</h4><p><a href="https://zhuanlan.zhihu.com/p/536142120">yt-dlp：轻松下载各平台视频，缓存视频又一途径</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yt-dlp --external-downloader aria2c --downloader-args aria2c:&quot;-x 8 -k 1M&quot; https://www.youtube.com/watch?v=H7I-qKOrlsM&amp;ab_channel=AI%EC%A7%A4%ED%8C%8C%EA%B3%A0</span><br></pre></td></tr></table></figure><blockquote><p>8线程、分片（每分1M，且视频支持分片下载，否则不生效）</p></blockquote><h3 id="yt-dlp-web-ui">yt-dlp-web-ui</h3><p><a href="https://github.com/marcopeocchi/yt-dlp-web-ui">Github</a></p><h4 id="docker安装">docker安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">docker pull marcobaobao/yt-dlp-webui</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker pull marcobaobao/yt-dlp-webui:latest</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">不支持arm平台</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">openwrt</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 不成功</span></span></span><br><span class="line">docker pull marcobaobao/yt-dlp-webui</span><br><span class="line">docker run -d  --restart=always \</span><br><span class="line">                --name=yt-dlp-webui --network=host \</span><br><span class="line">                -p 3033:3033 \</span><br><span class="line">                -v /mnt/sda1/Documents/Downloads/youtube:/downloads \</span><br><span class="line">                marcobaobao/yt-dlp-webui           </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mac</span></span><br><span class="line">docker run -d -p 3033:3033 \</span><br><span class="line">                 --name=yt-dlp-webui \</span><br><span class="line">                 -v /Volumes/HFS/000-Documents/004-Videos/11-youtube:/downloads \</span><br><span class="line">                 marcobaobao/yt-dlp-webui</span><br></pre></td></tr></table></figure><h4 id="手动安装">手动安装</h4><p>测试存在跨域问题，没解决</p><ul><li>下载对应可执行文件到指定目录下，比如<code>/mnt/sda1/opt/yt-dlp-web-ui/yt-dlp-webui_linux-arm64-V2.0.6</code>，添加执行权限<code>chmod 777 ./yt-dlp-webui_linux-arm64-V2.0.6</code></li><li>添加开机启动任务脚本<code>/etc/init.d/yt-dlp-webui</code>,并添加可执行权限<code>chmod 777 /etc/init.d/yt-dlp-webui</code></li><li>创建软连接<code>ln -s /etc/init.d/yt-dlp-webui /usr/bin/yt-dlp-webui</code></li></ul><h5 id="nohup后台执行">nohup后台执行</h5><ul><li>可以直接在<code>/etc/rc.local</code>文件添加启动命令<code>sh /mnt/sda1/opt/yt-dlp-web-ui/start.sh</code></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh /etc/rc.common</span></span><br><span class="line"></span><br><span class="line">START=99</span><br><span class="line">NAME=yt-dlp-webui</span><br><span class="line"></span><br><span class="line">start()&#123;</span><br><span class="line">        echo &quot;Starting......&quot;</span><br><span class="line">        /mnt/sda1/opt/yt-dlp-web-ui/yt-dlp-webui_linux-arm64-V2.0.6 --conf /mnt/sda1/opt/yt-dlp-web-ui/config.yaml</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">        /mnt/sda1/opt/yt-dlp-web-ui/yt-dlp-webui_linux-arm64-V2.0.6 -s</span><br><span class="line">        echo &quot;Stop Succeed！&quot;</span><br><span class="line">&#125;</span><br><span class="line">restart()&#123;</span><br><span class="line">       /mnt/sda1/opt/yt-dlp-web-ui/yt-dlp-webui_linux-arm64-V2.0.6 restart</span><br><span class="line">       echo &quot;Restart Succeed！&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>或者自<a href="https://blog.csdn.net/songshuai0223/article/details/103944625">启动脚本写法</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh /etc/rc.common</span></span><br><span class="line"></span><br><span class="line">START=99 # 执行的顺序，按照字符串顺序排序并不是数字排序</span><br><span class="line">STOP=15</span><br><span class="line">SERVICE=yt-dlp-webui</span><br><span class="line">PROG=/mnt/sda1/opt/yt-dlp-web-ui/yt-dlp-webui_linux-arm64-V2.0.6</span><br><span class="line">USE_PROCD=1 # 使用procd启动</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">start_service 函数必须要重新定义</span></span><br><span class="line">start_service()</span><br><span class="line">&#123;</span><br><span class="line">    echo service yt-dlp-webui start</span><br><span class="line">    procd_open_instance  # 创建一个实例， 在 procd 看来一个应用程序可以多个实例</span><br><span class="line">    # ubus call service list 可以查看实例</span><br><span class="line">    procd_set_param command $PROG --conf /mnt/sda1/opt/yt-dlp-web-ui/config.yaml# mycode执行的命令是&quot;/app/mycode&quot;， 若后面有参数可以直接在后面加上</span><br><span class="line">    procd_set_param respawn # 定义respawn参数，告知procd当mycode程序退出后尝试进行重启</span><br><span class="line">    # procd_close_instance # 关闭实例</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>config.yaml</code>文件如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">port:</span> <span class="number">3033</span></span><br><span class="line"><span class="attr">downloadPath:</span> <span class="string">/mnt/sda1/Documents/Downloads/youtube/</span></span><br><span class="line"><span class="attr">downloaderPath:</span> <span class="string">/usr/bin/yt-dlp</span></span><br></pre></td></tr></table></figure><ul><li>给脚本<br>命令说明文档</li></ul><pre><code class="language-txt">-conf string    yt-dlp-WebUI config file path-driver string    yt-dlp executable path (default &quot;yt-dlp&quot;)-out string    Directory where files will be saved (default &quot;.&quot;)-port int    Port where server will listen at (default 3033)## 参考文献</code></pre>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-09-18-内网穿透</title>
      <link href="/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
      <url>/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h2 id="免费穿墙软件">免费穿墙软件</h2><p><a href="https://www.natfrp.com/">NatFrp</a><br><a href="https://doc.natfrp.com/launcher/usage.html">文档</a><br>免费10M、5G</p><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Aria</title>
      <link href="/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-Aria/"/>
      <url>/2023/09/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-18-Aria/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p><a href="https://cloud.tencent.com/developer/article/1482100">让你的aria2支持SSL协议</a></p><h5 id="错误解决">错误解决</h5><h6 id="下载SSL-TL握手错误">下载SSL/TL握手错误</h6><p>添加附加选项：check-certificate=false</p><h2 id="其他可选参数">其他可选参数</h2><p>ca-certificate=/etc/ssl/certs/ca-certificates.crt</p><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>云盘</title>
      <link href="/2023/09/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-08-%E4%BA%91%E7%9B%98/"/>
      <url>/2023/09/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-09-08-%E4%BA%91%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><table><thead><tr><th>云盘</th><th>下载是否满速</th><th>是否安全不被和谐</th><th>容量</th><th>AList支持</th><th>是否完美</th></tr></thead><tbody><tr><td>阿里云盘</td><td>❌</td><td></td><td>2.7T</td><td></td><td></td></tr><tr><td>天翼云盘</td><td>✅</td><td>名称和谐（蓝灯apk）</td><td>60G</td><td></td><td></td></tr><tr><td>115</td><td>❌8M</td><td>✅</td><td>5.15T</td><td></td><td></td></tr><tr><td>夸克</td><td>❌8M</td><td></td><td>20G</td><td></td><td></td></tr><tr><td>123</td><td>✅</td><td>✅</td><td>2G</td><td></td><td></td></tr></tbody></table><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu</title>
      <link href="/2023/05/29/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2023-05-29-Ubuntu/"/>
      <url>/2023/05/29/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2023-05-29-Ubuntu/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h3 id="Ubuntu版本">Ubuntu版本</h3><table><thead><tr><th>数字版本</th><th>版本代号</th><th>备注</th></tr></thead><tbody><tr><td>18.04</td><td><strong>Bionic Beaver</strong></td><td>仿生海狸</td></tr><tr><td>20.04</td><td><strong>Focal Fossa</strong></td><td>马达加斯加发现的一种类似猫的捕食者</td></tr><tr><td>22.04</td><td><strong>Jammy Jellyfish</strong></td><td>水母</td></tr></tbody></table><p><a href="https://www.linuxmi.com/ubuntu-20-04-vs-22-04-lts.html">Ubuntu 20.04 与 22.04：两个 LTS 版本之间发生了哪些变化</a></p><h2 id="美化">美化</h2><p><a href="https://blog.csdn.net/qq183837971/article/details/78235144">修改苹果字体</a></p><p><a href="https://www.linuxmi.com/ubuntu-20-04-mac-os-catalina.html">安装苹果主题</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo cp -r McOS-CTLina-Gnome-1.3.2 /usr/share/themes</span><br><span class="line">sudo cp -r Mc-OS-CTLina-Gnome-Dark-1.3.2 /usr/share/themes</span><br><span class="line">sudo cp -r Mc-OS-Transparent-1.3 /usr/share/themes</span><br><span class="line">sudo cp -r Os-Catalina-Night /usr/share/icons</span><br><span class="line">sudo cp -r Os-Catalina-icons /usr/share/icons</span><br></pre></td></tr></table></figure><p><a href="https://zhuanlan.zhihu.com/p/35362159">系统美化1</a></p><p><a href="https://zhuanlan.zhihu.com/p/68921091">系统美化2</a></p><h2 id="Others">Others</h2><p><a href="https://www.jb51.net/os/Ubuntu/421276.html">截图</a></p><p><a href="https://www.cnblogs.com/spqin/p/13061508.html">ubuntu 安装 火狐浏览器（中国版本）</a></p><p><a href="https://blog.csdn.net/qq_33733970/article/details/84326110?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param">/mnt/hgfs/下不显示共享文件夹的处理办法</a></p><p><a href="https://blog.csdn.net/u012442845/article/details/78855573">Ubuntu 16.04 禁用 nouveau 安装 nvidia显卡驱动</a></p><blockquote><p>要先安装 gcc，make 包<br><a href="https://www.cnblogs.com/xuyaowen/p/linux-secure-boot-disable.html">reference1</a><br>（ <a href="https://blog.csdn.net/wangyjfrecky/article/details/84029668?utm_medium=distribute.pc_relevant.none-task-blog-title-4&amp;spm=1001.2101.3001.4242%EF%BC%89">https://blog.csdn.net/wangyjfrecky/article/details/84029668?utm_medium=distribute.pc_relevant.none-task-blog-title-4&amp;spm=1001.2101.3001.4242）</a><br><a href="https://blog.csdn.net/tsq292978891/article/details/84503718">挂载磁盘</a></p></blockquote><h4 id=""></h4><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kasm的安装和使用</title>
      <link href="/2023/05/29/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-29-Kasm/"/>
      <url>/2023/05/29/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-29-Kasm/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>默认用户名和密码<br>User: kasm_user<br>Password: password</p><h2 id="版本">版本</h2><p><a href="https://hub.docker.com/u/kasmweb">kasmweb</a></p><p><a href="https://hub.docker.com/r/kasmweb/core-ubuntu-bionic?__hstc=50686966.368fb4ae54949e6884de686b0d9e6866.1654496468754.1654496468754.1654496468754.1&amp;__hssc=50686966.1.1654496468755&amp;__hsfp=2424259187&amp;hsCtaTracking=5b5de6c7-515a-46b2-a291-88142384c2a6%7C23e7ba96-2797-4cd6-89c9-b97da7acf31b">Bionic</a></p><p><a href="https://hub.docker.com/r/kasmweb/ubuntu-jammy-desktop">22.04 Jammy</a></p><h3 id="Mac">Mac</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker pull kasmweb/ubuntu-jammy-desktop:1.13.1</span><br><span class="line">docker run -d --restart=unless-stopped -p 6901:6901 -e VNC_PW=1212 --name=kasm-jammy kasmweb/ubuntu-jammy-desktop:1.13.1</span><br><span class="line">docker run -d --restart=unless-stopped --network=host -p 6901:6901 -e VNC_PW=1212 --name=kasm-jammy kasmweb/ubuntu-jammy-desktop:1.13.1</span><br><span class="line">sudo docker run --rm -it --shm-size=512m -p 6901:6901 -e VNC_PW=1212 kasmweb/ubuntu-jammy-desktop:1.13.1-</span><br><span class="line"></span><br><span class="line">docker pull kasmweb/ubuntu-focal-desktop:1.13.1</span><br><span class="line">docker run -d --restart=always -p 6901:6901 -e VNC_PW=1212 kasmweb/ubuntu-focal-desktop:1.13.1-rolling</span><br><span class="line"></span><br><span class="line">docker pull kasmweb/core-ubuntu-bionic:1.13.1</span><br><span class="line">docker run --rm -it --shm-size=512m -p 6901:6901 -e VNC_PW=1212 --name kasm-bionic kasmweb/core-ubuntu-bionic:1.13.1</span><br></pre></td></tr></table></figure><h3 id="Openwrt">Openwrt</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ubuntu插件默认命令</span></span><br><span class="line">docker run --restart=unless-stopped -d     --dns=172.17.0.1     -u=0:0     --shm-size=512m     -p 6901:6901     -e VNC_PW=1212     -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu &quot;linkease/desktop-ubuntu-full-arm64:latest&quot;</span><br><span class="line">docker run --restart=unless-stopped -d   --network=host     -u=0:0     --shm-size=512m     -p 6901:6901     -e VNC_PW=1212     -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu &quot;linkease/desktop-ubuntu-full-arm64:latest&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docker pull kasmweb/ubuntu-jammy-desktop:1.13.1</span><br><span class="line">docker run --restart=unless-stopped -d   --network=host     -u=0:0     --shm-size=512m     -p 6901:6901     -e VNC_PW=1212     -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai -v /mnt:/mnt --name kasm-jammy &quot;kasmweb/ubuntu-jammy-desktop:1.13.1&quot;</span><br></pre></td></tr></table></figure><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AList的安装和使用</title>
      <link href="/2023/05/28/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-28-AList/"/>
      <url>/2023/05/28/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-28-AList/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p><a href="https://alist.nn.ci/zh/guide/">中文文档</a></p><h3 id="基础命令">基础命令</h3><p>查看管理员密码：<br>V3.25以下<br><code>./alist admin</code><br>V3.25以上<br><code>./alist admin random</code><br><code>./alist admin set NEW_PASSWORD</code></p><p>查看版本：<code>./alist version</code></p><h3 id="Mac安装">Mac安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Install</span></span><br><span class="line">curl -fsSL &quot;https://alist.nn.ci/v3.sh&quot; | bash -s install /Users/fan/opt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">update</span></span><br><span class="line">curl -fsSL &quot;https://alist.nn.ci/v3.sh&quot; | bash -s update /Users/fan/opt</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uninstall</span></span><br><span class="line">curl -fsSL &quot;https://alist.nn.ci/v3.sh&quot; | bash -s uninstall /Users/fan/opt</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="docker安装">docker安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -v /Users/fan/opt/docker-data/alist:/opt/alist/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist:latest</span><br></pre></td></tr></table></figure><p><strong>升级</strong>：直接删除容器，重新执行上述命令</p><h3 id="Openwrt安装">Openwrt安装</h3><p><strong>注意需要在防火墙添加端口</strong><br>Openwrt自带无法升级，建议：</p><ul><li><p>需要运行多个软件：先docker运行ubuntu，再在ubuntu中运行Alist，这样可以节省Openwrt资源。</p></li><li><p>如果docker只运行AList，那就参照docker安装方法</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always \</span><br><span class="line">                    -v /mnt/sda1/docker-data/alist/data:/opt/alist/data \</span><br><span class="line">                    -p 6601:5244 -e PUID=0 -e PGID=0 -e UMASK=022 \</span><br><span class="line">                    --name=&quot;alist&quot; xhofe/alist:latest</span><br></pre></td></tr></table></figure><h4 id="手动升级">手动升级</h4><p>安装目录：PROG=/usr/bin/alist<br>配置目录：CONFIG_DIR=/etc/alist</p><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>台式机装机</title>
      <link href="/2023/05/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-26-%E8%A3%85%E6%9C%BA/"/>
      <url>/2023/05/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-26-%E8%A3%85%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h3 id="八大件">八大件</h3><table><thead><tr><th>组件</th><th>升级条件</th><th>价格</th></tr></thead><tbody><tr><td>主板、CPU、</td><td>必须一起升级</td><td>贵</td></tr><tr><td>内存</td><td>可以单独升级，但是一般用不坏</td><td>中等</td></tr><tr><td>显卡、固态</td><td>可以单独更换升级</td><td>贵</td></tr><tr><td>风扇、电源、机箱</td><td>很耐用，没坏一般不需要更换</td><td>便宜</td></tr></tbody></table><h2 id="选购">选购</h2><ul><li>京东618：5.25-6.18</li><li>双十一：11.11</li><li>京东数码超级日8.25</li></ul><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 硬件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>主板和CPU的选择</title>
      <link href="/2023/05/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-26-%E4%B8%BB%E6%9D%BF/"/>
      <url>/2023/05/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-26-%E4%B8%BB%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h1>主板和CPU</h1><h2 id="前言">前言</h2><h2 id="选购指导">选购指导</h2><h3 id="主板">主板</h3><p><a href="https://asus.jd.com/view_search-416883-18905091-99-1-20-1.html">华硕</a>&gt;<a href="https://msigaming.jd.com/view_search-392505-14790148-99-1-20-1.html">微星</a>&gt;<a href="https://mall.jd.com/view_search-400226-13168614-5-1-24-1.html">技嘉</a>&gt;<a href="https://mall.jd.com/index-1000094211.html?from=pc">铭瑄</a></p><p>13代CPU主板推荐：选华硕H610M-K或者微星B760M-P</p><p>Intel平台：</p><ul><li>技嘉（GIGABYTE）B760M AORUS ELITE</li><li>华硕（ASUS）TUF GAMING B760M-PLUS</li><li>微星(MSI)MAG B760M</li></ul><p>AMD平台：</p><h3 id="电源">电源</h3><p><a href="https://www.zhihu.com/tardis/zm/art/345103093?source_id=1005">2023年电源选购</a></p><p><strong>品牌</strong></p><ul><li>一线品牌：海韵、振华</li><li>二线品牌、长城、航嘉|安钛克、酷冷至尊、EVGA、海盗船|华硕、技嘉、微星</li><li>三线：鑫谷、TT等</li><li>四线：先马、爱国者、金河田、游戏悍将（不要买）等</li></ul><p><strong>功率</strong></p><ul><li><p>带独显：CPU+独显+200W</p></li><li><p>只用Intel系列CPU：200W</p><p><strong>认证</strong></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202306011207947-%E7%94%B5%E6%BA%90%E8%AE%A4%E8%AF%81.png" alt=""></p></li></ul><table><thead><tr><th>品牌系列</th><th>质保时间</th><th>说明</th></tr></thead><tbody><tr><td>振华铜牌</td><td>3年</td><td></td></tr><tr><td>振华金牌</td><td>10年</td><td></td></tr><tr><td>安钛克VP</td><td>3年</td><td>尽量不要买</td></tr><tr><td>安钛克NE金牌</td><td>7年</td><td>只换不修</td></tr><tr><td>安钛克HCG</td><td>10年</td><td>只换不修</td></tr></tbody></table><h2 id="已购归档">已购归档</h2><h3 id="主板-2">主板</h3><table><thead><tr><th>型号</th><th>电源接口</th><th>供电</th><th>CPU接口（支持CPU）</th><th>支持内存</th></tr></thead><tbody><tr><td><a href="https://item.jd.com/1125123.html#product-detail">技嘉Z97D3H</a></td><td>24+8</td><td></td><td>LGA1150（酷睿4/5）</td><td>D3</td></tr><tr><td><a href="https://item.jd.com/100041649010.html">铭瑄终结者B760 D5</a></td><td>24+12</td><td>17相</td><td>LGA1700（酷睿12/13）</td><td>D5</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h3 id="电源-2">电源</h3><table><thead><tr><th>型号</th><th>主电源接口</th><th>类型</th><th>质保时间</th><th>转化率</th></tr></thead><tbody><tr><td><a href="https://item.jd.com/7632573.html">振华铜皇 450W</a></td><td>20+4</td><td>ATX电源</td><td></td><td></td></tr><tr><td><a href="https://item.jd.com/1039354.html">安钛克NEO铜牌 650W</a></td><td>20+4</td><td>ATX电源</td><td>3年</td><td>70%</td></tr><tr><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h3 id="笔记本电脑">笔记本电脑</h3><table><thead><tr><th>型号</th><th>时间</th><th>CPU</th></tr></thead><tbody><tr><td><a href="https://product.pconline.com.cn/notebook/asus/439105_detail.html">华硕A42JV</a></td><td>2010.10</td><td>i5 460M</td></tr><tr><td>惠普战66G1</td><td>2018.8</td><td>i5 8250U</td></tr><tr><td></td><td></td><td></td></tr></tbody></table><h2 id="CPU系列支持">CPU系列支持</h2><h3 id="Intel">Intel</h3><p><a href="https://zhuanlan.zhihu.com/p/504277704">超详细！主板CPU对照表！intel篇，主板接口对应CPU，建议收藏</a></p><ul><li>内存频率显示的是可支持版本，具体需要看CPU具体型号支持</li><li><a href="https://shop67304331.taobao.com/shop/view_shop.htm?spm=a1z0k.7385961.0.0.4e6737deYlB9gG&amp;shop_id=67304331">淘宝天逸永恒科技散片</a>CPU便宜</li></ul><table><thead><tr><th>CPU</th><th>接口</th><th>芯片组</th><th>CPU代表</th><th>内存DDR版本</th></tr></thead><tbody><tr><td>2代</td><td>LGA1155</td><td>60/70系主板</td><td></td><td></td></tr><tr><td>3代</td><td>LGA1155</td><td>60/70系主板</td><td></td><td></td></tr><tr><td>4代</td><td>LGA1150</td><td>80/90系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/80811/intel-core-i54690k-processor-6m-cache-up-to-3-90-ghz/specifications.html">i5 4690K</a></td><td>3/1333、1600MHz</td></tr><tr><td>5代</td><td>LGA1150</td><td>80/90系主板</td><td></td><td></td></tr><tr><td>6代</td><td>LGA1151</td><td>100/200系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/88185/intel-core-i56400-processor-6m-cache-up-to-3-30-ghz/specifications.html">6400</a></td><td>DDR4-2133/2400, DDR3L-1333/1600 @ 1.35V</td></tr><tr><td>7代</td><td>LGA2066</td><td>100/200系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/97147/intel-core-i57400-processor-6m-cache-up-to-3-50-ghz/specifications.html">7400</a></td><td>DDR4-2133/2400, DDR3L-1333/1600 @ 1.35V</td></tr><tr><td>8代</td><td>LGA1151</td><td>300系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/126687/intel-core-i58400-processor-9m-cache-up-to-4-00-ghz/specifications.html">8400</a></td><td>4/2666MHz</td></tr><tr><td>9代</td><td>LGA1151</td><td>300系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/190883/intel-core-i59400f-processor-9m-cache-up-to-4-10-ghz/specifications.html">9400</a></td><td>4/2666MHz</td></tr><tr><td>10代</td><td>LGA1200</td><td>400/500系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/199278/intel-core-i510400f-processor-12m-cache-up-to-4-30-ghz/specifications.html">10400</a></td><td>4/2666、2933MHz</td></tr><tr><td>11代</td><td>LGA1200</td><td>400/500系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/212271/intel-core-i511400f-processor-12m-cache-up-to-4-40-ghz/specifications.html">11400</a></td><td>4/3200MHz</td></tr><tr><td>12代</td><td>LGA1700</td><td>600/700系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/132223/intel-core-i312100f-processor-12m-cache-up-to-4-30-ghz/specifications.html">12100</a> <a href="https://www.intel.cn/content/www/cn/zh/products/sku/132223/intel-core-i312100f-processor-12m-cache-up-to-4-30-ghz/specifications.html">12400</a></td><td>4/3200、4800MHz</td></tr><tr><td>13代</td><td>LGA1700</td><td>600/700系主板</td><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/230575/intel-core-i313100-processor-12m-cache-up-to-4-50-ghz/specifications.html">13100</a> <a href="https://www.intel.cn/content/www/cn/zh/products/sku/230501/intel-core-i513400f-processor-20m-cache-up-to-4-60-ghz/specifications.html">13400</a></td><td>5/4800、5600MHz</td></tr></tbody></table><p><strong>i5-13400/13400F独显搭配推荐</strong></p><p>N卡：RTX3050、RTX2060、RTX3060、RTX3060Ti、RTX3070、RTX3070Ti、RTX3080、RTX4080、RTX4070Ti；</p><p>A卡：RX6500XT、RX6600、RX6600XT、RX6650XT、RX6700XT、RX6750XT、RX6800、RX6800XT；</p><h2 id="芯片组">芯片组</h2><ul><li><p>H代表的是主流芯片组，定位的就是低端，主板接口、插槽都比较少，价格也相对低廉，，适合入门或者是预算较低的电脑玩家，比如H110、H310、H410、H510等芯片组主板，这类主板一般都是搭载G系列的奔腾、赛扬等处理器工作；</p></li><li><p>B代表的是商用芯片组，定位是中端，做工与质量要比H开头的芯片组要好，主要适用于商用办公人群，这类主板一般都是搭配I3、I5之列的CPU进行工作；</p></li><li><p>Z开头的芯片组主板代表的是高端，做工用料都比较好，一般都支持超频，是游戏玩家的首选，Z系列一般都是搭载I7、I9系列的处理器进行工作</p></li><li><p>一般情况下接口相同的CPU芯片组两代中第一代性能与HB出，第二代与BZ出，例如12/13代CPU芯片组主要有H610/B660/Z690、 B760/Z790。</p></li></ul><p>PCH(Platform Controller Hub)表示南桥芯片的通道，独显通道走的北桥/CPU直连。PCH和外设扩展相关。</p><ul><li>实际内存可以插的个数为通道数x2</li><li>支持的南桥PCIe接口扩展版本看芯片说明<strong>PCI Express 修订版</strong></li><li><a href="https://www.mydrivers.com/zhuanti/tianti/cpu/index_intel.html#11thcore">Intel处理器规格表</a></li></ul><table><thead><tr><th>芯片组</th><th>PCIe通道(PCH)</th><th>最大PCIe通道数</th><th>内存通道</th></tr></thead><tbody><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/82012/intel-z97-chipset/specifications.html">Z97</a></td><td>PCIe2x8</td><td>8</td><td>2</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/218829/intel-h610-chipset/specifications.html">H610</a></td><td>PCIe3x12</td><td>12</td><td>1</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/218832/intel-b660-chipset/specifications.html">B660</a></td><td>PCIe4x6 PCIe3x8</td><td>14</td><td>2</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/218833/intel-z690-chipset/specifications.html">Z690</a></td><td>PCIe4x12 PCIe3x16</td><td>28</td><td>2</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/229719/intel-b760-chipset/specifications.html">B760</a></td><td>PCIe4x10 PCIe3x4</td><td>14</td><td>2</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/229721/intel-z790-chipset/specifications.html">Z790</a></td><td>PCIe4x20 PCIe3x8</td><td>28</td><td>2</td></tr></tbody></table><h3 id="CPU具体型号">CPU具体型号</h3><table><thead><tr><th>CPU型号</th><th>PCH</th><th>最大PCIe通道数</th><th>主频/睿频GHz</th><th>核心线程</th><th>娱乐大师跑分</th><th>内存支持</th><th>基础功耗/睿频功耗(W)</th></tr></thead><tbody><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/80811/intel-core-i54690k-processor-6m-cache-up-to-3-90-ghz/specifications.html">i5 4690K</a></td><td>1x16, 2x8, 1x8+2x4</td><td>16</td><td>3.5/3.9</td><td>2+0/4</td><td></td><td></td><td>88</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/132223/intel-core-i312100f-processor-12m-cache-up-to-4-30-ghz/specifications.html">i3 12100F</a></td><td>1x16+4, 2x8+4</td><td>20</td><td>3.3/4.3</td><td>4+0/8</td><td>434433</td><td>DDR5 4800<br />DDR4 3200 MT/s</td><td>58/89</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/134587/intel-core-i512400f-processor-18m-cache-up-to-4-40-ghz/specifications.html">i5 12400F</a></td><td></td><td></td><td></td><td>6+0/12</td><td>527418</td><td></td><td>65/117</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/230576/intel-core-i313100f-processor-12m-cache-up-to-4-50-ghz/specifications.html">i3 13100F</a></td><td>1x16+4, 2x8+4</td><td>20</td><td></td><td>4+0/8</td><td>459785</td><td>DDR5 4800 <br/>DDR4 3200 MT/s</td><td>58/89</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/134588/intel-core-i512490f-processor-20m-cache-up-to-4-60-ghz/specifications.html">i5 13490F</a></td><td>1x16+4, 2x8+4</td><td>20</td><td></td><td>6+4/16</td><td>691935</td><td>DDR5 4800 <br/>DDR4 3200 MT/s</td><td>65/148</td></tr><tr><td><a href="https://www.intel.cn/content/www/cn/zh/products/sku/230494/intel-core-i513600kf-processor-24m-cache-up-to-5-10-ghz/specifications.html">i5 13600KF</a></td><td>1x16+4, 2x8+4</td><td>20</td><td></td><td>6+8/20</td><td>887667</td><td>DDR4 3200<br />DDR5 5600</td><td>125/181</td></tr></tbody></table><p><img src="https://pic3.zhimg.com/80/v2-af6ea8729a0e22af136a9bf8bd21902e_1440w.webp" alt=""></p><h2 id="USB">USB</h2><table><thead><tr><th>标准</th><th>带宽</th><th>理论传输速度</th><th>发布时间</th></tr></thead><tbody><tr><td>USB1.0</td><td>1.5Mbps</td><td></td><td>1996</td></tr><tr><td>UBS2.0</td><td>480Mbps</td><td>60MB/s</td><td>2000</td></tr><tr><td>USB3.0=USB3.1 Gen1=USB3.2 Gen1</td><td>5Gbps</td><td>633MB/s</td><td>2008</td></tr><tr><td>USB3.1 Gen2=USB3.2 Gen2</td><td>10Gbps</td><td>1.25GB/s</td><td>2013</td></tr><tr><td>USB3.2 Gen2x2</td><td>20Gbps</td><td>2.5GB/s</td><td>2017</td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><p><img src="https://pic2.zhimg.com/v2-15b63f95070936988db9e26fe8130035_b.webp" alt="USB速度对比"></p><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 硬件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Typora的使用和配置</title>
      <link href="/2023/05/24/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-24-Typora/"/>
      <url>/2023/05/24/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-24-Typora/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h2 id="设置">设置</h2><h3 id="外观">外观</h3><p>推荐主题：Drake Vue3<br>字体大小：15<br>允许折叠大纲</p><h2 id="修改快捷键">修改快捷键</h2><h4 id="Windows">Windows</h4><p>用户配置文件 <code>~\AppData\Roaming\Typora\conf\conf.user.json</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** For advanced users. */</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;defaultFontFamily&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;standard&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> <span class="comment">//String - Defaults to &quot;Times New Roman&quot;.</span></span><br><span class="line">    <span class="attr">&quot;serif&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> <span class="comment">// String - Defaults to &quot;Times New Roman&quot;.</span></span><br><span class="line">    <span class="attr">&quot;sansSerif&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> <span class="comment">// String - Defaults to &quot;Arial&quot;.</span></span><br><span class="line">    <span class="attr">&quot;monospace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span> <span class="comment">// String - Defaults to &quot;Courier New&quot;.</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;autoHideMenuBar&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//Boolean - Auto hide the menu bar unless the `Alt` key is pressed. Default is false.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array - Search Service user can access from context menu after a range of text is selected. Each item is formatted as [caption, url]</span></span><br><span class="line">  <span class="attr">&quot;searchService&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">[</span><span class="string">&quot;Search with Google&quot;</span><span class="punctuation">,</span> <span class="string">&quot;https://google.com/search?q=%s&quot;</span><span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Custom key binding, which will override the default ones.</span></span><br><span class="line">  <span class="comment">// see https://support.typora.io/Shortcut-Keys/#windows--linux for detail</span></span><br><span class="line">  <span class="attr">&quot;keyBinding&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// for example: </span></span><br><span class="line">    <span class="comment">// &quot;Always on Top&quot;: &quot;Ctrl+Shift+P&quot;</span></span><br><span class="line">    <span class="comment">// All other options are the menu items &#x27;text label&#x27; displayed from each typora menu</span></span><br><span class="line">    <span class="attr">&quot;Code&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Ctrl+K&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Hyperlink&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Ctrl+Shift+L&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Toggle Sidebar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Ctrl+Shift+S&quot;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;monocolorEmoji&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//default false. Only work for Windows</span></span><br><span class="line">  <span class="attr">&quot;maxFetchCountOnFileList&quot;</span><span class="punctuation">:</span> <span class="number">500</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;flags&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span> <span class="comment">// default [], append Chrome launch flags, e.g: [[&quot;disable-gpu&quot;], [&quot;host-rules&quot;, &quot;MAP * 127.0.0.1&quot;]]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="修改回车换两行">修改回车换两行</h2><p><a href="https://www.zhihu.com/question/442780696">修改回车换两行</a></p><ul><li>进入主题文件夹，找到你想修改的主题的css文件，用记事本打开。</li><li>找到<code>p,</code>，把后面的数值改成0 0 0rem，保存，退出。</li><li>重启typora，进入刚才修改的主题，你会发现只按回车，也变成单行换行了。</li></ul><p>比如drake主题在455行有</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">table</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="built_in">var</span>(--p-spacing) <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改之后为</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">0rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">dl</span>, <span class="selector-tag">table</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="built_in">var</span>(--p-spacing) <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="主题配色修改">主题配色修改</h3><p><a href="https://blog.csdn.net/qq_46106285/article/details/104732197">Typora中主题css修改</a></p><h4 id="Drake主题修改">Drake主题修改</h4><p><strong>加粗颜色</strong>：–strong-color</p><p><u>高亮</u>：</p><p><a href="">链接下划线</a>：–drake-highlight</p><blockquote><p>引用</p></blockquote><p>行内代码：<code>inline code</code></p><h2 id="Blue-Topza">Blue Topza</h2><h1>H1 #96c22e</h1><h2 id="H2-4cb148">H2 #4cb148</h2><h3 id="H3-3abbbb">H3 #3abbbb</h3><h4 id="H4-75a2e6">H4 #75a2e6</h4><h5 id="H5-b296f3">H5 #b296f3</h5><h6 id="H6-eaa5f8">H6 #eaa5f8</h6><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows常用软件</title>
      <link href="/2023/05/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-23-windows%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/"/>
      <url>/2023/05/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-23-windows%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><h2 id="exe">exe</h2><ul><li>Everything</li><li>QuickLook</li></ul><p><a href="https://zhuanlan.zhihu.com/p/66377147">系统监控软件</a></p><ul><li>GamePP</li><li>OpenHardwareMonitor</li><li>TrafficMonitor</li><li>WiseSystemMonitor</li></ul><h3 id="FTP工具">FTP工具</h3><p><a href="https://www.filezilla.cn">FileZilla</a></p><h3 id="Office">Office</h3><h4 id="office2021">office2021</h4><p>Microsoft Office 2021 ProPlus 专业增强版 简体中文版：<a href="https://officecdn.microsoft.com/pr/492350f6-3a01-4f97-b9c0-c7c6ddf67d60/media/zh-cn/ProPlus2021Retail.img">ProPlus2021Retail.img</a></p><p>Microsoft Visio 2021 Pro 专业版 简体中文版：<a href="https://officecdn.microsoft.com/pr/492350f6-3a01-4f97-b9c0-c7c6ddf67d60/media/zh-cn/VisioPro2021Retail.img">VisioPro2021Retail</a></p><p>Microsoft Project 2021 Pro 专业版 简体中文版：<a href="https://officecdn.microsoft.com/pr/492350f6-3a01-4f97-b9c0-c7c6ddf67d60/media/zh-cn/ProjectPro2021Retail.img">ProjectPro2021Retail</a></p><p>IMG格式的镜像文件在Windows 10~11里可以直接使用资源管理器挂载和打开，亦可使用7-Zip进行解压和提取，打开后直接运行根目录的Setup.exe即可安装。</p><h3 id="GIF">GIF</h3><p><a href="https://soft.3dmgame.com/down/173746.html">GifCam</a></p><h3 id="TextEditor">TextEditor</h3><ul><li>Notepad++</li><li>emditor</li></ul><h2 id="UMP">UMP</h2><p><a href="https://www.zhihu.com/question/402645956">2020好用的UMP软件</a><br><a href="https://zhuanlan.zhihu.com/p/83303028">24 款超好用的 UWP 应用打包送给你</a></p><ul><li>Notepads</li><li>Markdown Lite</li><li>QQ音乐</li><li>网易云音乐</li><li>Speedtest</li><li>Rx文件管理器</li><li>ACG播放器</li><li>哔哩哔哩UMP</li><li>动态主题</li><li>Grover Podcast</li><li>8Zip</li></ul><h2 id="Windows-Apps-SDK">Windows Apps SDK</h2><h2 id="参考文献">参考文献</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>威力同步</title>
      <link href="/2023/05/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-21-%E5%A8%81%E5%8A%9B%E5%90%8C%E6%AD%A5/"/>
      <url>/2023/05/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-05-21-%E5%A8%81%E5%8A%9B%E5%90%8C%E6%AD%A5/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p>因为 exFAT 磁盘无法直接同步到 115 网盘，所以通过威力同步，将数据先同步到 Openwrt，再从 Openwrt 同步到 Alist 网盘（需要先将 115 通过 CloudMount 或者 RaiDirve 挂在为本地磁盘，建议 MacOS 通过 CloudMount 备份到 115，Windows 通过 RaiDrive 备份到 123 网盘），直接保证了数据的双重备份。</p><h2 id="私有云盘同步说明">私有云盘同步说明</h2><h3 id="私有云盘-iMacPro">私有云盘-----&gt;iMacPro</h3><table><thead><tr><th>私有云盘路径</th><th>iMacPro 路径</th><th>扫描间隔</th><th>说明</th></tr></thead><tbody><tr><td>/mnt/sda1/config</td><td>/Volumes/CS/200-私有云盘同步/Kingston/config</td><td>1000 小时/42 天</td><td>普通插件配置文件包括 AList、kodexplorer、威力同步</td></tr><tr><td>/mnt/sda1/docker</td><td>/Volumes/CS/200-私有云盘同步/Kingston/docker</td><td>1000 小时/42 天</td><td>docker 容器和镜像信息,因为数据大且易变廉价，不用经常备份，建议手动备份</td></tr><tr><td>/mnt/sda1/kodexplorer</td><td>/Volumes/CS/200-私有云盘同步/Kingston/kodexplorer</td><td>1000 小时/42 天</td><td>可道云生成文件，作用未知</td></tr></tbody></table><h3 id="iMacPro-私有云盘">iMacPro&lt;----&gt;私有云盘</h3><table><thead><tr><th>iMacPro 路径</th><th>私有云盘路径</th><th>扫描间隔</th><th>说明</th></tr></thead><tbody><tr><td>iCloud/Blog/conansteve/source/_posts/Notebooks</td><td>/mnt/sda1/Documents/Notebooks</td><td>1 小时、开机扫描</td><td>Notebooks</td></tr><tr><td>iCloud 云盘</td><td>/mnt/sda1/Documents/iCloud/</td><td>1 小时、开机扫描</td><td>iCloud 云盘</td></tr><tr><td>exFAT</td><td>/mnt/sda1/Documents/exFAT</td><td>1 小时、开机扫描</td><td>自由云盘数据仓库</td></tr></tbody></table><h2 id="已删除">已删除</h2><h3 id="iMacPro-私有云盘-2">iMacPro-----&gt;私有云盘</h3><p>已全部删除</p><table><thead><tr><th>说明</th><th>iMacPro 路径</th><th>私有云盘路径</th><th>扫描间隔</th></tr></thead><tbody><tr><td>003-Softs</td><td>/Volumes/exFAT/003-Softs</td><td>/mnt/sda1/Documents/exFAT/003-Softs</td><td>100 小时/4.2 天</td></tr></tbody></table><h3 id=""></h3><h3 id="私有云盘-115-网盘">私有云盘-----&gt;115 网盘</h3><table><thead><tr><th>说明</th><th>私有云盘路径</th><th>115 网盘路径</th><th>扫描间隔</th></tr></thead><tbody><tr><td>Notebooks</td><td>~/200-私有云盘同步/sda1</td><td>/Users/fan/.CMVolumes/AList/115 网盘/200-私有云盘同步/sda1</td><td>100 小时</td></tr></tbody></table><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>labuladong算法</title>
      <link href="/2023/05/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%AE%97%E6%B3%95/2023-03-10-labuladong%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
      <url>/2023/05/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%AE%97%E6%B3%95/2023-03-10-labuladong%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="思维">思维</h2><h3 id="二维数组旋转">二维数组旋转</h3><p><a href="https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-48c1d/er-wei-shu-150fb/">https://labuladong.gitee.io/algo/di-yi-zhan-da78c/shou-ba-sh-48c1d/er-wei-shu-150fb/</a></p><ul><li>顺时针旋转：<code>\</code>对角线翻转，再水平翻转</li><li>逆时针旋转：<code>/</code>对角线翻转，再水平翻转。</li></ul><h3 id="二叉树">二叉树</h3><p>动归/DFS/回溯算法都可以看做二叉树问题的扩展，只是它们的关注点不同：</p><ul><li>动态规划算法属于分解问题的思路，它的关注点在整棵「子树」。</li><li>回溯算法属于遍历的思路，它的关注点在节点间的「树枝」。</li><li>DFS 算法属于遍历的思路，它的关注点在单个「节点」。</li></ul><h2 id="Code">Code</h2><h3 id="回溯算法">回溯算法</h3><blockquote><p>组合子集用<code>start</code>，额外传参<code>i+1</code><br>排列用<code>used</code>，不用额外传参</p></blockquote><ol><li>形式一、元素无重不可复选，即 <code>nums</code> 中的元素都是唯一的，每个元素最多只能被使用一次，<code>backtrack</code> 核心代码如下：</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 回溯算法标准框架</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="comment">// 注意参数</span></span><br><span class="line">        <span class="built_in">backtrack</span>(nums, i + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 剪枝逻辑</span></span><br><span class="line">        <span class="keyword">if</span> (used[i]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        used[i] = <span class="literal">true</span>;</span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="built_in">backtrack</span>(nums);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">        used[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>元素可重不可复选，即 <code>nums</code> 中的元素可以存在重复，每个元素最多只能被使用一次，其关键在于排序和剪枝，<code>backtrack</code> 核心代码如下：</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 组合/子集问题回溯算法框架 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//回溯算法标准框架</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 剪枝逻辑，跳过值相同的相邻树枝</span></span><br><span class="line">        <span class="keyword">if</span> (i &gt; start &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="comment">// 注意参数</span></span><br><span class="line">        <span class="built_in">backtrack</span>(nums, i + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 排列问题回溯算法框架 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">bool</span>&gt;&amp; used)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 剪枝逻辑</span></span><br><span class="line">        <span class="keyword">if</span> (used[i]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 剪枝逻辑，固定相同的元素在排列中的相对位置</span></span><br><span class="line">        <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>] &amp;&amp; !used[i - <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        used[i] = <span class="literal">true</span>;</span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">backtrack</span>(nums, used);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">        used[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>元素无重可复选，即 <code>nums</code> 中的元素都是唯一的，每个元素可以被使用若干次，只要删掉去重逻辑即可，<code>backtrack</code> 核心代码如下：</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 组合/子集问题回溯算法框架 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> start, vector&lt;<span class="type">int</span>&gt;&amp; track)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 回溯算法标准框架</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="comment">// 注意参数</span></span><br><span class="line">        <span class="built_in">backtrack</span>(nums, i+<span class="number">1</span>, track);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 排列问题回溯算法框架 */</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">backtrack</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, vector&lt;<span class="type">int</span>&gt;&amp; track)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (track.<span class="built_in">size</span>() == nums.<span class="built_in">size</span>()) &#123;</span><br><span class="line">        <span class="comment">// 输出结果</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; nums.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        <span class="comment">// 排除不合法的选择</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">find</span>(track.<span class="built_in">begin</span>(), track.<span class="built_in">end</span>(), nums[i]) != track.<span class="built_in">end</span>()) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 做选择</span></span><br><span class="line">        track.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="built_in">backtrack</span>(nums, track);</span><br><span class="line">        <span class="comment">// 撤销选择</span></span><br><span class="line">        track.<span class="built_in">pop_back</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="BFS">BFS</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算从起点 start 到终点 target 的最近距离</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">BFS</span><span class="params">(Node start, Node target)</span> </span>&#123;</span><br><span class="line">    queue&lt;Node&gt; q; <span class="comment">// 核心数据结构</span></span><br><span class="line">    unordered_set&lt;Node&gt; visited; <span class="comment">// 避免走回头路</span></span><br><span class="line">    </span><br><span class="line">    q.<span class="built_in">push</span>(start); <span class="comment">// 将起点加入队列</span></span><br><span class="line">    visited.<span class="built_in">insert</span>(start);</span><br><span class="line">    <span class="type">int</span> step = <span class="number">0</span>; <span class="comment">// 记录扩散的步数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="type">int</span> sz = q.<span class="built_in">size</span>();</span><br><span class="line">        <span class="comment">/* 将当前队列中的所有节点向四周扩散 */</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; sz; i++) &#123;</span><br><span class="line">            Node cur = q.<span class="built_in">front</span>();</span><br><span class="line">            q.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="comment">/* 划重点：这里判断是否到达终点 */</span></span><br><span class="line">            <span class="keyword">if</span> (cur == target)</span><br><span class="line">                <span class="keyword">return</span> step;</span><br><span class="line">            <span class="comment">/* 将 cur 的相邻节点加入队列 */</span></span><br><span class="line">            <span class="keyword">for</span> (Node x : cur.<span class="built_in">adj</span>()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (visited.<span class="built_in">count</span>(x) == <span class="number">0</span>) &#123;</span><br><span class="line">                    q.<span class="built_in">push</span>(x);</span><br><span class="line">                    visited.<span class="built_in">insert</span>(x);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/* 划重点：更新步数在这里 */</span></span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="二分法模板">二分法模板</h3><blockquote><p>前面代码完全一致，只有后面三行代码不同。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基础二分查找</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">binary_search</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>, right = nums.<span class="built_in">size</span>() - <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>; </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(nums[mid] == target) &#123;</span><br><span class="line">            <span class="comment">// 直接返回</span></span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 直接返回</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找左边界</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">left_bound</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>, right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            <span class="comment">// 别返回，锁定左侧边界</span></span><br><span class="line">            right = mid - <span class="number">1</span>; <span class="comment">// 因退出循环条件时，right+1=left,所以假如只有一个值符合，那么最后的left正好是这个索引，即答案。</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 判断 target 是否存在于 nums 中</span></span><br><span class="line">    <span class="comment">// 此时 target 比所有数都大，返回 -1</span></span><br><span class="line">    <span class="comment">// </span></span><br><span class="line">    <span class="keyword">if</span> (left == nums.<span class="built_in">size</span>()) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">// 判断一下 nums[left] 是不是 target</span></span><br><span class="line">    <span class="keyword">return</span> nums[left] == target ? left : <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找右边界</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">right_bound</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; nums, <span class="type">int</span> target)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> left = <span class="number">0</span>, right = nums.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="type">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">            right = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">            <span class="comment">// 别返回，锁定右侧边界</span></span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 此时 left - 1 索引越界</span></span><br><span class="line">    <span class="keyword">if</span> (right ==<span class="number">-1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">// 判断一下 nums[left] 是不是 target</span></span><br><span class="line">    <span class="keyword">return</span> nums[right] == target ? right : <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="滑动窗口模板">滑动窗口模板</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">checkInclusion</span><span class="params">(string s1, string s2)</span> </span>&#123;<span class="comment">//s1为子串</span></span><br><span class="line">        unordered_map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; need,window;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> ch : s1) need[ch]++;</span><br><span class="line">        <span class="type">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> valid=<span class="number">0</span>; </span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; rt;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(right&lt;s2.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="type">char</span> cur=s2[right];</span><br><span class="line">            right++;</span><br><span class="line">            <span class="keyword">if</span>(need.<span class="built_in">count</span>(cur))&#123; <span class="comment">//属于子串字符</span></span><br><span class="line">                window[cur]++;</span><br><span class="line">                <span class="keyword">if</span>(window[cur]==need[cur]) valid++; </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//如果窗口不定长，建议用while，有时候if会出错</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">//窗口定长</span></span><br><span class="line">            <span class="keyword">while</span>(right-left&gt;=s1.<span class="built_in">size</span>())&#123;</span><br><span class="line">                <span class="keyword">if</span>(valid==need.<span class="built_in">size</span>())&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="type">char</span> d=s2[left];</span><br><span class="line">                left++;</span><br><span class="line">                <span class="keyword">if</span>(need.<span class="built_in">count</span>(d))&#123;<span class="comment">//属于子串字符</span></span><br><span class="line">                    <span class="keyword">if</span>(window[d]==need[d]) valid--;</span><br><span class="line">                    window[d]--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>固态硬盘</title>
      <link href="/2023/05/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-19-SSD/"/>
      <url>/2023/05/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/2023-05-19-SSD/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p><a href="https://zhuanlan.zhihu.com/p/396745362?utm_campaign=shareopn&amp;utm_medium=social&amp;utm_oi=1087686085076647936&amp;utm_psn=1643186118911741952&amp;utm_source=wechat_session%09">硬盘科普，M.2，PCI-E，NVMe 傻傻分不清</a><br><a href="https://www.bilibili.com/read/cv16268022">固态硬盘（ssd）中的原厂颗粒，白片，自封片是什么？</a></p><ol><li>物理接口(相当于通讯中的电，光口)</li></ol><blockquote><ul><li>SATA：专门跑SATA通道的那个物理接口</li><li>M.2：专门跑PCI-E通道的那个物理接口</li></ul></blockquote><ol start="2"><li>通道（相当于通讯协议中的应用层以下所有层）</li></ol><blockquote><ul><li>PCI-E通道：速率丰富，适合各种不同速率要求的硬件，上至显卡，下至声卡，最新推出标准如PCI-E 5.0，同一标准下，可通过物理接口划分不同速率，如PCI-E X1,X4,X8,X16,X32,速率依次上升。</li><li>SATA通道：以前用于接硬盘，光驱（是吗？）</li><li>SAS通道：企业级别硬盘用的通道</li><li>FC通道：光纤通道</li></ul></blockquote><ol start="3"><li>协议</li></ol><blockquote><ul><li>IDE协议：机械硬盘时代，用于数据操作，传输的协议</li><li>AHCI协议：仍然是机械硬盘时代的主流数据传输协议，例如使用SATA通道。优化后的，效率相比IDE提升10-30%</li><li>NVMe协议: 由于机械硬盘和固态硬盘的工作模式发生巨大变化，需要一种全新的针对固态的传输层协议，NVMe因运而生，据说就是很牛皮呐，各种新特性，设计是跑在PCI-E通道上的。当然固态硬盘也是可以在AHCI协议上正常工作的。总之NVMe是个牛皮的东西，像在数据中心，据查有个NVMe控制器可以充分利用各个服务器自带的硬盘，实现统一编排，共享存储，废盘利用。</li></ul></blockquote><p><a href="https://www.zhihu.com/question/20448164">硬盘格式对比</a></p><ul><li>APFS：优点：可靠，安全。对配合苹果电脑使用友好。缺点：不兼容Windows系统。</li><li>NTFS：优点：采用日志式，稳定安全，Windows系统使用友好，是主流格式。缺点：苹果电脑只支持读，想要写需要买驱动软件。</li><li>ExFAT：优点：对Windows和MAC格式都兼容，对闪存SSD硬盘优化更好。缺点：机械硬盘用这格式数据容易丢。</li></ul><blockquote><p>数据安全可靠度：APFS=NTFS &gt; ExFAT<br>数据传输便捷度：ExFAT &gt; NTFS &gt; APFS</p></blockquote><h2 id="购买建议">购买建议</h2><h3 id="颗粒">颗粒</h3><p><a href="https://www.zhihu.com/tardis/zm/art/166162142">这些硬盘不要买！2023那些不推荐的固态硬盘</a></p><p><img src="https://pic1.zhimg.com/v2-114152436ba049d8625b2fdc06596ac4_b.webp?consumer=ZHI_MENG" alt=""></p><p><img src="https://pic3.zhimg.com/v2-0b5fdb824b9fc7c6407ef9f224f56752_b.webp?consumer=ZHI_MENG" alt=""></p><p><a href="https://zhuanlan.zhihu.com/p/54722345">固态硬盘里常说的黑片白片是什么？</a><br><a href="https://www.zhihu.com/question/493919707">为何要选择原厂出品的固态硬盘</a><br><img src="https://picx.zhimg.com/80/v2-78f266c6054bfd2e25bb7215ad28aff6_1440w.webp?source=1940ef5c" alt="颗粒厂家"></p><p>能制造颗粒厂家：<strong>三星</strong>、Intel、<strong>西部数据</strong>、<strong>镁光（英睿达）</strong>、<strong>东芝（铠侠）</strong>、海力士、<strong>长江存储（致钛）</strong><br>消费级SSD品牌（操作系统盘强推）：<strong>三星</strong>、<strong>海力士</strong>、<strong>西部数据</strong>、<strong>铠侠</strong>、<strong>长江存储</strong>。</p><blockquote><p>原片：三星、Intel、金士顿、西部数据、大多数英睿达、闪迪、东芝、浦科特、希捷、建兴、部分影驰</p><p>白片：阿斯加特、部分英睿达、光威、部分惠普、部分威刚、金百达、金盛维、海康威视、部分台电、铭瑄、ShineDisk(不是闪迪)、宇瞻、部分影驰、部分金士顿</p><p>黑片：七彩虹、金泰克、金邦、士必得、部分台电、部分联想</p></blockquote><h2 id="测速软件">测速软件</h2><p>Mac：AmorphousDiskMark</p><p>Windows：ASSD-Benchmark、DiskMark</p><p>Linux：<a href="https://www.jianshu.com/p/1cf0e2e6dd6f">在 Linux 上检测硬盘速度</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install hdparm</span><br><span class="line">hdparm -tT /dev/sda</span><br></pre></td></tr></table></figure><h3 id="缓存">缓存</h3><p><a href="https://zhuanlan.zhihu.com/p/557898991?utm_campaign=shareopn&amp;utm_medium=social&amp;utm_oi=1087686085076647936&amp;utm_psn=1645589769504788480&amp;utm_source=wechat_session">实测丨SSD固态硬盘推荐/值得购买的型号有哪些，真实性能测试</a></p><p>固态硬盘有两个比较重要的缓存概念，一种是dram缓存，一种是SLC模拟缓存。两种概念直接影响固态硬盘的性能表现</p><p><strong>DRAM缓存</strong></p><p>FTL闪存映射表好比固态硬盘数据的目录，dram缓存就是FTL的容器，那么在调取数据时通过FTL就可以很快的读取数据，写入数据也可以快速的安排新的目录页码。较好的固态硬盘基本都会安排独立的DRAM缓存。</p><p><strong>HMB</strong></p><p>有独立dram自然就有无dram技术，HMB技术就是调用电脑内存，将FTL存入内存中，这样的好处是省钱，但是性能上饶了一圈，自然会略差一点。</p><p><strong>SLC模拟缓存</strong></p><p>很多看不懂，我就这么说，SLC缓存越大越好，你们看到的什么7000、6000字样的数据，都是SLC缓存内的数据读写。那么只要SLC缓存够大，能够保持高速读写的数据也就越大，这个很好理解。SLC缓存虽然提高了固态的性能，但是固态硬盘会在空闲时间将SLC缓存内的数据搬运，以施放SLC空间，<strong>这也就导致了SLC缓存的存在降低了固态硬盘的寿命，是把双刃剑</strong>。</p><h2 id="各版本PCIe吞吐速度：">各版本PCIe吞吐速度：</h2><table><thead><tr><th>PCIe版本</th><th>行代码</th><th>传输速率</th><th>x1</th><th>x2</th><th>x4</th><th>x8</th><th>x16</th><th>发布时间</th><th>首次商用</th></tr></thead><tbody><tr><td>1.0</td><td>8b/10b</td><td>2.5GT/s</td><td>250MB/s</td><td>500MB/s</td><td>1GB/s</td><td>2GB/s</td><td>2GB/s</td><td>2003</td><td></td></tr><tr><td>2.0</td><td>8b/10b</td><td>5GT/s</td><td>500MB/s</td><td>1GB/s</td><td>2GB/s</td><td>4GB/s</td><td>8GB/s</td><td>2007</td><td></td></tr><tr><td>3.0</td><td>128b/130b</td><td>8GT/s</td><td>1GB/s</td><td>2GB/s</td><td>4GB/s</td><td>8GB/s</td><td>16GB/s</td><td>2010</td><td></td></tr><tr><td>4.0</td><td>128b/130b</td><td>16GT/s</td><td>2GB/s</td><td>4GB/s</td><td>8GB/s</td><td>16GB/s</td><td>32GB/s</td><td>2017</td><td>2019</td></tr><tr><td>5.0</td><td>128b/130b</td><td>32GT/s</td><td>4GB/s</td><td>8GB/s</td><td>16GB/s</td><td>32GB/s</td><td>64GB/s</td><td>2019</td><td></td></tr><tr><td>6.0</td><td></td><td></td><td>8GB/s</td><td></td><td></td><td></td><td></td><td>2022</td><td></td></tr><tr><td>7.0</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="硬盘信息">硬盘信息</h2><table><thead><tr><th>型号</th><th>接口</th><th>通道</th><th>容量</th><th>缓存</th><th>颗粒或转速</th><th>TBW</th><th>温度</th><th>顺序读M/s</th><th>顺序写M/s</th><th>随机读4K IOPS</th><th>随机写4K IOPS</th><th>macOS实测读 M/s</th><th>macOS实测写M/s</th><th>windows实测写读M/s</th><th>windows实测写速度 M/s</th><th>4KQ1T1读 IOPS</th><th>4KQ1T1写IOPS</th><th>链接</th></tr></thead><tbody><tr><td>SATA固态：</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>三星860QVO</td><td>SATA3</td><td>SATA3</td><td>1T</td><td>1G</td><td>三星QLC</td><td>360T</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>553</td><td>516</td><td>23</td><td>84</td><td></td></tr><tr><td>金士顿V300</td><td>SATA3</td><td>SATA3</td><td>240G</td><td>无</td><td>东芝MLC</td><td></td><td></td><td>191</td><td>142</td><td></td><td></td><td>485</td><td>134</td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/779349.html">https://item.jd.com/779349.html</a></td></tr><tr><td>梵想S100Pro</td><td>SATA3</td><td>SATA3</td><td>1T</td><td>无</td><td>长江TLC</td><td>600T</td><td>48</td><td>560</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/100040499476.html">https://item.jd.com/100040499476.html</a></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Nvme固态：</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>金士顿 NV1</td><td>M2</td><td>PCIe3x4</td><td>1T</td><td>无</td><td>QLC</td><td>240T</td><td></td><td>2100</td><td>1700</td><td></td><td></td><td>740 x2</td><td>708 x2</td><td>1356 x4</td><td>1281 x4</td><td>45 10.8K</td><td>106 48K</td><td><a href="https://item.jd.com/100020082478.html">https://item.jd.com/100020082478.html</a></td></tr><tr><td>西数SN570</td><td>M2</td><td>PCIe3x4</td><td>1T</td><td>无</td><td>TLC</td><td>600T</td><td></td><td>3500</td><td>3000</td><td>460K</td><td>450K</td><td>1436 x4 792 x2</td><td>1288 x4 782 x2</td><td>1396 x4</td><td>1294 x4</td><td>34</td><td>105</td><td><a href="https://item.jd.com/100028004984.html">https://item.jd.com/100028004984.html</a></td></tr><tr><td>西数SN850X</td><td>M2</td><td>PCIe4x4</td><td>1T</td><td>1G</td><td>TLC</td><td>600T</td><td></td><td>7300</td><td>6300</td><td>800K</td><td>1200K</td><td></td><td></td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/100032374669.html">https://item.jd.com/100032374669.html</a></td></tr><tr><td>西数SN850X</td><td>M2</td><td>PCIe4x4</td><td>2T</td><td>2G</td><td>TLC</td><td>1200T</td><td></td><td>7300</td><td>6600</td><td>1100K</td><td>1100K</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>海力士P44Pro</td><td>M2</td><td>PCIe4x4</td><td>1T</td><td>1G</td><td>TLC</td><td>750T</td><td></td><td>7000</td><td>6500</td><td>1400K</td><td>1300K</td><td></td><td></td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/100044462459.html">https://item.jd.com/100044462459.html</a></td></tr><tr><td>海力士P44Pro</td><td>M2</td><td>PCIe4x4</td><td>2T</td><td>2G</td><td>TLC</td><td>1200T</td><td></td><td>7000</td><td>6500</td><td>1400K</td><td>1300K</td><td></td><td></td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/100044462459.html">https://item.jd.com/100044462459.html</a></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>机械硬盘：</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>希捷移动1ST2000LM003</td><td>USB3.0</td><td>SATA</td><td>2T</td><td></td><td>5400</td><td></td><td></td><td></td><td></td><td></td><td></td><td>118</td><td>115</td><td>122</td><td>128</td><td></td><td></td><td><a href="https://item.jd.com/1021900.html">https://item.jd.com/1021900.html</a></td></tr><tr><td>西部数据WDC WD40EZAZ</td><td>SATA3</td><td>SATA3</td><td>4T</td><td>256M</td><td>5400</td><td></td><td></td><td></td><td></td><td></td><td></td><td>487</td><td>139</td><td></td><td></td><td></td><td></td><td><a href="https://item.jd.com/100010508835.html">https://item.jd.com/100010508835.html</a></td></tr><tr><td>希捷ST2000DM001</td><td>SATA3</td><td>SATA3</td><td>4T</td><td></td><td>7200</td><td></td><td></td><td>210</td><td></td><td></td><td></td><td></td><td></td><td>205</td><td>161</td><td>0.39</td><td>1.01</td><td><a href="https://item.jd.com/1040024.html">https://item.jd.com/1040024.html</a></td></tr></tbody></table><blockquote><p>顺序读写是读写大文件<br>4K是指随机读写4kb小文件<br>IOPS是指每秒妙访问IO次数。数值和读写小文件相关。</p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/611768153">深入浅出SSD：一文读懂顺序读写、随机读写、4K读写、IOPS值等，值得一读的科普文</a></p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/477887/1684498025995-211b7788-110f-42a4-8a9a-521125c6a7f0.png#averageHue=%23c4d3e6&amp;clientId=u273813a2-e954-4&amp;from=paste&amp;id=u2604855e&amp;originHeight=337&amp;originWidth=720&amp;originalType=url&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=189517&amp;status=done&amp;style=none&amp;taskId=uafcc736b-ee12-487b-b742-66fa91859cc&amp;title=" alt="image.png"></p><p><img src="https://cdn.nlark.com/yuque/0/2023/png/477887/1684498026677-9248f76d-7a73-4373-b0b5-ba340fe24008.png#averageHue=%23182834&amp;clientId=u273813a2-e954-4&amp;from=paste&amp;id=u2eb183b2&amp;originHeight=960&amp;originWidth=742&amp;originalType=url&amp;ratio=1.5&amp;rotation=0&amp;showTitle=false&amp;size=751074&amp;status=done&amp;style=none&amp;taskId=u6b0038ef-dee9-40d3-8d99-21c62d431a2&amp;title=" alt="image.png"></p><h2 id="参考文献">参考文献</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/158787199?utm_campaign=shareopn&amp;utm_medium=social&amp;utm_oi=1087686085076647936&amp;utm_psn=1643061154300534784&amp;utm_source=wechat_session">把 macOS 装在移动硬盘或U盘里</a></li><li><a href="https://zhuanlan.zhihu.com/p/464501973">然天一百盘天梯图</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 硬件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 硬件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Zerotier</title>
      <link href="/2023/04/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-23-Zerotier/"/>
      <url>/2023/04/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-23-Zerotier/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p>实测，自建服务器延迟未测，感觉比frp高，但是显示传输数据速度比frp速度快2倍左右，实际VPS8M带宽浏览2K30FPS视频流畅度Frp流畅度几乎一样。</p><p>常用命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zerotier-cli peers # 显示节点</span><br><span class="line">zerottier-cli listpeers # 同上</span><br><span class="line">zerotier-cli join 🆔 # 加入网络</span><br><span class="line">zerotier-cli listnetworks # 显示所有网络</span><br></pre></td></tr></table></figure><h3 id="客户端安装">客户端安装</h3><ul><li><p>windows和mac可在<a href="https://www.zerotier.com/download/">官网下载</a></p></li><li><p>Linux通过命令行安装</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://install.zerotier.com/ | sudo bash</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">确认安装成功</span></span><br><span class="line">zerotier-cli info</span><br><span class="line"></span><br><span class="line">zerotier-cli join 网络🆔</span><br></pre></td></tr></table></figure><h2 id="自建服务器">自建服务器</h2><h3 id="自建卫星服务器，比较慢，不推荐">自建卫星服务器，比较慢，不推荐</h3><p>停止服务：<code>systemctl status zerotier-one</code><br><a href="https://elmagnifico.tech/2023/02/04/Zerotier-Moon/">ZeroTier使用自建Moon服务器加速</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/lib/zerotier-one</span><br></pre></td></tr></table></figure><h3 id="自建根服务器">自建根服务器</h3><p>VPN网络完全自控<br><a href="https://post.smzdm.com/p/apxkx2m7/">自建行星服务器</a><br><a href="https://www.mrdoc.fun/doc/443/">Gitee使用说明</a></p><ul><li>先保证<code>docker-compose</code>可用</li><li>运行命令：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Jonnyan404/zerotier-planet</span><br><span class="line">OR</span><br><span class="line">git clone https://gitee.com/Jonnyan404/zerotier-planet</span><br><span class="line">cd zerotier-planet</span><br></pre></td></tr></table></figure><ul><li>修改文件<code>docker-compose.yaml</code>文件中的服务器IP为当前VPS地址，密码修改为自己的</li><li>执行命令，创建容器，创建planet和moon。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br><span class="line">docker cp mkmoonworld-x86_64 ztncui:/tmp</span><br><span class="line">docker cp patch.sh ztncui:/tmp</span><br><span class="line">docker exec -it ztncui bash /tmp/patch.sh</span><br><span class="line">docker restart ztncui</span><br></pre></td></tr></table></figure><ul><li>保证4000、9993端口开放，从3180端口下载planet文件,或者直接服务器当前目录的相对目录<code>./ztncui/etc/myfs/</code>下载</li><li>将文件复制进客户端指定目录。</li></ul><blockquote><p>windows：C:\ProgramData\Zerotier\One<br>Mac：/Library/Application Support/ZeroTier/One/<br>Linux：/var/lib/zerotier-one/<br>分别进入指定的目录，执行以下命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Mac</span></span><br><span class="line">cd &quot;/Library/Application Support/ZeroTier/One/&quot;</span><br><span class="line">sudo mv planet planet-backup</span><br><span class="line">sudo cp ~/Downloads/planet ./</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">或者</span></span><br><span class="line">cd </span><br><span class="line">sudo mv &quot;/Library/Application Support/ZeroTier/One/planet&quot; &quot;/Library/Application Support/ZeroTier/One/planet-backup&quot;</span><br><span class="line">sudo cp planet &quot;/Library/Application Support/ZeroTier/One&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Ubuntu</span></span><br><span class="line">cd &quot;/var/lib/ZeroTier/One/&quot;</span><br><span class="line">sudo mv planet planet-backup</span><br><span class="line">sudo cp ~/Downloads/planet ./</span><br></pre></td></tr></table></figure></blockquote><ul><li>重启服务<code>Zerotier-one</code>，</li></ul><blockquote><p>Windows：任务管理器里面重启<br>Linux：<code>systemctl restart zerotier-one</code></p></blockquote><ul><li>加入私有网络：<code>zerotier-cli join 🆔</code></li></ul><blockquote><p>windows需要用管理员权限打开终端</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd C:\windows\system32\</span><br><span class="line">zerotier-cli.bat join 🆔</span><br></pre></td></tr></table></figure></blockquote><ul><li><strong>加入之后，还需要去服务器管理界面确认客户端权限。客户端才能使用。</strong></li></ul><p>私有行星🆔：48e57a5d0455f284<br><code>zerotier-cli join 48e57a5d0455f284</code><br>账号：admin<br>密码：18855536552</p><p>设置Openwrt</p><p>开启NAT，服务器管理添加路由</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202309201757864.png" alt=""></p><p>创建接口Zerotier</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202309201802424.png" alt="image-20230920180157054"></p><h3 id="其它注意事项">其它注意事项</h3><ol><li>客户端如果之前加入过网络，中间换了客户端，生成了不同的节点🆔，再次加入不了的话，需要在服务器管理界面删除之前的节点信息，才能重新加入。</li></ol><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>btrfs文件系统</title>
      <link href="/2023/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2023-04-21-btrfs/"/>
      <url>/2023/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2023-04-21-btrfs/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h3 id="格式化">格式化</h3><p><a href="https://wwtyrd.com/article/482156/">如何在 Ubuntu 上使用 Btrfs 安装和格式化分区？</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install btrfs-progs</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> _未分类_ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> _未分类_ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>可道云</title>
      <link href="/2023/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-20-KodBox/"/>
      <url>/2023/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-20-KodBox/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="安卓部署">安卓部署</h2><h3 id="docker安装">docker安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mac</span></span><br><span class="line">mkdir /Users/fan/opt/docker-data/Kodbox</span><br><span class="line">mkdir /Users/fan/opt/docker-data/Kodbox/data</span><br><span class="line">docker run -d --restart=no \</span><br><span class="line">            -p 6602:80 \</span><br><span class="line">            -v /Users/fan/opt/docker-data/Kodbox/var/www/html:/var/www/html \</span><br><span class="line">            --name=kodbox \</span><br><span class="line">            kodcloud/kodbox</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>docker-compose</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3.5&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">db:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mariadb</span></span><br><span class="line">    <span class="attr">command:</span> <span class="string">--transaction-isolation=READ-COMMITTED</span> <span class="string">--binlog-format=ROW</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;./db:/var/lib/mysql&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;./mysql-init-files:/docker-entrypoint-initdb.d&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;TZ=Asia/Shanghai&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_ROOT_PASSWORD=&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_DATABASE_FILE=/run/secrets/mysql_db&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_USER_FILE=/run/secrets/mysql_user&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_PASSWORD_FILE=/run/secrets/mysql_password&quot;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">secrets:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_password</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_user</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">app:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">kodcloud/kodbox</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br><span class="line">    <span class="attr">links:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;./data:/var/www/html&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_SERVER=db&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_DATABASE_FILE=/run/secrets/mysql_db&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_USER_FILE=/run/secrets/mysql_user&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;MYSQL_PASSWORD_FILE=/run/secrets/mysql_password&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;SESSION_HOST=redis&quot;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line">    <span class="attr">secrets:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_db</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_password</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">mysql_user</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">redis:alpine</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;TZ=Asia/Shanghai&quot;</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span></span><br><span class="line"></span><br><span class="line"><span class="attr">secrets:</span></span><br><span class="line">  <span class="attr">mysql_db:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">&quot;./mysql_db.txt&quot;</span></span><br><span class="line">  <span class="attr">mysql_password:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">&quot;./mysql_password.txt&quot;</span></span><br><span class="line">  <span class="attr">mysql_user:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">&quot;./mysql_user.txt&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NextCloud</title>
      <link href="/2023/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-20-NextCloud/"/>
      <url>/2023/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-20-NextCloud/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h3 id="docker安装">docker安装</h3><p><a href="https://zhuanlan.zhihu.com/p/107820215">基于Docker安装nextcloud</a></p><h4 id="Openwrtd">Openwrtd</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装mysql</span></span><br><span class="line">docker run -d --name mysql \</span><br><span class="line">    --restart always \</span><br><span class="line">    --privileged=true \</span><br><span class="line">    -v /mnt/sda1/docker-data/mariadb-10.7/var/lib/mysql:/var/lib/mysql \</span><br><span class="line">    -v /mnt/sda1/docker-data/mariadb-10.7/etc/mysql:/etc/mysql \</span><br><span class="line">    -v /mnt/sda1/docker-data/mariadb-10.7/logs:/logs \</span><br><span class="line">    -e MYSQL_ROOT_PASSWORD=1212 \</span><br><span class="line">    -e MYSQL_DATABASE=nextcloud \</span><br><span class="line">    -e MYSQL_USER=zhangfan \</span><br><span class="line">    -e MYSQL_PASSWORD=1212 \</span><br><span class="line">    -p 3306:3306 \</span><br><span class="line">    mariadb:10.7</span><br><span class="line">    </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装nextcloud</span>   </span><br><span class="line">docker run -d --name nextcloud \</span><br><span class="line">    --restart always \</span><br><span class="line">    -v /mnt/sda1/docker-data/nextcloud:/var/www/html \</span><br><span class="line">    --link mysql:mysql \</span><br><span class="line">    -p 6606:80 \</span><br><span class="line">    nextcloud</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意，注册时，数据库地址直接填mysql，不要填IP:port</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure><h4 id="mac">mac</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name mysql \</span><br><span class="line">    --restart no \</span><br><span class="line">    -v /Users/fan/opt/docker-data/mysql/var/lib/mysql:/var/lib/mysql \</span><br><span class="line">    -e MYSQL_ROOT_PASSWORD=1212 \</span><br><span class="line">    -e MYSQL_DATABASE=nextcloud \</span><br><span class="line">    -e MYSQL_USER=zhangfan \</span><br><span class="line">    -e MYSQL_PASSWORD=1212 \</span><br><span class="line">    -p 3306:3306 \</span><br><span class="line">    mysql:8.0</span><br><span class="line">    </span><br><span class="line"> docker run -d --name nextcloud \</span><br><span class="line">    --restart no \</span><br><span class="line">    -v /Users/fan/opt/docker-data/nextcloud:/var/www/html \</span><br><span class="line">    --link mysql:mysql \</span><br><span class="line">    -p 6606:80 \</span><br><span class="line">    nextcloud   </span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"> # </span><span class="language-bash">升级直接删除容器，，拉取最新版镜像，同样的命令重新创建一下容器</span></span><br><span class="line">    </span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenWrt的安装使用</title>
      <link href="/2023/04/16/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-16-OpenWrt%202/"/>
      <url>/2023/04/16/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-16-OpenWrt%202/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p><a href="https://openwrt.org/zh/downloads">openwrt.org官网固件</a></p><p><strong>注意</strong></p><blockquote><p>Openwrt界面很多数据修改了并不会生效，甚至造成系统文件错误，所以最好用命令行来执行。</p></blockquote><h2 id="固件下载">固件下载</h2><p><a href="https://lidrive.vip/">x86版</a></p><h2 id=""></h2><h2 id="常用命令">常用命令</h2><p><strong>注意</strong></p><blockquote><p>app配置文件一般在<code>/etc/config/</code>文件夹下</p><p>系统服务和任务启动脚本在<code>/etc/init.d/</code>文件夹下</p></blockquote><p><a href="https://blog.csdn.net/maosm007/article/details/118767465%09">OpenWRT19.07_命令行_重拨wan_重启路由</a><br>查看cpu信息：<code>cat /proc/cpuinfo</code><br>查看已安装包信息：<code>cat /usr/lib/opkg/status</code><br>查看架构信息：<code>opkg print-architecture</code> ，在<code>/etc/opkg.conf</code>文件中<br>重启网络：<code>/etc/init.d/network restart</code><br>重载网络配置：<code>/etc/init.d/network reload</code><br>修改网络配置文件：<code>vim /etc/config/network</code><br>修改无线网络配置文件：<code>vim /etc/config/wireless</code><br>查看防火墙状态：<code>/etc/init.d/firewall status</code><br>关闭防火墙：<code>/etc/init.d/firewall disable</code> <code>/etc/init.d/firewall stop</code><br>开启防火墙：<code>/etc/init.d/firewall enable</code><br>重启：<code>reboot</code><br>关机： <code>poweroff</code></p><h2 id="安装教程">安装教程</h2><h3 id="ophub版安装步骤">ophub版安装步骤</h3><p>修改网络配置文件，将IP设置为<code>192.168.1.3</code>只要不是1，就可以访问.<br>修改网络配置文件：<code>vim /etc/config/network</code><br>重载网络配置：<code>/etc/init.d/network reload</code><br>关闭软路由dhcp功能。<br><strong>添加默认dns：192.168.1.1，否则无法更新包。</strong></p><h4 id="默认配置文件">默认配置文件</h4><p><code>/etc/config/network</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">config interface &#x27;loopback&#x27;</span><br><span class="line">option device &#x27;lo&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;127.0.0.1&#x27;</span><br><span class="line">option netmask &#x27;255.0.0.0&#x27;</span><br><span class="line"></span><br><span class="line">config globals &#x27;globals&#x27;</span><br><span class="line">option ula_prefix &#x27;fdef:7a32:9e49::/48&#x27;</span><br><span class="line"></span><br><span class="line">config device</span><br><span class="line">option name &#x27;br-lan&#x27;</span><br><span class="line">option type &#x27;bridge&#x27;</span><br><span class="line">list ports &#x27;eth0&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;lan&#x27;</span><br><span class="line">option device &#x27;br-lan&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;192.168.1.5&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line">option ip6assign &#x27;60&#x27;</span><br><span class="line">option gateway &#x27;192.168.1.1&#x27;</span><br><span class="line">list dns &#x27;192.168.1.1&#x27; # 可选dns</span><br><span class="line">list dns &#x27;114.114.114.114&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;docker&#x27;</span><br><span class="line">option device &#x27;docker0&#x27;</span><br><span class="line">option proto &#x27;none&#x27;</span><br><span class="line">option auto &#x27;0&#x27;</span><br><span class="line"></span><br><span class="line">config device</span><br><span class="line">option type &#x27;bridge&#x27;</span><br><span class="line">option name &#x27;docker0&#x27;</span><br></pre></td></tr></table></figure><p><code>/etc/config/wireless</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">config wifi-device &#x27;radio0&#x27;</span><br><span class="line">option type &#x27;mac80211&#x27;</span><br><span class="line">option path &#x27;platform/soc/ffe03000.sd/mmc_host/mmc0/mmc0:0001/mmc0:0001:1&#x27;</span><br><span class="line">option channel &#x27;36&#x27;</span><br><span class="line">option band &#x27;5g&#x27;</span><br><span class="line">option htmode &#x27;VHT80&#x27;</span><br><span class="line">option disabled &#x27;1&#x27;</span><br><span class="line"></span><br><span class="line">config wifi-iface &#x27;default_radio0&#x27;</span><br><span class="line">option device &#x27;radio0&#x27;</span><br><span class="line">option network &#x27;lan&#x27;</span><br><span class="line">option mode &#x27;ap&#x27;</span><br><span class="line">option ssid &#x27;OpenWrt&#x27;</span><br><span class="line">option encryption &#x27;none&#x27;</span><br></pre></td></tr></table></figure><h4 id="安装openclash">安装openclash</h4><p><a href="https://blog.csdn.net/u010857736/article/details/123543325">解决OpenWrt下安装插件缺少依赖、架构不兼容、依赖冲突的问题</a><br>官方源版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://downloads.openwrt.org/snapshots/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://downloads.openwrt.org/snapshots/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/openwrt/">将官方源换为清华源</a>：<br><code>sed -i 's_downloads.openwrt.org_mirrors.tuna.tsinghua.edu.cn/openwrt_' /etc/opkg/distfeeds.conf</code><br>将清华源换为官方源：<br><code>sed -i 's_downloads.openwrt.org_downloads.openwrt.org_' /etc/opkg/distfeeds.conf</code><br><a href="https://cloud.tencent.com/developer/article/2232818">参考</a><br><a href="https://blog.csdn.net/xs18952904/article/details/124600025">参考</a><br>一、 安装依赖</p><ol><li>卸载 <code>dnsmasq</code>，因为默认的不完整，需要安装<code>dnsmasq-full</code></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">opkg remove dnsmasq</span><br><span class="line">mv /etc/config/dhcp /etc/config/dhcp.bak</span><br></pre></td></tr></table></figure><ol start="2"><li>安装依赖（除了 luci-compat）</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">opkg install luci luci-base iptables dnsmasq-full coreutils coreutils-nohup bash curl jsonfilter ca-certificates ipset ip-full iptables-mod-tproxy kmod-tun luci-compat</span><br></pre></td></tr></table></figure><pre><code>⁃</code></pre><h3 id="Flippy版安装步骤">Flippy版安装步骤</h3><p><a href="https://blog.csdn.net/bigcarp/article/details/129395326">HK1 box安装openwrt</a></p><p>修改网络配置文件，将IP设置为<code>192.168.1.3</code>只要不是1，就可以访问</p><h4 id="桥接模式">桥接模式</h4><p><strong>注意：此模式下，界面操作可能配置文件并不生效，导致主（手动设置软路由）旁网络都无法上网，需要手动修改配置文件，使用命令<code>/etc/init.d/network reload</code>重载网络，或者多试几次。</strong></p><ul><li>连接S905X3旁路由wifi，可以直接科学上网；连接主路由DHCP正常上网，手动设置IP和DNS，可以科学上网。详细配置如下：</li></ul><blockquote><p>打开桥接模式，接口选择以太网适配器<code>eth0</code>和无线网络。<br>关闭旁路由DHCP，打开iPad会间歇性断联<br>苹果系设备连接旁路由WiFi不稳定，或者直接连接不上旁路由WiFi，但是可以通过连接主路由WiFi，手动设置固定IP和DNS(192.168.1.1)。</p></blockquote><p>可以使用的配置具体如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">config interface &#x27;loopback&#x27;</span><br><span class="line">option ifname &#x27;lo&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;127.0.0.1&#x27;</span><br><span class="line">option netmask &#x27;255.0.0.0&#x27;</span><br><span class="line"></span><br><span class="line">config globals &#x27;globals&#x27;</span><br><span class="line">option ula_prefix &#x27;fd80:a441:42c3::/48&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;lan&#x27;</span><br><span class="line">option ifname &#x27;eth0&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;192.168.1.3&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line">option ip6assign &#x27;60&#x27;</span><br><span class="line">option delegate &#x27;0&#x27;</span><br><span class="line">option gateway &#x27;192.168.1.1&#x27;</span><br><span class="line">option broadcast &#x27;192.168.1.255&#x27;</span><br><span class="line">option dns &#x27;192.168.1.1&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;VPN&#x27;</span><br><span class="line">option ifname &#x27;ipsec0&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;10.10.10.1&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;vpn0&#x27;</span><br><span class="line">option ifname &#x27;tun0&#x27;</span><br><span class="line">option proto &#x27;none&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;docker&#x27;</span><br><span class="line">option ifname &#x27;docker0&#x27;</span><br><span class="line">option proto &#x27;none&#x27;</span><br><span class="line">option auto &#x27;0&#x27;</span><br><span class="line"></span><br><span class="line">config device</span><br><span class="line">option type &#x27;bridge&#x27;</span><br><span class="line">option name &#x27;docker0&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304162141598.png" alt=""><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304162144860.png" alt=""><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304171925580.png" alt=""></p><h4 id="非桥接模式">非桥接模式</h4><p><strong>注意</strong></p><blockquote><ol><li>网络配置DNS需要添加114，否则网速测试软件用不了。</li></ol></blockquote><p>可行配置文件如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">config interface &#x27;loopback&#x27;</span><br><span class="line">option ifname &#x27;lo&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;127.0.0.1&#x27;</span><br><span class="line">option netmask &#x27;255.0.0.0&#x27;</span><br><span class="line"></span><br><span class="line">config globals &#x27;globals&#x27;</span><br><span class="line">option ula_prefix &#x27;fd1c:5910:ec02::/48&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;lan&#x27;</span><br><span class="line">option ifname &#x27;eth0&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;192.168.1.8&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line">option ip6assign &#x27;60&#x27;</span><br><span class="line">option gateway &#x27;192.168.1.1&#x27;</span><br><span class="line">option broadcast &#x27;192.168.1.255&#x27;</span><br><span class="line">option dns &#x27;192.168.1.1 114.114.114.114&#x27;</span><br><span class="line">option delegate &#x27;0&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;VPN&#x27;</span><br><span class="line">option ifname &#x27;ipsec0&#x27;</span><br><span class="line">option proto &#x27;static&#x27;</span><br><span class="line">option ipaddr &#x27;10.10.10.1&#x27;</span><br><span class="line">option netmask &#x27;255.255.255.0&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;vpn0&#x27;</span><br><span class="line">option ifname &#x27;tun0&#x27;</span><br><span class="line">option proto &#x27;none&#x27;</span><br><span class="line"></span><br><span class="line">config interface &#x27;docker&#x27;</span><br><span class="line">option ifname &#x27;docker0&#x27;</span><br><span class="line">option proto &#x27;none&#x27;</span><br><span class="line">option auto &#x27;0&#x27;</span><br><span class="line"></span><br><span class="line">config device</span><br><span class="line">option type &#x27;bridge&#x27;</span><br><span class="line">option name &#x27;docker0&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304181603673.png" alt=""><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304181601296.png" alt=""></p><h4 id="默认配置">默认配置</h4><p><code>/etc/config/network</code>默认配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;loopback&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;lo&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.0.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">globals</span> <span class="string">&#x27;globals&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ula_prefix</span> <span class="string">&#x27;fd29:2fa8:af1f::/48&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;lan&#x27;</span></span><br><span class="line">   <span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;bridge&#x27;</span> <span class="comment">#删除取消桥接</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span> <span class="comment">#协议类型</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;192.168.1.3&#x27;</span> <span class="comment">#ip地址</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.255.255.0&#x27;</span> <span class="comment">#子网掩码</span></span><br><span class="line"><span class="string">option</span> <span class="string">ip6assign</span> <span class="string">&#x27;60&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">broadcast</span> <span class="string">&#x27;192.168.1.255&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">_orig_ifname</span> <span class="string">&#x27;eth0 wlan0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">_orig_bridge</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">dns</span> <span class="string">&#x27;192.168.1.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">gateway</span> <span class="string">&#x27;192.168.1.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">delegate</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;eth0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;VPN&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;ipsec0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;static&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ipaddr</span> <span class="string">&#x27;10.10.10.1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">netmask</span> <span class="string">&#x27;255.255.255.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;vpn0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;tun0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;none&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">interface</span> <span class="string">&#x27;docker&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ifname</span> <span class="string">&#x27;docker0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">proto</span> <span class="string">&#x27;none&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">auto</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">device</span></span><br><span class="line"><span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;bridge&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">name</span> <span class="string">&#x27;docker0&#x27;</span></span><br></pre></td></tr></table></figure><p><code>/etc/config/wireless</code>默认配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">config</span> <span class="string">wifi-device</span> <span class="string">&#x27;radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">type</span> <span class="string">&#x27;mac80211&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">hwmode</span> <span class="string">&#x27;11a&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">path</span> <span class="string">&#x27;platform/soc/ffe03000.sd/mmc_host/mmc0/mmc0:0001/mmc0:0001:1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">country</span> <span class="string">&#x27;CN&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">legacy_rates</span> <span class="string">&#x27;1&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">mu_beamformer</span> <span class="string">&#x27;0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">band</span> <span class="string">&#x27;5g&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">channel</span> <span class="string">&#x27;36&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">htmode</span> <span class="string">&#x27;VHT80&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">config</span> <span class="string">wifi-iface</span> <span class="string">&#x27;default_radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">device</span> <span class="string">&#x27;radio0&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">mode</span> <span class="string">&#x27;ap&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">ssid</span> <span class="string">&#x27;S905X3&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">encryption</span> <span class="string">&#x27;psk2&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">key</span> <span class="string">&#x27;123654789&#x27;</span> <span class="comment">#密码</span></span><br><span class="line"><span class="string">option</span> <span class="string">network</span> <span class="string">&#x27;lan&#x27;</span></span><br><span class="line"><span class="string">option</span> <span class="string">disabled</span> <span class="string">&#x27;1&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="armbian安装Openwrt">armbian安装Openwrt</h3><p><strong>千万不能多开openwrt，否则开机启动不了网络，只能重装系统</strong></p><blockquote><p>如果多开不要使用同一个虚拟网卡，可能没问题，暂时未测试。<br><a href="https://www.jianshu.com/p/a44d06dfd37e">armbian安装openwrt</a><br><a href="https://zhuanlan.zhihu.com/p/112484256">OpenWrt中，旁路由的设置与使用</a><br>可以参考docker镜像<code>piaoyizy/openwrt-aarch64</code>的使用说明<br><strong>主路由设置不需要更改DHCP</strong></p></blockquote><p><code>docker</code>命令行导入镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gunzip -c /opt/openwrt/openwrt.tar.gz | docker load</span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line">docker load &lt; xxx.tar</span><br><span class="line">docker images</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>docker</code>命令行保存镜像</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">直接将容器保存为本地镜像</span></span><br><span class="line">docker ps -a</span><br><span class="line">docker export -o /opt/openwrt/openwrt-arm64-perfect:1.1.tar 2476e6578d9c  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者</span> </span><br><span class="line">docker export 2476e6578d9c &gt; /opt/openwrt/tmp.tar  openwrt-arm64-perfect:1.1</span><br><span class="line">tar -czvf /opt/openwrt/openwrt-arm64-perfect:1.1.tar.gz /opt/openwrt/tmp.tar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将docker 镜像导出为本地文件</span></span><br><span class="line">docker images  # 查看镜像ID</span><br><span class="line">docker save 2f7abc88e74c &gt; save.tar</span><br><span class="line">docker save  | gzip &gt; /opt/openwrt/openwrt-arm64-perfect_1.1.tar.gz</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启网络混合模式</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">需要将命令写入`/etc/rc.local`,否则重启会失效，可能导致系统无法开机，只能重装</span></span><br><span class="line">ip link set eth0 promisc on </span><br><span class="line">ip link set wlan0 promisc on</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建docker虚拟网卡，名称为macnet</span></span><br><span class="line">docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o parent=eth0 macnet</span><br><span class="line"></span><br><span class="line">docker network create -d macvlan --subnet=192.168.1.0/24 --gateway=192.168.1.1 -o parent=wlan0 macnet</span><br><span class="line">docker network rm macnet</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看docker虚拟网卡</span></span><br><span class="line">docker network ls</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导入或者拉取镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">本镜像有问题，停止，导致系统重启和崩溃</span></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged unifreq/openwrt-aarch64:latest /sbin/init</span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged hibuddies/openwrt-aarch64-21.02 /sbin/init</span><br><span class="line"></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged sulinggg/openwrt:armv8 /sbin/init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">来源镜像</span></span><br><span class="line">docker run --restart=on-failure -d --network macnet --privileged unifreq/openwrt-aarch64:latest /sbin/init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">已经配置好的镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">宝塔面板直接创建容器，可以使用</span></span><br><span class="line">docker run --restart on-failure -d --network macnet --privileged openwrt-arm64-perfect:1.0 /sbin/init</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进行openwrt容器终端</span></span><br><span class="line">docker ps</span><br><span class="line">docker exec -it 56c7ae62abea /bin/bash  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vi /etc/config/network </span><br></pre></td></tr></table></figure><p>默认密码<code>password</code></p><p>防火墙-自定义规则<code>iptables -t nat -I POSTROUTING -j MASQUERADE</code></p><p><a href="https://opclash.com/luyou/80.html">openwrt安装openclash</a><br><strong>注意</strong></p><blockquote><p>openwrt无法访问youtube可能是因为浏览器设置了安全DNS，可以试试手机是否可以访问<br>dns设置</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">192.168.1.3</span><br><span class="line">114.114.114.114</span><br></pre></td></tr></table></figure><h3 id="MacOS安装">MacOS安装</h3><p><a href="https://blog.csdn.net/w946612410/article/details/113997146">VMware安装OpenWrt让宿主机上网&amp;旁路由（两种方案）</a></p><h2 id="重新安装Version666">重新安装Version666</h2><ol><li>备份系统配置、iStore配置、zshrc文件，打开威力同步所有项目。</li><li>将系统从sd卡安装到emmc</li><li>修改<code>/etc/config/network</code>，然后<code>/etc/init.d/network reload</code>（修改了TF卡，就省略这一步）</li><li>更换壁纸</li><li>从iStore恢复备份。如果恢复失败，手动安装以下插件</li></ol><blockquote><ul><li>关机</li><li>AList</li><li>易有云</li><li>网心云</li><li>SFTP</li></ul></blockquote><ol start="5"><li>从网页访问Openwrt，上传备份好的配置,等待重启。</li><li>关闭Docker，修改Docker根目录配置文件<code>/etc/docker/daemon.json</code>路径<code>/mnt/sda1/DockerConfig/docker/</code>，重启docker</li><li>手动上传<code>openclash</code>内核，执行</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/openclash/core/</span><br><span class="line"></span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash /etc/openclash/core/</span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash_tun /etc/openclash/core/</span><br><span class="line">cp /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/openclash/KernelRelease/core/clash_meta /etc/openclash/core/</span><br></pre></td></tr></table></figure><ol start="8"><li>执行</li></ol>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install zsh</span><br><span class="line">opkg install python3-pip</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">失败的话就执行</span></span><br><span class="line">opkg install /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/zsh/zsh_5.9-1_aarch64_cortex-a53.ipk </span><br></pre></td></tr></table></figure><ol start="9"><li>更换python源</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/root/.config/pip/pip.conf</span></span><br><span class="line">pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">或者</span></span><br><span class="line">pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure><ol start="6"><li>直接拷贝zsh和oh-my-zsh配置文件，可以省略后三步</li><li>执行命令，安装Oh-my-zsh</li></ol>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/felix-fly/openwrt-ohmyzsh/master/install.sh)&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">失败的话就执行</span></span><br><span class="line">sh /mnt/sda1/Documents/FanCloud/003-Softs/107-Openwrt/101-OpenWrtPackage/oh-my-zsh/install.sh </span><br></pre></td></tr></table></figure><ol start="8"><li>拷贝autojump、zsh-syntax-highlighting、zsh-autosuggestions插件到openwrt，执行</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/.oh-my-zsh/custom/plugins/autojump</span><br><span class="line">python3 ./install.py</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="9"><li>替换<code>~/.zshrc</code>文件</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改</span></span><br><span class="line">export ZSH=&quot;/root/.oh-my-zsh&quot;</span><br><span class="line">ZSH_THEME=&quot;rkj-repos&quot;</span><br><span class="line">plugins=(zsh-syntax-highlighting zsh-autosuggestions)</span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加</span></span><br><span class="line">[[ -s /root/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; source /root/.autojump/etc/profile.d/autojump.sh</span><br><span class="line">alias ss=&quot;sensors&quot;</span><br><span class="line">alias src=&quot;source ~/.zshrc&quot;</span><br><span class="line">alias als=&quot;alias&quot;</span><br><span class="line">alias alsg=&quot;alias |grep&quot;</span><br><span class="line">alias l=&#x27;ls -CF&#x27;</span><br><span class="line">alias la=&#x27;ls -AF&#x27;</span><br><span class="line">alias lsa=&#x27;ls -AF&#x27;</span><br><span class="line">alias ll=&#x27;ls -lhF&#x27;</span><br><span class="line">alias lla=&#x27;ls -lhAF&#x27;</span><br><span class="line">alias lsp=&#x27;ls -plh&#x27;</span><br><span class="line">alias lt=&#x27;ls -lhtF&#x27;</span><br><span class="line">alias lat=&#x27;ls -lhatF&#x27;</span><br></pre></td></tr></table></figure><ol start="10"><li>若使用docker，此步骤跳过。修改/etc/rc.local文件，添加</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh /mnt/sda1/Config/opt/yt-dlp-web-ui/start.sh</span><br></pre></td></tr></table></figure><h2 id="系统优化">系统优化</h2><p><a href="https://www.jianshu.com/p/20881a8b6e02">自定义启动项</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/sh /etc/rc.common</span></span><br><span class="line">START=99</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">start()&#123;</span><br><span class="line">        /mnt/sda1/myapp</span><br><span class="line">&#125;</span><br><span class="line">stop()&#123;</span><br><span class="line">        /mnt/sda1/myapp -s</span><br><span class="line">&#125;</span><br><span class="line">restart()&#123;</span><br><span class="line">       /mnt/sda1/myapp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="-2"></h3><h2 id="插件配置">插件配置</h2><h3 id="argone主体">argone主体</h3><p>默认暗色主色调：#483d8b</p><p>自定义暗色主色调：#268BFE、#1E6FFF</p><h3 id="SmartDNS">SmartDNS</h3><table><thead><tr><th style="text-align:left">名称</th><th>DNS地址</th></tr></thead><tbody><tr><td style="text-align:left">谷歌</td><td>8.8.8.8</td></tr><tr><td style="text-align:left">百度</td><td>180.76.76.76</td></tr><tr><td style="text-align:left">阿里</td><td>223.5.5.5</td></tr><tr><td style="text-align:left">腾讯</td><td>119.29.29.29</td></tr><tr><td style="text-align:left">微软</td><td>4.2.2.2</td></tr><tr><td style="text-align:left">微软</td><td>4.2.2.1</td></tr><tr><td style="text-align:left"></td><td></td></tr><tr><td style="text-align:left"></td><td></td></tr><tr><td style="text-align:left"></td><td></td></tr></tbody></table><h3 id="adgardhome">adgardhome</h3><p><a href="https://www.jianshu.com/p/8167d0f82832">广告测试页面</a></p><h3 id="aria2">aria2</h3><p><a href="https://www.right.com.cn/forum/thread-3770017-1-1.html">aria2配置</a><br><a href="https://blog.csdn.net/zhu378287521/article/details/78363420">无法打开aria</a><br>默认配置文件<code>/etc/config/aria2</code></p><blockquote><p>注意，需要保证配置的文件夹都存在。否则启动不了</p></blockquote><p>手动配置<br><code>aria2c -c –conf-path=/mnt/sda1/Config/etc/aria2/aria2.conf -D</code><br>查看程序是否启动<code>ps |grep aria</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">### docker</span><br><span class="line"></span><br><span class="line">docker运行ubuntu</span><br><span class="line">```shell</span><br><span class="line">docker run -d --restart=always \</span><br><span class="line">                -v /mnt/sda1/docker-data/ubuntu20.04:/opt \</span><br><span class="line">                -p 6601:6601 \</span><br><span class="line">                --name=&quot;ubunut20.04&quot; ubuntu:20.04</span><br></pre></td></tr></table></figure><p><a href="https://www.v2ex.com/t/783236">修改docker根目录</a></p><blockquote><ol><li>先 <code>/etc/init.d/dockerd stop</code> 停止 docker 服务</li><li>再拷贝文件，通过 <code>rsync -av source-path destination-path</code>或者<code>cp -r</code>命令。</li><li>然后再更改 <code>/etc/docker/daemon.json</code> 中的 <code>data-root</code> 字段，改成新的路径。ps: 如果这个 json 文件中没有这个字段，创建即可。如果不成功，就在<code>/etc/config/dockd</code>文件中。最好两者都修改一下。</li><li>看情况把 docker 容器持久化了的配置文件 volumes 的映射的路径也转移一下</li><li>重新启动 docker daemon （ dockerd ) <code>/etc/init.d/dockerd start</code></li></ol></blockquote><h3 id="Ubuntu">Ubuntu</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker run --restart=unless-stopped -d     --dns=172.17.0.1     -u=0:0     --shm-size=512m     -p 6901:6901     -e VNC_PW=1212     -e VNC_USE_HTTP=0  -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"></span><br><span class="line">docker run -d --restart=always --dns=192.168.1.1 -u=0:0 --shm-size=512m -p 6901:6901 -e VNC_PW=1212 -e VNC_USE_HTTP=0 -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"></span><br><span class="line">docker run -d --restart=always --network=host -e VNC_PW=1212 -e VNC_USE_HTTP=0 -e TZ=Asia/Shanghai -v /mnt:/mnt --name ubuntu linkease/desktop-ubuntu-full-arm64:latest</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除容器</span></span><br><span class="line">docker rm ubuntu</span><br></pre></td></tr></table></figure><h3 id="Armbian">Armbian</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull armbian/build:latest</span><br><span class="line">docker run -d --restart=always --network=host -v /mnt:/mnt --name armbian armbian/build:latest</span><br></pre></td></tr></table></figure><h2 id="常用功能">常用功能</h2><h5 id="查看smart6">查看smart6</h5><p><a href="https://blog.eqianzheng.com/archives/129.html">查看硬盘smart信息</a></p><p>openwrt需要安装这两个插件</p><ul><li>smartmontools</li><li>smartmontools-drivedb</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg install smartmontools</span><br><span class="line">opkg install smartmontools-drivedb</span><br><span class="line"></span><br><span class="line">smartctl --all /dev/sda1</span><br><span class="line">smartctl -A /dev/sda1</span><br></pre></td></tr></table></figure><h5 id="自定义目录插件">自定义目录插件</h5><p>这些插件为了以后数据迁移方便，修改了默认配置目录或运行目录，迁移数据钱，需要先停止这些插件。<br><code>xxx</code>为挂载磁盘的文件夹名称。</p><ul><li>alist /mnt/xxx/opt/alist</li><li>可道云 /mnt/xxx/opt/kodexplorer</li><li>微力同步 /mnt/xxx/etc/verysync</li><li>filebrowser /mnt/xxx/opt/filebrowser</li></ul><p><a href="https://book-dl.com/cms/openwrt/QeKo9zLoDNB34gNl.html">升级所有opkg可更新包</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">opkg update</span><br><span class="line">opkg list-upgradable | awk -F &#x27; - &#x27; &#x27;&#123;print $1&#125;&#x27; | xargs opkg upgrade</span><br><span class="line"></span><br><span class="line"># 强置升级</span><br><span class="line">opkg update</span><br><span class="line">opkg list-upgradable | cut -f 1 -d &#x27; &#x27; | xargs opkg upgrade --force-depends</span><br></pre></td></tr></table></figure><p>升级python依赖包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">opkg list-upgradable | grep python3</span><br><span class="line">opkg install xxx</span><br><span class="line"></span><br><span class="line">opkg list-upgradable | grep python3- | cut -f 1 -d &#x27; &#x27; | xargs opkg upgrade</span><br><span class="line"></span><br><span class="line">opkg list-upgradable | grep luci- | cut -f 1 -d &#x27; &#x27; | xargs opkg upgrade</span><br><span class="line"></span><br><span class="line">opkg list-upgradable | grep ssl | cut -f 1 -d &#x27; &#x27; | xargs opkg upgrade</span><br></pre></td></tr></table></figure><h2 id="源">源</h2><h4 id="HK1Rbox">HK1Rbox</h4><p>修改<code>/etc/opkg.conf</code>文件，注释签名检查。<br>源配置文件目录<code>/etc/opkg/</code></p><h5 id="清华源">清华源</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.tuna.tsinghua.edu.cn/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h5 id="腾讯源">腾讯源</h5><h6 id="openwrt-22-03-5">openwrt 22.03.5</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/openwrt/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-snapshots">lede snapshots</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/snapshots/targets/armsr/armv8/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/18.06.9/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-22-03-5">lede 22.03.5</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/releases/22.03.5/targets/armvirt/64/packages</span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/releases/22.03.5/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h6 id="lede-snapshots-默认">lede snapshots 默认</h6><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">src/gz openwrt_OpenAppFilter https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/OpenAppFilter</span><br><span class="line">src/gz openwrt_kenzo https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/kenzo</span><br><span class="line">src/gz openwrt_passwall https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/passwall</span><br><span class="line">src/gz openwrt_core https://mirrors.cloud.tencent.com/lede/snapshots/targets/armvirt/64/packages</span><br><span class="line"></span><br><span class="line">src/gz openwrt_base https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/base</span><br><span class="line">src/gz openwrt_luci https://mirrors.cloud.tencent.com/lede/releases/18.06.9/packages/aarch64_cortex-a53/luci</span><br><span class="line">src/gz openwrt_packages https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/packages</span><br><span class="line">src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/routing</span><br><span class="line">src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/snapshots/packages/aarch64_cortex-a53/telephony</span><br></pre></td></tr></table></figure><h2 id="问题解答">问题解答</h2><h6 id="打不开ttyd">打不开ttyd</h6><p>是因为修改了的网段与编译的初始网段不一致导致，目前问题无解。</p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> _未分类_ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> _未分类_ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>端口转发</title>
      <link href="/2023/04/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2023-04-14-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/"/>
      <url>/2023/04/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2023-04-14-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="端口转发">端口转发</h2><p><a href="https://www.cnblogs.com/gaoyanbing/p/12781544.html">通过iptables进行端口转发</a><br><a href="https://github.com/arloor/iptablesUtils">一键脚本转发github</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/</span><br><span class="line">mkdir natcfg</span><br><span class="line">cd natcfg</span><br><span class="line">wget --no-check-certificate -qO natcfg.sh https://www.arloor.com/sh/iptablesUtils/natcfg.sh &amp;&amp; bash natcfg.sh</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> _未分类_ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> _未分类_ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>filebrowser安装与配置</title>
      <link href="/2023/04/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-14-filebrowser/"/>
      <url>/2023/04/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-14-filebrowser/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h3 id="linux安装filebrowser">linux安装filebrowser</h3><ol><li>安装<br><a href="https://github.com/filebrowser/filebrowser">github</a><br><a href="https://blog.csdn.net/Homewm/article/details/87931165">File Browser 安装及使用（ubuntu16.04）</a></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd ~/opt/</span><br><span class="line">curl -fsSL https://raw.githubusercontent.com/filebrowser/get/master/get.sh | bash</span><br><span class="line">filebrowser -r /path/to/your/files</span><br></pre></td></tr></table></figure><p>如果失败的话，去github下载到指定目录<br>配置如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cd ~/opt/filebrowser/</span><br><span class="line">sudo chmode +x filebrowser</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config init #创建配置数据库</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --address 0.0.0.0 #设置监听地址源为所有地址</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --port 6603 #设置监听端口</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --locale zh-cn #设置语言为中文，可以进入系统后设置 </span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db users add root password --perm.admin #添加用户，其中的root和password分别是用户名和密码</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db #启动filebrowser</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意：启动的根目录文件夹和当前目录相关，所以</span></span><br><span class="line">cd ~/</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db #启动filebrowser</span><br></pre></td></tr></table></figure><p>一键配置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">user</span></span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config init</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --address 0.0.0.0</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --port 6603</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --locale zh-cn</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db users add root 1212 --perm.admin</span><br><span class="line">sudo ~/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --log /var/log/filebrowser.log</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">root</span></span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config init</span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --address 0.0.0.0</span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --port 6603</span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --locale zh-cn</span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db users add root 1212 --perm.admin</span><br><span class="line">/opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db config set --log /var/log/filebrowser.log</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>设置开机自启动<br><code>vim /usr/lib/systemd/system/filebrowser.service</code><br>或者 <code>sudo vim /etc/systemd/system/filebrowser.service</code><br>写入一下配置</li></ol><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="comment"># 服务名称，可自定义</span></span><br><span class="line"><span class="attr">Description</span> = filebrowser</span><br><span class="line"><span class="attr">After</span> = network.target syslog.target</span><br><span class="line"><span class="attr">Wants</span> = network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">Type</span> = simple</span><br><span class="line"><span class="attr">WorkingDirectory</span>=/</span><br><span class="line"><span class="comment"># 启动filebrowser的命令，需修改为您的filebrowser的安装路径</span></span><br><span class="line"><span class="attr">ExecStart</span> = /opt/filebrowser/filebrowser -d /etc/filemanager/filebrowser.db</span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span> = multi-user.target</span><br></pre></td></tr></table></figure><ol start="3"><li>手动启动查看</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable filebrowser #开机自启</span><br><span class="line">sudo systemctl disable filebrowser #关闭开机自启</span><br><span class="line">sudo systemctl start filebrowser #启动服务</span><br><span class="line">sudo systemctl status filebrowser #服务状态</span><br><span class="line">sudo systemctl stop filebrowser #关闭服务</span><br><span class="line">sudo systemctl restart filebrowser #重启服务</span><br></pre></td></tr></table></figure><p>一步</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable filebrowser</span><br><span class="line">sudo systemctl start filebrowser</span><br><span class="line">sudo systemctl status filebrowser</span><br></pre></td></tr></table></figure><ol start="4"><li><a href="https://blog.lincloud.pro/archives/36.html">将webdav挂载进来</a></li></ol><ul><li>安装davfs2<br><code>apt install davfs2 -y</code><br>选择非用户可挂载<code>Yes</code>，后续可以通过<code>dkpg-reconfigure davfs2</code>进行修改.</li><li>创建目录<br><code>mkdir /mnt/cloud</code></li><li>挂载<br><code>sudo mount -t davfs http://127.0.0.1:6601/dav /mnt/cloud</code></li></ul><ol start="5"><li>开机自动挂载</li></ol><ul><li>修改配置davfs2.conf配置文件，将<code>use_locks</code>的1改为0,注意<code>use_locks</code>前面不能有空格，否则可能不生效<br><code>sudo vim /etc/davfs2/davfs2.conf</code></li><li>修改secrets文件，添加账号信息<br><code>vim /etc/davfs2/secrets</code></li><li>在底部添加<br><code>http://127.0.0.1:6601/dav admin 1212</code></li><li>添加开机挂载命令<br><code>sudo vim /etc/rc.local</code><br>末尾添加挂载命令，和挂在U盘一样<br><code>sudo mount -t davfs http://127.0.0.1:6601/dav /mnt/cloud</code><br>Openwrt <a href="https://blog.csdn.net/u013401853/article/details/113094734">davfs挂载与使用缺陷</a><br><code>mount.davfs http://127.0.0.1:6601/dav /mnt/cloud</code></li></ul><h3 id="docker安装">docker安装</h3><p><a href="https://www.cnblogs.com/ltian123/p/15242709.html">docker安装filebrowser</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">armbian</span></span><br><span class="line">docker pull filebrowser/filebrowser</span><br><span class="line">mkdir -p  /opt/filebrowser/data</span><br><span class="line">cd /opt/filebrowser/data</span><br><span class="line">docker run -d --name filebrowser \</span><br><span class="line">                -v /data/filebrowser/sites/root:/srv  \</span><br><span class="line">                -v /data/filebrowser/filebrowserconfig.json:/etc/config.json  \</span><br><span class="line">                -v /data/filebrowser/database.db:/etc/database.db </span><br><span class="line">                -p 6603:80  filebrowser/filebrowser</span><br><span class="line">                </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">mac</span></span><br><span class="line">docker run -d --name filebrowser \</span><br><span class="line">                --restart=no \</span><br><span class="line">                -p 6603:80  \</span><br><span class="line">                -v /Users/fan/opt/docker-data/filebrowser/sites/root:/srv  \</span><br><span class="line">                -v /Users/fan/opt/docker-data/filebrowser/filebrowserconfig.json:/etc/config.json  \</span><br><span class="line">                -v /Users/fan/opt/docker-data/filebrowser/database.db:/etc/database.db \</span><br><span class="line">                filebrowser/filebrowser               </span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-04-12-openclash</title>
      <link href="/2023/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-12-openclash/"/>
      <url>/2023/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-12-openclash/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h3 id="手动更新内核">手动更新内核</h3><p><a href="https://www.right.com.cn/forum/thread-8272767-1-1.html">手动更新内核</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Dev 内核下载: https://github.com/vernesong/OpenClash/releases/tag/Clash  </span><br><span class="line">Tun 内核下载: https://github.com/vernesong/OpenClash/releases/tag/TUN-Premium  </span><br><span class="line">Tun 游戏内核: https://github.com/vernesong/OpenClash/releases/tag/TUN</span><br></pre></td></tr></table></figure><h3 id="openclash旁路由无法访问问题可能得解决办法">openclash旁路由无法访问问题可能得解决办法</h3><p><strong>需要将当前主机的路由器设置为软路由IP才能正确测试，网页显示的是当前主机而不是路由器的网络访问情况</strong></p><ol><li>SmartDNS不要添加google的<code>8.8.4.4</code>。</li></ol><h2 id="无法访问youtube">无法访问youtube</h2><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304121757311.png" alt="1"><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304121759058.png" alt="2"><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304121800479.png" alt="3"><br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304121803001.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304242140743.png" alt="DNS配置"></p><h2 id="Reference">Reference</h2><ul><li><a href="https://github.com/vernesong/OpenClash/issues/458">参考</a></li><li><a href="https://www.right.com.cn/forum/thread-7700934-1-1.html">N1 youtube上不去</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 计算机网络 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-04-12-docker</title>
      <link href="/2023/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-12-docker/"/>
      <url>/2023/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-12-docker/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p><img src="https://img-blog.csdnimg.cn/20210519221516451.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FpYW9zaGF3,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><p>要使用命令行，需要执行<br><code>apt install docker.io</code>或者<code>snap install docker</code></p><h2 id="配置">配置</h2><p><a href="https://blog.csdn.net/wenwenxiong/article/details/78728696">修改Docker配置本地镜像与容器的存储位置</a><br><a href="https://www.v2ex.com/t/783236">openwrt 里 docker 数据迁移问题 更改 Docker Root Dir</a></p><h2 id="安装">安装</h2><h3 id="linux">linux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt install docker docker.io</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"></span><br><span class="line">snap install docker</span><br></pre></td></tr></table></figure><h3 id="docker-compose">docker-compose</h3><p><a href="https://blog.csdn.net/weixin_39589455/article/details/129867945">docker-compose安装，解决Warning: the “docker“ command appears to already exist on this system.3的问题</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -SL https://github.com/docker/compose/releases/download/v2.17.2/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span><br><span class="line">sudo chmod +x /usr/local/bin/docker-compose</span><br><span class="line">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class="line">docker-compose --version</span><br></pre></td></tr></table></figure><h2 id="服务管理">服务管理</h2><h3 id="Openwrt">Openwrt</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/dockerd start</span><br><span class="line">/etc/init.d/dockerd stop</span><br><span class="line">/etc/init.d/dockerd restart</span><br><span class="line">/etc/init.d/dockerd status</span><br></pre></td></tr></table></figure><h3 id="linux-2">linux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h2 id="命令">命令</h2><h3 id="run">run</h3><p><a href="https://www.runoob.com/docker/docker-run-command.html">参数解释</a><br><code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code></p><ul><li>-d：选项是让容器以守护态</li><li>-p： 指定端口映射，格式为：主机(宿主)端口:容器端口</li><li>–volume , -v： 绑定一个卷，前者为宿主文件目录，后者为容器目录</li><li>–restart：no，on-failure[:times]，always，unless-stopped    <a href="https://blog.csdn.net/REX1129/article/details/110115211">说明</a></li></ul><blockquote><p>更新参数为：docker update --restart=always [容器名]</p></blockquote><p>例子：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --restart=always -v /etc/alist:/opt/alist/data -p 5244:5244 -e PUID=0 -e PGID=0 -e UMASK=022 --name=&quot;alist&quot; xhofe/alist:latest</span><br></pre></td></tr></table></figure><h3 id="常见操作">常见操作</h3><table><thead><tr><th>命令</th><th style="text-align:left">说明</th></tr></thead><tbody><tr><td>docker ps</td><td style="text-align:left">查看运行中的容器</td></tr><tr><td>docker images</td><td style="text-align:left">查看镜像</td></tr><tr><td>docker rm 容器id</td><td style="text-align:left">删除指定容器</td></tr><tr><td>docker container update --restart=always 容器id</td><td style="text-align:left"></td></tr><tr><td>docker inspect 容器id</td><td style="text-align:left">查看镜像的元数据</td></tr><tr><td>docker load -i {image_name}.tar</td><td style="text-align:left">导入镜像</td></tr><tr><td>docker save <myimage>:<tag></td><td style="text-align:left">gzip &gt; <myimage>_<tag>.tar.gz</td></tr><tr><td>gunzip -c 文件名.tar.gz</td><td style="text-align:left">docker load</td></tr><tr><td>docker stop 容器id</td><td style="text-align:left">停止当前正在运行的容器</td></tr><tr><td>docker exec -it 44fc0f0582d9 /bin/bash</td><td style="text-align:left">进入容器终端</td></tr><tr><td></td><td style="text-align:left"></td></tr><tr><td></td><td style="text-align:left"></td></tr><tr><td></td><td style="text-align:left"></td></tr><tr><td></td><td style="text-align:left"></td></tr><tr><td></td><td style="text-align:left"></td></tr><tr><td></td><td style="text-align:left"></td></tr></tbody></table><p><a href="https://blog.csdn.net/qq_31066285/article/details/126267993">docker镜像保存加载导入导出</a></p><h4 id="参考">参考</h4><p>docker常用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#info|version</span></span><br><span class="line">docker info       <span class="comment">#显示docker的系统信息，包括镜像和容器的数量</span></span><br><span class="line">docker version    <span class="comment">#显示docker的版本信息。</span></span><br><span class="line"><span class="comment">#帮助命令</span></span><br><span class="line">docker 命令 --<span class="built_in">help</span> <span class="comment">#帮助命令</span></span><br><span class="line"><span class="comment">#镜像命令</span></span><br><span class="line">docker images <span class="comment">#查看所有本地主机上的镜像 可以使用docker image ls代替</span></span><br><span class="line">docker search <span class="comment">#搜索镜像</span></span><br><span class="line">docker pull <span class="comment">#下载镜像 docker image pull</span></span><br><span class="line">docker rmi <span class="comment">#删除镜像 docker image rm</span></span><br><span class="line"><span class="comment">#容器命令</span></span><br><span class="line">docker run 镜像<span class="built_in">id</span> <span class="comment">#新建容器并启动</span></span><br><span class="line">docker ps 列出所有运行的容器 docker container list</span><br><span class="line">docker <span class="built_in">rm</span> 容器<span class="built_in">id</span> <span class="comment">#删除指定容器</span></span><br><span class="line"><span class="comment">#删除所有容器</span></span><br><span class="line">docker <span class="built_in">rm</span> -f $(docker ps -aq)   <span class="comment">#删除所有的容器</span></span><br><span class="line">docker ps -a -q|xargs docker <span class="built_in">rm</span>  <span class="comment">#删除所有的容器</span></span><br><span class="line"><span class="comment">#启动和停止容器</span></span><br><span class="line">docker start 容器<span class="built_in">id</span><span class="comment">#启动容器</span></span><br><span class="line">docker restart 容器<span class="built_in">id</span><span class="comment">#重启容器</span></span><br><span class="line">docker stop 容器<span class="built_in">id</span><span class="comment">#停止当前正在运行的容器</span></span><br><span class="line">docker <span class="built_in">kill</span> 容器<span class="built_in">id</span><span class="comment">#强制停止当前容器</span></span><br><span class="line"><span class="comment">#退出容器</span></span><br><span class="line"><span class="built_in">exit</span> <span class="comment">#容器直接退出</span></span><br><span class="line">ctrl +P +Q  <span class="comment">#容器不停止退出 ---注意：这个很有用的操作</span></span><br><span class="line"><span class="comment">#其他常用命令</span></span><br><span class="line">docker run -d 镜像名  <span class="comment">#后台启动命令</span></span><br><span class="line">docker logs <span class="comment">#查看日志</span></span><br><span class="line">docker top 容器<span class="built_in">id</span> <span class="comment">#查看容器中进程信息ps</span></span><br><span class="line">docker inspect 容器<span class="built_in">id</span>  <span class="comment">#查看镜像的元数据</span></span><br><span class="line">docker <span class="built_in">exec</span> <span class="comment">#进入当前容器后开启一个新的终端，可以在里面操作。（常用）</span></span><br><span class="line">docker attach <span class="comment"># 进入容器正在执行的终端</span></span><br><span class="line">docker <span class="built_in">cp</span> 容器<span class="built_in">id</span>:容器内路径  主机目的路径<span class="comment">#从容器内拷贝到主机上</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>docker命令大全</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">docker attach<span class="comment">#连接到正在运行中的容器</span></span><br><span class="line">docker build<span class="comment">#使用 Dockerfile 创建镜像</span></span><br><span class="line">docker builder<span class="comment">#管理builds</span></span><br><span class="line">    docker builder prune<span class="comment">#清除build缓存</span></span><br><span class="line">docker checkpoint<span class="comment">#管理checkpoints</span></span><br><span class="line">    docker checkpoint create<span class="comment">#从正在运行的容器创建检查点</span></span><br><span class="line">    docker checkpoint <span class="built_in">ls</span><span class="comment">#列出容器的检查点</span></span><br><span class="line">    docker checkpoint <span class="built_in">rm</span><span class="comment">#删除指定的检查点</span></span><br><span class="line">docker commit<span class="comment">#从容器创建一个新的镜像</span></span><br><span class="line">docker config<span class="comment">#管理Docker配置</span></span><br><span class="line">    docker config create<span class="comment">#创建配置文件</span></span><br><span class="line">    docker config inspect<span class="comment">#查看配置文件信息</span></span><br><span class="line">    docker config <span class="built_in">ls</span><span class="comment">#显示docker里已经保存得配置文件</span></span><br><span class="line">    docker config <span class="built_in">rm</span><span class="comment">#删除配置文件</span></span><br><span class="line">docker container<span class="comment">#管理容器</span></span><br><span class="line">    docker container prune<span class="comment">#删除所有已停止的容器</span></span><br><span class="line">docker context<span class="comment">#管理contexts</span></span><br><span class="line">    docker context create<span class="comment">#创建一个上下文</span></span><br><span class="line">    docker context <span class="built_in">export</span><span class="comment">#将上下文导出到tar或kubecconfig文件中</span></span><br><span class="line">    docker context import<span class="comment">#从tar或zip文件导入上下文</span></span><br><span class="line">    docker context inspect<span class="comment">#在一个或多个上下文上显示详细信息</span></span><br><span class="line">    docker context <span class="built_in">ls</span><span class="comment">#列出上下文</span></span><br><span class="line">    docker context <span class="built_in">rm</span><span class="comment">#删除一个或多个上下文</span></span><br><span class="line">    docker context update<span class="comment">#更新</span></span><br><span class="line">    docker context use<span class="comment">#设置当前docker的上下文</span></span><br><span class="line">docker <span class="built_in">cp</span><span class="comment">#用于容器与主机之间的数据拷贝</span></span><br><span class="line">docker create<span class="comment">#创建一个新的容器但不启动它</span></span><br><span class="line">docker diff<span class="comment">#检查容器里文件结构的更改</span></span><br><span class="line">docker events<span class="comment">#从服务器获取实时事件</span></span><br><span class="line">docker <span class="built_in">exec</span><span class="comment">#在运行的容器中执行命令</span></span><br><span class="line">docker <span class="built_in">export</span><span class="comment">#将文件系统作为一个tar归档文件导出到STDOUT</span></span><br><span class="line">docker <span class="built_in">history</span><span class="comment">#查看指定镜像的创建历史</span></span><br><span class="line">docker image<span class="comment">#管理镜像</span></span><br><span class="line">    docker image inspect<span class="comment">#显示一个或多个镜像的元数据</span></span><br><span class="line">    docker image <span class="built_in">ls</span><span class="comment">#列出本地镜像</span></span><br><span class="line">    docker image prune<span class="comment">#删除没有使用的镜像</span></span><br><span class="line">    docker image <span class="built_in">rm</span><span class="comment">#删除一个或多个镜像</span></span><br><span class="line">docker images<span class="comment">#列出本地镜像</span></span><br><span class="line">docker import<span class="comment">#从归档文件中创建镜像</span></span><br><span class="line">docker info<span class="comment">#显示 Docker 系统信息，包括镜像和容器数</span></span><br><span class="line">docker inspect<span class="comment">#获取容器/镜像的元数据</span></span><br><span class="line">docker <span class="built_in">kill</span><span class="comment">#杀掉一个运行中的容器</span></span><br><span class="line">docker load<span class="comment">#导入使用 docker save 命令导出的镜像</span></span><br><span class="line">docker login<span class="comment">#登陆到一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub</span></span><br><span class="line">docker <span class="built_in">logout</span><span class="comment">#登出一个Docker镜像仓库，如果未指定镜像仓库地址，默认为官方仓库 Docker Hub</span></span><br><span class="line">docker logs<span class="comment">#获取容器的日志</span></span><br><span class="line">docker manifest<span class="comment">#管理manifest(实验，不应用于生产环境)</span></span><br><span class="line">    docker manifest annotate<span class="comment">#向本地镜像清单添加附加信息</span></span><br><span class="line">    docker manifest create<span class="comment">#创建用于注释和推入注册表的本地清单列表</span></span><br><span class="line">    docker manifest inspect<span class="comment">#显示镜像清单或清单列表</span></span><br><span class="line">    docker manifest push<span class="comment">#将清单列表推入仓库</span></span><br><span class="line">    docker manifest <span class="built_in">rm</span><span class="comment">#从本地存储中删除一个或多个清单列表</span></span><br><span class="line">docker network<span class="comment">#管理网络</span></span><br><span class="line">    docker network connect<span class="comment">#将容器连接到网络</span></span><br><span class="line">    docker network create<span class="comment">#创建一个网络</span></span><br><span class="line">    docker network disconnect<span class="comment">#断开容器的网络</span></span><br><span class="line">    docker network inspect<span class="comment">#显示一个或多个网络的元数据</span></span><br><span class="line">    docker network <span class="built_in">ls</span><span class="comment">#列出网络</span></span><br><span class="line">    docker network prune<span class="comment">#删除所有没有使用的网络</span></span><br><span class="line">    docker network <span class="built_in">rm</span><span class="comment">#删除一个或多个网络</span></span><br><span class="line">docker node<span class="comment">#管理集群(swarm)节点</span></span><br><span class="line">    docker node demote<span class="comment">#从群集(swarm)管理器中降级一个或多个节点</span></span><br><span class="line">    docker node inspect<span class="comment">#显示一个或多个节点的元数据</span></span><br><span class="line">    docker node <span class="built_in">ls</span><span class="comment">#列出群集(swarm)中的节点</span></span><br><span class="line">    docker node promote<span class="comment">#将一个或多个节点推入到群集管理器中</span></span><br><span class="line">    docker node ps<span class="comment">#列出在一个或多个节点上运行的任务，默认为当前节点</span></span><br><span class="line">    docker node <span class="built_in">rm</span><span class="comment">#从群集(swarm)删除一个或多个节点</span></span><br><span class="line">    docker node update<span class="comment">#更新一个节点</span></span><br><span class="line">docker pause<span class="comment">#暂停容器中所有的进程</span></span><br><span class="line">docker plugin<span class="comment">#管理插件</span></span><br><span class="line">    docker plugin create<span class="comment">#从rootfs和配置创建一个插件。插件数据目录必须包含config.json和rootfs目录。</span></span><br><span class="line">    docker plugin <span class="built_in">disable</span><span class="comment">#禁用插件</span></span><br><span class="line">    docker plugin <span class="built_in">enable</span><span class="comment">#启用插件</span></span><br><span class="line">    docker plugin inspect<span class="comment">#显示一个或多个插件的元数据</span></span><br><span class="line">    docker plugin install<span class="comment">#安装一个插件</span></span><br><span class="line">    docker plugin <span class="built_in">ls</span><span class="comment">#列出所有插件</span></span><br><span class="line">    docker plugin push<span class="comment">#将插件推送到注册表</span></span><br><span class="line">    docker plugin <span class="built_in">rm</span><span class="comment">#删除一个或多个插件</span></span><br><span class="line">    docker plugin <span class="built_in">set</span><span class="comment">#更改插件的设置</span></span><br><span class="line">    docker plugin upgrade<span class="comment">#升级现有插件</span></span><br><span class="line">docker port<span class="comment">#列出指定的容器的端口映射，或者查找将PRIVATE_PORT NAT到面向公众的端口</span></span><br><span class="line">docker ps<span class="comment">#列出容器</span></span><br><span class="line">docker pull<span class="comment">#从镜像仓库中拉取或者更新指定镜像</span></span><br><span class="line">docker push<span class="comment">#将本地的镜像上传到镜像仓库,要先登陆到镜像仓库</span></span><br><span class="line">docker rename<span class="comment">#重命名容器</span></span><br><span class="line">docker restart<span class="comment">#重启容器 </span></span><br><span class="line">docker <span class="built_in">rm</span><span class="comment">#删除一个或多个容器</span></span><br><span class="line">docker rmi<span class="comment">#删除一个或多个镜像</span></span><br><span class="line">docker run<span class="comment">#创建一个新的容器并运行一个命令</span></span><br><span class="line">docker save<span class="comment">#将指定镜像保存成 tar 归档文件</span></span><br><span class="line">docker search<span class="comment">#从Docker Hub查找镜像</span></span><br><span class="line">docker secret<span class="comment">#管理Docker secrets</span></span><br><span class="line">    docker secret create<span class="comment">#从文件或STDIN创建一个秘密作为内容</span></span><br><span class="line">    docker secret inspect<span class="comment">#显示有关一个或多个秘密的详细信息</span></span><br><span class="line">    docker secret <span class="built_in">ls</span><span class="comment">#列出秘密</span></span><br><span class="line">    docker secret <span class="built_in">rm</span><span class="comment">#删除一个或多个秘密</span></span><br><span class="line">docker service<span class="comment">#管理服务</span></span><br><span class="line">    docker service create<span class="comment">#创建一个服务</span></span><br><span class="line">    docker service inspect<span class="comment">#查看服务的元数据</span></span><br><span class="line">    docker service logs<span class="comment">#获取服务的日志</span></span><br><span class="line">    docker service <span class="built_in">ls</span><span class="comment">#列出服务</span></span><br><span class="line">    docker service ps<span class="comment">#列出一个或多个服务的任务</span></span><br><span class="line">    docker service <span class="built_in">rm</span><span class="comment">#删除一个或多个服务</span></span><br><span class="line">    docker service rollback<span class="comment">#将更改恢复到服务的配置</span></span><br><span class="line">    docker service scale<span class="comment">#缩放一个或多个复制服务</span></span><br><span class="line">    docker service update<span class="comment">#更新服务</span></span><br><span class="line">docker stack<span class="comment">#管理堆栈</span></span><br><span class="line">    docker stack deploy<span class="comment">#部署新的堆栈或更新现有堆栈</span></span><br><span class="line">    docker stack <span class="built_in">ls</span><span class="comment">#列出现有堆栈</span></span><br><span class="line">    docker stack ps<span class="comment">#列出堆栈中的任务</span></span><br><span class="line">    docker stack <span class="built_in">rm</span><span class="comment">#删除堆栈</span></span><br><span class="line">    docker stack services<span class="comment">#列出堆栈中的服务</span></span><br><span class="line">docker start<span class="comment">#启动一个或多个已经被停止的容器</span></span><br><span class="line">docker stats<span class="comment">#显示容器的实时流资源使用统计信息</span></span><br><span class="line">docker stop<span class="comment">#停止一个运行中的容器</span></span><br><span class="line">docker swarm<span class="comment">#管理集群(Swarm)</span></span><br><span class="line">    docker swarm ca<span class="comment">#查看或旋转当前群集CA证书。此命令必须针对管理器节点</span></span><br><span class="line">    docker swarm init<span class="comment">#初始化一个群集(Swarm)</span></span><br><span class="line">    docker swarm <span class="built_in">join</span><span class="comment">#加入群集作为节点和/或管理器</span></span><br><span class="line">    docker swarm join-token<span class="comment">#管理加入令牌</span></span><br><span class="line">    docker swarm leave<span class="comment">#离开群集(Swarm)</span></span><br><span class="line">    docker swarm unlock<span class="comment">#解锁群集(Swarm)</span></span><br><span class="line">    docker swarm unlock-key<span class="comment">#管理解锁钥匙</span></span><br><span class="line">    docker swarm update<span class="comment">#更新群集(Swarm)</span></span><br><span class="line">docker system<span class="comment">#管理Docker</span></span><br><span class="line">    docker system <span class="built_in">df</span><span class="comment">#显示docker磁盘使用情况</span></span><br><span class="line">    docker system events<span class="comment">#从服务器获取实时事件</span></span><br><span class="line">    docker system info<span class="comment">#显示系统范围的信息</span></span><br><span class="line">    docker system prune<span class="comment">#删除未使用的数据</span></span><br><span class="line">docker tag<span class="comment">#标记本地镜像，将其归入某一仓库</span></span><br><span class="line">docker top<span class="comment">#查看容器中运行的进程信息，支持 ps 命令参数</span></span><br><span class="line">docker trust<span class="comment">#管理Docker镜像的信任</span></span><br><span class="line">    docker trust inspect<span class="comment">#返回有关key和签名的低级信息</span></span><br><span class="line">    docker trust key<span class="comment">#管理登入Docker镜像的keys</span></span><br><span class="line">    docker trust key generate<span class="comment">#生成并加载签名密钥对</span></span><br><span class="line">docker trust key load<span class="comment">#加载私钥文件以进行签名</span></span><br><span class="line">    docker trust revoke<span class="comment">#删除对镜像的认证</span></span><br><span class="line">    docker trust sign<span class="comment">#镜像签名</span></span><br><span class="line">    docker trust signer<span class="comment">#管理可以登录Docker镜像的实体</span></span><br><span class="line">    docker trust signer add<span class="comment">#新增一个签名者</span></span><br><span class="line">docker trust signer remove<span class="comment">#删除一个签名者</span></span><br><span class="line">docker unpause<span class="comment">#恢复容器中所有的进程</span></span><br><span class="line">docker update<span class="comment">#更新一个或多个容器的配置</span></span><br><span class="line">docker version<span class="comment">#显示 Docker 版本信息</span></span><br><span class="line">docker volume<span class="comment">#管理volumes</span></span><br><span class="line">    docker volume create<span class="comment">#创建一个卷</span></span><br><span class="line">    docker volume inspect<span class="comment">#显示一个或多个卷的元数据</span></span><br><span class="line">    docker volume <span class="built_in">ls</span><span class="comment">#列出卷</span></span><br><span class="line">    docker volume prune<span class="comment">#删除所有未使用的卷</span></span><br><span class="line">    docker volume <span class="built_in">rm</span><span class="comment">#删除一个或多个卷</span></span><br><span class="line">docker <span class="built_in">wait</span><span class="comment">#阻塞运行直到容器停止，然后打印出它的退出代码</span></span><br></pre></td></tr></table></figure><h2 id="常见问题">常见问题</h2><h3 id="openwrt容器无法访问网络">openwrt容器无法访问网络</h3><h4 id="方法一：重建网桥">方法一：重建网桥</h4><p><a href="https://blog.csdn.net/anqixiang/article/details/113996986">重建网桥docker0</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="方法二：只用主机共享网络">方法二：只用主机共享网络</h4><p><a href="https://blog.csdn.net/baodeng9195/article/details/102040813">解决docker容器无网络</a></p><p>使用主机网络</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --rm --network=host centos /bin/bash</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2><p><a href="https://blog.csdn.net/qiaoshaw/article/details/117048140">Docker常用命令，命令大全</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-04-11-zfile</title>
      <link href="/2023/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-11-zfile/"/>
      <url>/2023/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-11-zfile/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p><a href="https://github.com/zfile-dev/zfile">github</a><br><a href="https://docs.zfile.vip/install/os-linux">docs</a></p><h2 id="安装步骤">安装步骤</h2><h3 id="手动安装">手动安装</h3><p><code>cd /home/zhangfan/opt</code><br><code>sudo apt install -y openjdk-8-jre-headless unzip</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export ZFILE_INSTALL_PATH=~/opt/zfile                        # 声明安装到的路径</span><br><span class="line">mkdir -p $ZFILE_INSTALL_PATH &amp;&amp; cd $ZFILE_INSTALL_PATH   # 创建文件夹并进入</span><br><span class="line">wget --no-check-certificate https://c.jun6.net/ZFILE/zfile-release.war          # 下载 zfile 最新版</span><br><span class="line">unzip zfile-release.war &amp;&amp; rm -rf zfile-release.war      # 解压并删除压缩包</span><br><span class="line">chmod +x $ZFILE_INSTALL_PATH/bin/*.sh                    # 授权启动停止脚本```</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~/opt/zfile/bin/start.sh       # 启动</span><br><span class="line">~/opt/zfile/bin/stop.sh        # 停止</span><br><span class="line">~/opt/zfile/bin/restart.sh  #重启</span><br></pre></td></tr></table></figure><p>修改配置文件<code>~/opt/zfile/WEB-INF/classes/application.properties</code></p><h3 id="docker安装">docker安装</h3><h4 id="Openwrt">Openwrt</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">docker pull zhaojun1998/zfile</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">默认参数</span></span><br><span class="line">docker run -d --name=zfile --restart=always \</span><br><span class="line">    -p 6604:6604 \</span><br><span class="line">    -v /root/zfile/db:/root/.zfile-v4/db \</span><br><span class="line">    -v /root/zfile/logs:/root/.zfile-v4/logs \</span><br><span class="line">    -v /root/zfile/file:/data/file \</span><br><span class="line">    zhaojun1998/zfile</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Openwrt系统空间不够，需要修改</span></span><br><span class="line">mkdir /mnt/sda4/opt/zfile</span><br><span class="line">mkdir /mnt/sda4/opt/zfile/db</span><br><span class="line">mkdir /mnt/sda4/opt/zfile/logs</span><br><span class="line">mkdir /mnt/sda4/opt/zfile/file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">curl -k -o /mnt/sda1/docker-data/zfile/application.properties https://c.jun6.net/ZFILE/application.properties</span><br><span class="line"></span><br><span class="line">docker run -d --name=zfile --restart=always \</span><br><span class="line">    -p 6604:8080 \</span><br><span class="line">    -v /mnt/sda1/docker-data/zfile/db:/root/.zfile-v4/db \</span><br><span class="line">    -v /mnt/sda1/docker-data/zfile/logs:/root/.zfile-v4/logs \</span><br><span class="line">    -v /mnt/sda1/docker-data/zfile/file:/data/file \</span><br><span class="line">    -v /mnt/sda4/docker-data/zfile/application.properties:/root/application.properties \</span><br><span class="line">    zhaojun1998/zfile  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> mmcblk1p4</span>    </span><br><span class="line">mkdir /mnt/mmcblk1p4/opt/zfile</span><br><span class="line">mkdir /mnt/mmcblk1p4/opt/zfile/db</span><br><span class="line">mkdir /mnt/mmcblk1p4/opt/zfile/logs</span><br><span class="line">mkdir /mnt/mmcblk1p4/opt/zfile/file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">curl -k -o /mnt/mmcblk1p4/opt/zfile/application.properties https://c.jun6.net/ZFILE/application.properties</span><br><span class="line"></span><br><span class="line">docker run -d --name=zfile --restart=always \</span><br><span class="line">    -p 6604:6604 \</span><br><span class="line">    -v /mnt/mmcblk1p4/opt/zfile/db:/root/.zfile-v4/db \</span><br><span class="line">    -v /mnt/mmcblk1p4/opt/zfile/logs:/root/.zfile-v4/logs \</span><br><span class="line">    -v /mnt/mmcblk1p4/opt/zfile/file:/data/file \</span><br><span class="line">    -v /mnt/mmcblk1p4/opt/zfile/application.properties:/root/application.properties \</span><br><span class="line">    zhaojun1998/zfile    </span><br><span class="line">    </span><br></pre></td></tr></table></figure><h2 id="注意">注意</h2><p><strong>如果通过<code>zfile</code>挂载<code>alist</code>访问各大云盘会受到服务器带宽限制，如果没有保密要求，尽量选择alist访问guest</strong></p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>armbian</title>
      <link href="/2023/04/06/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-06-armbian/"/>
      <url>/2023/04/06/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-06-armbian/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="安装">安装</h2><p><a href="https://github.com/ophub/amlogic-s9xxx-armbian">安装地址</a><br><a href="https://www.right.com.cn/forum/thread-6803628-1-1.html">解决千兆网卡只显示百兆速度</a><br><a href="https://shimo.im/docs/DXkXQ9j8DPKYv3Jd/read">修改armbian的dtb文件</a></p><p><code>ssh-copy-id -i .ssh/id_rsa.pub zhangfan@192.168.1.103</code><br><code>ssh-copy-id -i .ssh/id_rsa.pub root@192.168.1.3</code></p><p>初始安装命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">apt upgrade -y</span><br><span class="line">sudo apt install net-tools -y</span><br><span class="line">sudo apt install neofetch -y</span><br><span class="line">sudo apt install lm-sensors -y</span><br><span class="line">sudo apt install vim -y</span><br><span class="line">apt install snap -y</span><br><span class="line">apt install snapcraft -y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo apt install gsmartcontrol </span><br></pre></td></tr></table></figure><p>说明：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sensors #查看温度</span><br><span class="line">speedtest/speedtest-cli #测网速</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://github.com/sivel/speedtest-cli">测网速</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/bin/python3 /usr/bin/python</span><br><span class="line">python -V</span><br><span class="line">apt install python3-pip </span><br><span class="line">pip install speedtest-cli   #必须安装</span><br><span class="line">speedtest-cli</span><br></pre></td></tr></table></figure><p>如果不成功的话</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -O speedtest-cli https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py </span><br><span class="line">chmod +x speedtest-cli </span><br><span class="line">sudo cp ./speedtest-cli /usr/bin/speedtest-cli</span><br></pre></td></tr></table></figure><p><code>sudo mv /usr/bin/python3 /usr/bin/python</code><br><a href="https://www.cnblogs.com/yyxianren/p/10760886.html">手动下载speedtest-cli</a></p><h3 id="宝塔面板">宝塔面板</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; bash install.sh</span><br></pre></td></tr></table></figure><p>端口转发<br><a href="https://www.jianshu.com/p/35b264606ec0">宝塔面板防火墙端口无效</a><br><a href="https://www.cnblogs.com/ketoli/p/15111625.html">查看防火墙端口开放</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt install firewalld -y</span><br><span class="line">firewall-cmd --list-ports --permanent# 查看防火墙端口开放</span><br><span class="line">firewall-cmd --permanent --zone=public --add-masquerade</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=1-10000/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=1-10000/udp </span><br><span class="line">firewall-cmd --reload #可能没用，armbian需要重启</span><br></pre></td></tr></table></figure><h3 id="挂载硬盘">挂载硬盘</h3><p>可以挂载硬盘直接作为私有云盘<br><a href="https://blog.csdn.net/qq_38265101/article/details/105470939">armbian挂载硬盘</a><br>希捷移动硬盘：<code>UUID=3EE46686E4663FEF   /mnt/hd0      ntfs    defaults        0 0</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">df -h #查看所有已挂载磁盘</span><br><span class="line">fdisk -l #查看所有磁盘详细信息</span><br><span class="line">lsblk #查看所有磁盘短信息</span><br><span class="line">blkid #查看硬盘UUID</span><br><span class="line"></span><br><span class="line">sudo mount /mnt/sda1 /dev/sda1 #手动挂载硬盘</span><br><span class="line">sudo umount /dev/sda1 #手动推出硬盘 </span><br><span class="line"></span><br><span class="line">sudo mount -a #自动挂载所有硬盘，需要将UUID写入/etc/fstab文件</span><br></pre></td></tr></table></figure><h4 id="openwrt插件">openwrt插件</h4><h5 id="广告大师Plus">广告大师Plus</h5><h5 id="应用过滤">应用过滤</h5><p><a href="https://destan19.github.io/">应用过滤</a></p><h3 id="wifi">wifi</h3><p><a href="https://const.net.cn/354.html">wifi开关</a><br><a href="https://blog.csdn.net/qq_28092327/article/details/127787840">更改wifi配置</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nmcli device wifi connect wifi名称 password 12345678</span><br><span class="line">nmcli d wifi connect FAN_MERCURY_B3CB password 123654789</span><br><span class="line">nmcli r wifi on #打开wifi</span><br><span class="line">nmcli radio wifi on</span><br><span class="line">nmcli r wifi off #关闭wifi</span><br><span class="line">nmcli d wifi list #查看所有wifi可连接网络</span><br><span class="line">nmcli dev wifi list</span><br></pre></td></tr></table></figure><h2 id="zshrc">zshrc</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">If you come from bash you might have to change your <span class="variable">$PATH</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">export</span> PATH=<span class="variable">$HOME</span>/bin:/usr/local/bin:<span class="variable">$PATH</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Path to your oh-my-zsh installation.</span></span><br><span class="line">export ZSH=/etc/oh-my-zsh</span><br><span class="line">export ZSH_CACHE_DIR=~/.oh-my-zsh/cache</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set name of the theme to load --- <span class="keyword">if</span> <span class="built_in">set</span> to <span class="string">&quot;random&quot;</span>, it will</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">load a random theme each time oh-my-zsh is loaded, <span class="keyword">in</span> <span class="built_in">which</span> <span class="keyword">case</span>,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">to know <span class="built_in">which</span> specific one was loaded, run: <span class="built_in">echo</span> <span class="variable">$RANDOM_THEME</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span></span><br><span class="line">ZSH_THEME=&quot;rkj-repos&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set list of themes to pick from when loading at random</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Setting this variable when ZSH_THEME=random will cause zsh to load</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">a theme from this variable instead of looking <span class="keyword">in</span> <span class="variable">$ZSH</span>/themes/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">If <span class="built_in">set</span> to an empty array, this variable will have no effect.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ZSH_THEME_RANDOM_CANDIDATES=( <span class="string">&quot;robbyrussell&quot;</span> <span class="string">&quot;agnoster&quot;</span> )</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to use case-sensitive completion.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CASE_SENSITIVE=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to use hyphen-insensitive completion.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Case-sensitive completion must be off. _ and - will be interchangeable.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">HYPHEN_INSENSITIVE=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment one of the following lines to change the auto-update behavior</span></span><br><span class="line">zstyle &#x27;:omz:update&#x27; mode disabled</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">zstyle</span> <span class="string">&#x27;:omz:update&#x27;</span> mode auto      <span class="comment"># update automatically without asking</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">zstyle</span> <span class="string">&#x27;:omz:update&#x27;</span> mode reminder  <span class="comment"># just remind me to update when it&#x27;s time</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to change how often to auto-update (<span class="keyword">in</span> days).</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">zstyle</span> <span class="string">&#x27;:omz:update&#x27;</span> frequency 13</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line <span class="keyword">if</span> pasting URLs and other text is messed up.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DISABLE_MAGIC_FUNCTIONS=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to <span class="built_in">disable</span> colors <span class="keyword">in</span> <span class="built_in">ls</span>.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DISABLE_LS_COLORS=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to <span class="built_in">disable</span> auto-setting terminal title.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DISABLE_AUTO_TITLE=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to <span class="built_in">enable</span> <span class="built_in">command</span> auto-correction.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ENABLE_CORRECTION=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line to display red dots whilst waiting <span class="keyword">for</span> completion.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You can also <span class="built_in">set</span> it to another string to have that shown instead of the default red dots.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">e.g. COMPLETION_WAITING_DOTS=<span class="string">&quot;%F&#123;yellow&#125;waiting...%f&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Caution: this setting can cause issues with multiline prompts <span class="keyword">in</span> zsh &lt; 5.7.1 (see <span class="comment">#5765)</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">COMPLETION_WAITING_DOTS=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line <span class="keyword">if</span> you want to <span class="built_in">disable</span> marking untracked files</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">under VCS as dirty. This makes repository status check <span class="keyword">for</span> large repositories</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">much, much faster.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">DISABLE_UNTRACKED_FILES_DIRTY=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Uncomment the following line <span class="keyword">if</span> you want to change the <span class="built_in">command</span> execution time</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">stamp shown <span class="keyword">in</span> the <span class="built_in">history</span> <span class="built_in">command</span> output.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You can <span class="built_in">set</span> one of the optional three formats:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;mm/dd/yyyy&quot;</span>|<span class="string">&quot;dd.mm.yyyy&quot;</span>|<span class="string">&quot;yyyy-mm-dd&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">or <span class="built_in">set</span> a custom format using the strftime <span class="keyword">function</span> format specifications,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">see <span class="string">&#x27;man strftime&#x27;</span> <span class="keyword">for</span> details.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">HIST_STAMPS=<span class="string">&quot;mm/dd/yyyy&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Would you like to use another custom folder than <span class="variable">$ZSH</span>/custom?</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ZSH_CUSTOM=/path/to/new-custom-folder</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Which plugins would you like to load?</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Standard plugins can be found <span class="keyword">in</span> <span class="variable">$ZSH</span>/plugins/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Custom plugins may be added to <span class="variable">$ZSH_CUSTOM</span>/plugins/</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Example format: plugins=(rails git textmate ruby lighthouse)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Add wisely, as too many plugins slow down shell startup.</span></span><br><span class="line">plugins=(evalcache git git-extras debian tmux screen history extract colorize web-search docker sudo zsh-syntax-highlighting zsh-autosuggestions autojump)</span><br><span class="line"></span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">User configuration</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">export</span> MANPATH=<span class="string">&quot;/usr/local/man:<span class="variable">$MANPATH</span>&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">You may need to manually <span class="built_in">set</span> your language environment</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">export</span> LANG=en_US.UTF-8</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Preferred editor <span class="keyword">for</span> <span class="built_in">local</span> and remote sessions</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">if</span> [[ -n <span class="variable">$SSH_CONNECTION</span> ]]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  <span class="built_in">export</span> EDITOR=<span class="string">&#x27;vim&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">else</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">  <span class="built_in">export</span> EDITOR=<span class="string">&#x27;mvim&#x27;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="keyword">fi</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Compilation flags</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">export</span> ARCHFLAGS=<span class="string">&quot;-arch x86_64&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Set personal aliases, overriding those provided by oh-my-zsh libs,</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">plugins, and themes. Aliases can be placed here, though oh-my-zsh</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">users</span> are encouraged to define aliases within the ZSH_CUSTOM folder.</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">For a full list of active aliases, run `<span class="built_in">alias</span>`.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Example aliases</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">alias</span> zshconfig=<span class="string">&quot;mate ~/.zshrc&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">alias</span> ohmyzsh=<span class="string">&quot;mate ~/.oh-my-zsh&quot;</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">git 别名</span></span><br><span class="line">alias gta=&quot;git add .&quot;</span><br><span class="line">alias gtam=&quot;git add .  &amp;&amp; git commit -m&quot;</span><br><span class="line">alias gtb=&quot;git branch&quot;</span><br><span class="line">alias gtck=&quot;git checkout&quot;</span><br><span class="line">alias gtcl=&quot;git clone&quot;</span><br><span class="line">alias gtm=&quot;git commit -m&quot;</span><br><span class="line">alias gtl=&quot;git log --graph --all&quot;</span><br><span class="line">alias gtlo=&quot;git log --oneline --graph --all&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cancel last add</span></span><br><span class="line">alias gtr=&quot;git reset HEAD&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cancel last commit and add,慎用，会删除本地文件的修改</span></span><br><span class="line">alias gtrh=&quot;git reset --hard HEAD^&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">cancel last commit</span></span><br><span class="line">alias gtrs=&quot;git reset --soft HEAD^&quot;</span><br><span class="line">alias gtps=&quot;git push&quot;</span><br><span class="line">alias gts=&quot;git status&quot;</span><br><span class="line">alias gtst=&quot;git stash&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">convert web page to markdown</span></span><br><span class="line">alias cm=&quot;clean-mark&quot;</span><br><span class="line"></span><br><span class="line">alias src=&quot;source ~/.zshrc&quot;</span><br><span class="line">alias strc=&quot;subl ~/.zshrc&quot;</span><br><span class="line">alias als=&quot;alias&quot;</span><br><span class="line">alias alsg=&quot;alias |grep&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">convert jupyter notebook to markdown</span> </span><br><span class="line">alias nb2md=&quot;jupyter nbconvert --to markdown&quot; </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">conda <span class="built_in">alias</span></span></span><br><span class="line">alias cda=&quot;conda activate&quot;</span><br><span class="line">alias cdd=&quot;conda deactivate&quot;</span><br><span class="line">alias cdel=&quot;conda env list&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hexo theme</span></span><br><span class="line">alias hxcg=&quot;hexo clean &amp;&amp; hexo g&quot;</span><br><span class="line">alias hxcgs=&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo server&quot;</span><br><span class="line">alias hxs=&quot;hexo server&quot;</span><br><span class="line">alias hxd=&quot;hexo deploy&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">端口测试 telnet 192.68.1.101 80</span></span><br><span class="line">alias telnet=&quot;nc -vz -w 2 &quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-04-04-内网穿透</title>
      <link href="/2023/04/04/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-04-cpolar/"/>
      <url>/2023/04/04/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2023-04-04-cpolar/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h3 id="cpolar">cpolar</h3><p>带宽限制1M</p><p><a href="https://www.cpolar.com/blog/macos-installation-cpolar">Mac安装</a><br><a href="https://www.cpolar.com/blog/linux-system-installation-cpolar">Linux安装</a><br><a href="https://www.cpolar.com/blog/windows10-remote-desktop">使用方法</a></p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 软件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-03-22-</title>
      <link href="/2023/03/22/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2023-03-22-%E6%8B%9B%E8%81%98/"/>
      <url>/2023/03/22/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2023-03-22-%E6%8B%9B%E8%81%98/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="个人优势">个人优势</h2><ul><li>有过近三年的实际 C++ 开发工作经验，且两份工作都得到公司以及领导的高度认可</li><li>非常注重代码规范的强迫症，代码可读性强，维护成本低</li><li>计算机基础扎实，精通 C/C++、数据机构算法和 STL，熟练掌握多线/进程通信和编程。此外有过 C#、 Java 和 Python 落地项目经验，熟悉 windows 和 linux 环境开发</li><li>在中科院自动化所模式识别国重参与多项国家基金委人工智能项目，研究领域为多模态信息抽取和 知识图谱构建, 专利一项</li><li>硕士期间担任班长一职，具有良好的沟通和协作能力</li></ul><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-03-21-</title>
      <link href="/2023/03/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2023-03-21-%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/"/>
      <url>/2023/03/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2023-03-21-%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="问题">问题</h2><h3 id="如何解决内存泄漏">如何解决内存泄漏</h3><p><a href="https://zhuanlan.zhihu.com/p/479535048">参考1</a><br><a href="https://www.zhihu.com/question/63946754"># C++ 怎么检测内存泄露，怎么定位内存泄露？</a></p><p>内存泄漏分两种，分别不同方法解决：</p><h4 id="普通没释放">普通没释放</h4><ol><li><p>根据原理，我们可以先review自己的代码，利用&quot;查找&quot;功能，查询<code>new</code>与<code>delete</code>，看看内存的申请与释放是不是成对释放的，这使你迅速发现一些逻辑较为简单的内存泄露情况。</p></li><li><p>如果依旧发生内存泄露，可以通过记录申请与释放的对象数目是否一致来判断。在类中追加一个静态变量 <code>static int count;</code>在构造函数中执行<code>count++;</code>在析构函数中执行<code>count--;</code>，通过在程序结束前将所有类析构，之后输出静态变量，看count的值是否为0，如果为0,则问题并非出现在该处，如果不为0，则是该类型对象没有完全释放。</p></li><li><p>检查类中申请的空间是否完全释放，尤其是存在继承父类的情况，看看子类中是否调用了父类的析构函数，有可能会因为子类析构时没有是否父类中申请的内存空间。</p></li><li><p>对于函数中申请的临时空间，认真检查，是否存在提前跳出函数的地方没有释放内存。</p></li></ol><h4 id="shared-ptr循环引用导致引用计数失效">shared_ptr循环引用导致引用计数失效</h4><p>1、智能指针有没有内存泄露的情况？<br>答：当两个对象同时使用一个shared_ptr成员变量指向对方，会造成循环引用，使引用计数失效，从而导致内存泄露。</p><p>2、智能指针的内存泄漏如何解决？<br>答：为了解决循环引用导致的内存泄漏，引入了弱指针weak_ptr，weak_ptr的构造函数不会修改引用计数的值，从而不会对对象的内存进行管理，其类似一个普通指针，但是不会指向引用计数的共享内存，但是可以检测到所管理的对象是否已经被释放，从而避免非法访问。<br><a href="https://blog.csdn.net/weixin_43232163/article/details/130075707"># 面试题】【C++】请问，使用智能指针有没有内存泄漏的情况？</a></p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-03-02-农业</title>
      <link href="/2023/03/02/Notebooks/%E6%99%AE%E4%BC%97/2022-03-02-%E5%86%9C%E4%B8%9A/"/>
      <url>/2023/03/02/Notebooks/%E6%99%AE%E4%BC%97/2022-03-02-%E5%86%9C%E4%B8%9A/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p>种地：CCTV2经济半小时禾虫+水稻，每亩收入平均3.6万</p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 商业 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 普众 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-03-02-</title>
      <link href="/2023/03/02/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Windows/2022-03-02-%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/03/02/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Windows/2022-03-02-%E7%B3%BB%E7%BB%9F%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p>win7照片查看器.reg</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.jpg]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.jpeg]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.gif]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.png]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.bmp]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.tiff]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br><span class="line"> ; Change Extension&#x27;s File Type</span><br><span class="line"> [HKEY_CURRENT_USER\Software\Classes\.ico]</span><br><span class="line"> @=&quot;PhotoViewer.FileAssoc.Tiff&quot;</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-03-01-性能检测</title>
      <link href="/2023/03/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-03-01-%E6%80%A7%E8%83%BD%E6%A3%80%E6%B5%8B/"/>
      <url>/2023/03/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-03-01-%E6%80%A7%E8%83%BD%E6%A3%80%E6%B5%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="如何查看硬盘写入量">如何查看硬盘写入量</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install smartmontools</span><br><span class="line">smartctl -a disk0</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-02-28-</title>
      <link href="/2023/02/28/Notebooks/Photoshop/20230-02-28-Photoshop/"/>
      <url>/2023/02/28/Notebooks/Photoshop/20230-02-28-Photoshop/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="抠出杂物">抠出杂物</h2><blockquote><p>套索工具，选择要去除的东西边界<br>编辑-内容识别填充<br>细微修补</p></blockquote><h2 id="去水印">去水印</h2><p>修补工具</p><h2 id="扩展背景">扩展背景</h2><blockquote><p>调整画布大小<br>套索工具，选择要填充的空白部分<br>编辑-内容识别填充</p></blockquote><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> _未分类_ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> _未分类_ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-02-24-</title>
      <link href="/2023/02/24/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/AndroidTV/2022-02-24-%E7%94%B5%E8%A7%86%E7%9B%92%E5%AD%90/"/>
      <url>/2023/02/24/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/AndroidTV/2022-02-24-%E7%94%B5%E8%A7%86%E7%9B%92%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="资源">资源</h2><p><a href="https://423down.lanzouo.com/b0f1944aj">https://423down.lanzouo.com/b0f1944aj</a></p><h2 id="电视直播软件">电视直播软件</h2><p>秒看电视<br>神鸟直播<br>tvbox<br>野火直播</p><h2 id="小技巧">小技巧</h2><ul><li>如何直接从电脑上拷贝文件到电视盒子本地磁盘中？</li></ul><blockquote><p>可以通过TVbox配置直播源打开9978端口。然后上传文件</p></blockquote><h2 id="如何将电视盒子安装软件导出">如何将电视盒子安装软件导出</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb connnect 192.168.1.108</span><br><span class="line">adb shell pm list packages xxx</span><br><span class="line">adb shell pm path xxx</span><br><span class="line">adb pull /data/app/~~RHamXFLs95XXkBrKRwmQGQ==/com.kklive.sun-jYTeZtPXjRnCXVRPJJJ2nQ==/base.apk  /Users/fan/Desktop</span><br></pre></td></tr></table></figure><h2 id="adb">adb</h2><p><a href="https://zhuanlan.zhihu.com/p/374069891">adb安装软件</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb connect 192.168.1.108</span><br><span class="line">adb install  ./软件包名.apk</span><br><span class="line">adb shell input text &quot;https://www.xxx.com&quot; # adb输入文本</span><br></pre></td></tr></table></figure><p><strong>scrcpy之前必须先adb连接</strong><br>禁止App上网</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /data/system/packages.xml | grep com.iflytek.xiri</span><br><span class="line"></span><br><span class="line">&lt;package name=&quot;com.iflytek.xiri&quot; codePath=&quot;/data/app/com.iflytek.xiri-tPomcjZb-2lYwDoplQ4n5A==&quot; nativeLibraryPath=&quot;/data/app/com.iflytek.xiri-tPomcjZb-2lYwDoplQ4n5A==/lib&quot; primaryCpuAbi=&quot;armeabi&quot; publicFlags=&quot;940097092&quot; privateFlags=&quot;0&quot; ft=&quot;186b4eb7be8&quot; it=&quot;186b4de0db9&quot; ut=&quot;186b4eb814d&quot; version=&quot;1146757&quot; userId=&quot;10130&quot; installer=&quot;com.android.packageinstaller&quot;&gt;</span><br><span class="line"></span><br><span class="line">adb shell iptables -I fw_OUTPUT -m owner --uid-owner 10130 -j DROP</span><br><span class="line">adb shell iptables -I fw_INPUT -m owner --uid-owner 10130 -j DROP</span><br></pre></td></tr></table></figure><h2 id="问题">问题</h2><h3 id="AI语音助手开机提示">AI语音助手开机提示</h3><p><a href="https://buder.blog.csdn.net/article/details/105572560?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%257Edefault%257ECTRLIST%257ERate-1-105572560-blog-76158376.235%255Ev28%255Epc_relevant_t0_download&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%257Edefault%257ECTRLIST%257ERate-1-105572560-blog-76158376.235%255Ev28%255Epc_relevant_t0_download&amp;utm_relevant_index=2">将应用安装为系统应用</a><br><a href="https://blog.csdn.net/A_I_H_L/article/details/125764664">安卓下 mount: ‘/system‘ not in /proc/mounts</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">adb connect IP</span><br><span class="line">adb root</span><br><span class="line">adb shell mount -o rw,remount -t auto /</span><br><span class="line">adb push ./AI语音助手闪电桌面版2.apk /system/app/</span><br><span class="line">adb shell chmod +x /system/app/AI语音助手闪电桌面版2.apk</span><br><span class="line">adb shell reboot</span><br><span class="line"></span><br><span class="line">adb shell pm list packages iflytek</span><br><span class="line">adb shell pm path com.iflytek.xiri</span><br><span class="line">adb shell mount -o rw,remount -t auto /</span><br><span class="line">adb shell cp $PATH /system/app/iflytek.apk</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2><ul><li><a href="https://blog.csdn.net/and_then111/article/details/110233453">Mac安装adb</a></li><li><a href="https://www.right.com.cn/forum/thread-4123086-1-1.html">HK1 box救砖</a></li><li><a href="https://blog.csdn.net/zhangphil/article/details/84838096">安卓将已安装软件打包</a></li><li><a href="https://blog.csdn.net/weixin_34255055/article/details/92267707"># 使用电脑ADB命令来操作电视盒子</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> _未分类_ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> _未分类_ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023-02-24-</title>
      <link href="/2023/02/24/Notebooks/Photoshop/2023-02-24-%E6%B3%BC%E8%BE%A3%E4%BF%AE%E5%9B%BE/"/>
      <url>/2023/02/24/Notebooks/Photoshop/2023-02-24-%E6%B3%BC%E8%BE%A3%E4%BF%AE%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><h2 id="如何去除痣">如何去除痣</h2><blockquote><p>局部调整<br>笔刷<br>调整笔刷大小<br>曝光0<br>虚化<br>确定</p></blockquote><h2 id="如何变白">如何变白</h2><blockquote><p>光效+<br>阴影-</p></blockquote><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> 泼辣修图 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 泼辣修图 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/12/16/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-12-16-dictionary/"/>
      <url>/2022/12/16/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-12-16-dictionary/</url>
      
        <content type="html"><![CDATA[<h2 id="Introduction">Introduction</h2><p>主要介绍macOS中的词典应用</p><h2 id="系统内置dictionary">系统内置dictionary</h2><p><a href="https://placeless.net/blog/macos-dictionaries">柯林斯词典</a></p><h2 id="Reference">Reference</h2>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/12/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2022-12-5-blackhosts/"/>
      <url>/2022/12/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2022-12-5-blackhosts/</url>
      
        <content type="html"><![CDATA[<h2 id="小米、红米电视">小米、红米电视</h2><p>需要用米家APP的<strong>最后 2 行别复制进去</strong>，不然米家 APP 无法使用！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 ad.mi.com</span><br><span class="line">127.0.0.1 ad.xiaomi.com</span><br><span class="line">127.0.0.1 ad1.xiaomi.com</span><br><span class="line">127.0.0.1 tat.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 api.ad.xiaomi.com</span><br><span class="line">127.0.0.1 t7z.cupid.ptqy.gitv.tv</span><br><span class="line">127.0.0.1 ad.xiaomi.com</span><br><span class="line">127.0.0.1 api.ad.xiaomi.com</span><br><span class="line">127.0.0.1 sdkconfig.ad.xiaomi.com</span><br><span class="line">127.0.0.1 stat.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 upgrade.mishop.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 logonext.tv.kuyun.com</span><br><span class="line">127.0.0.1 config.kuyun.com</span><br><span class="line">127.0.0.1 mishop.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 dvb.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 api.ad.xiaomi.com</span><br><span class="line">127.0.0.1 de.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 data.mistat.xiaomi.com</span><br><span class="line">127.0.0.1 jellyfish.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 gallery.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 bss.pandora.xiaomi.com</span><br><span class="line">127.0.0.1 gvod.aiseejapp.atianqi.com</span><br><span class="line">127.0.0.1 sdkauth.hpplay.cn</span><br><span class="line">127.0.0.1 adeng.hpplay.cn</span><br><span class="line">127.0.0.1 ad.hpplay.cn</span><br><span class="line">127.0.0.1 conf.hpplay.cn</span><br><span class="line">127.0.0.1 fix.hpplay.cn</span><br><span class="line">127.0.0.1 adcdn.hpplay.cn</span><br><span class="line">127.0.0.1 sl.hpplay.cn</span><br><span class="line">127.0.0.1 rp.hpplay.cn</span><br><span class="line">127.0.0.1 h5.hpplay.com.cn</span><br><span class="line">127.0.0.1 hpplay.cdn.cibn.cc</span><br><span class="line">127.0.0.1 sdkauth.hpplay.cn</span><br><span class="line">127.0.0.1 imdns.hpplay.cn</span><br><span class="line">127.0.0.1 vipauth.hpplay.cn</span><br><span class="line">127.0.0.1 rp.hpplay.cn</span><br><span class="line">127.0.0.1 sl.hpplay.cn</span><br><span class="line">127.0.0.1 519332DA.rtc.youme.im</span><br><span class="line">127.0.0.1 hotupgrade.hpplay.</span><br><span class="line">127.0.0.1 pin.hpplay.cn</span><br><span class="line">127.0.0.1 tvapp.hpplay.cn</span><br><span class="line">127.0.0.1 hpplay.cdn.cibn.cc</span><br><span class="line">127.0.0.1 image.hpplay.cn</span><br><span class="line">127.0.0.1 gslb.hpplay.cn</span><br><span class="line">127.0.0.1 rp.hpplay.cn</span><br><span class="line">127.0.0.1 cdn.hpplay.com.cn</span><br><span class="line">127.0.0.1 h5.hpplay.com.cn</span><br><span class="line">127.0.0.1 adeng.hpplay.cn</span><br><span class="line">127.0.0.1 conf.hpplay.cn</span><br><span class="line">127.0.0.1 adcdn.hpplay.cn</span><br><span class="line">127.0.0.1 g.dtv.cn.miaozhen.com</span><br><span class="line">127.0.0.1 android.bugly.qq.com</span><br><span class="line">127.0.0.1 alog.umeng.com</span><br><span class="line">127.0.0.1 hotupgrade.hpplay.cn</span><br><span class="line">127.0.0.1 pin.hpplay.cn</span><br><span class="line">127.0.0.1 api.io.mi.com</span><br><span class="line">127.0.0.1 device.io.mi.com</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2><ol><li><a href="https://gitcode.net/mirrors/easonjim/blackhosts?utm_source=csdn_github_accelerator">https://gitcode.net/mirrors/easonjim/blackhosts?utm_source=csdn_github_accelerator</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2022/12/11/Notebooks/%E6%99%AE%E4%BC%97/2022-12-11-business/"/>
      <url>/2022/12/11/Notebooks/%E6%99%AE%E4%BC%97/2022-12-11-business/</url>
      
        <content type="html"><![CDATA[<h1></h1><h2 id="国家市场监督总局">国家市场监督总局</h2><p><a href="https://www.samr.gov.cn/">https://www.samr.gov.cn/</a></p><p><a href="https://cont.12315.cn/">合同示范文本库</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>阿里云盘资源集合</title>
      <link href="/2022/12/05/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2022-12-05-aliyun-resources/"/>
      <url>/2022/12/05/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/2022-12-05-aliyun-resources/</url>
      
        <content type="html"><![CDATA[<h3 id="美剧">美剧</h3><ul><li><a href="https://www.aliyundrive.com/s/JMueFzgLDpD">美剧9.7T</a></li><li><a href="https://www.aliyundrive.com/s/XNPR6bYBG9K/folder/63553ef3320c535b62f449aba764b5bf36f5a4be">https://www.aliyundrive.com/s/XNPR6bYBG9K/folder/63553ef3320c535b62f449aba764b5bf36f5a4be</a></li><li><a href="https://yunpan1.com/d/9119-48t20t">美剧4.8T</a></li><li><a href="https://www.aliyundrive.com/s/KTQHTMnHpVa/folder/6164fad54d6cf27bb5bd4760a8a36076111d2fff">漫威全集</a></li></ul><h3 id="国剧">国剧</h3><ul><li><a href="https://www.aliyundrive.com/s/ipvAjtJRfeU/folder/6329e99e204536fafb91425d94c5ad1de4950685">https://www.aliyundrive.com/s/ipvAjtJRfeU/folder/6329e99e204536fafb91425d94c5ad1de4950685</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>nodejs安装和配置</title>
      <link href="/2022/11/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JavaScript/2022-11-11-install-nodejs/"/>
      <url>/2022/11/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JavaScript/2022-11-11-install-nodejs/</url>
      
        <content type="html"><![CDATA[<h1>安装</h1><h2 id="macOS">macOS</h2><p><code>brew install nodejs</code><br><code>brew install npm</code></p><h1>问题</h1><ul><li><code>npm install</code>安装过慢</li></ul><blockquote><p><a href="https://blog.csdn.net/qwe435541908/article/details/93140354">更换安装源</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm config get registry</span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> JavaScript </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PDF编辑</title>
      <link href="/2022/11/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-09-pdf-edit/"/>
      <url>/2022/11/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-09-pdf-edit/</url>
      
        <content type="html"><![CDATA[<h1>PDF</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>医美</title>
      <link href="/2022/11/03/Notebooks/%E6%99%AE%E4%BC%97/2022-11-03-%E5%8C%BB%E7%BE%8E/"/>
      <url>/2022/11/03/Notebooks/%E6%99%AE%E4%BC%97/2022-11-03-%E5%8C%BB%E7%BE%8E/</url>
      
        <content type="html"><![CDATA[<h1>市场调研</h1><p><a href="https://new.qq.com/rain/a/20210926A03GUS00">医美行业有多暴利？毛利率超50％，一个愿打一个愿挨</a></p><ul><li>2021-09-26</li><li>市场规模目前两千亿</li><li>整个行业鱼龙混杂，需要龙头企业整合垄断</li><li>自2015年起，中国医美年复合增长率常年在25％以上，远高于世界平均水平的8％，对于任何一个行业来说，维持25％以上的增长水平只有一种情况，那就是市场仍处于野蛮生长的初级状态。</li><li>2020年我国的医美全民渗透率只有3.6％，而日本和韩国则高达11％和20.5％。每千人中进行过医疗美容的人次，中国为16.7次，韩国为86.3次，大洋彼岸的美国也有51.5次。</li><li>上中下游都很赚钱，上游材料研发，中游医美机构医院，下游推广。但是上游最最最暴利，但是上游的门槛也是最高的。</li></ul><p>总结：先从中游做起，然后慢慢积累资本和经验，逐渐攻入上游，搭建技术壁垒，最后做全产业医美。</p><p>[</p>]]></content>
      
      
      <categories>
          
          <category> 商业 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 普众 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>归一化与正则化</title>
      <link href="/2022/09/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-09-09-normalization/"/>
      <url>/2022/09/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-09-09-normalization/</url>
      
        <content type="html"><![CDATA[<h2 id="Normalization">Normalization</h2><p><a href="https://www.zhihu.com/question/20455227/answer/370658612">特征工程中的「归一化」有什么作用？</a></p><p><a href="https://blog.csdn.net/weixin_36604953/article/details/102652160">标准化和归一化，请勿混为一谈，透彻理解数据变换</a></p><p><a href="https://zhuanlan.zhihu.com/p/24810318">什么是批标准化 (Batch Normalization)</a></p><p><a href="https://www.zhihu.com/question/20467170">标准化和归一化什么区别？</a></p><blockquote><ol><li>缩放到均值为0，方差为1（**Standardization——**StandardScaler()）</li><li>缩放到0和1之间（**Standardization——**MinMaxScaler()）</li><li>缩放到-1和1之间（**Standardization——**MaxAbsScaler()）</li><li>缩放到0和1之间，保留原始数据的分布（**Normalization——**Normalizer()</li></ol></blockquote><p><a href="https://blog.csdn.net/liuxiao214/article/details/81037416">BatchNormalization、LayerNormalization、InstanceNorm、GroupNorm、SwitchableNorm总结</a></p><h1>Reference</h1><ol><li><a href="https://www.jianshu.com/p/0486e225c185">https://www.jianshu.com/p/0486e225c185</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>macOS常用软件</title>
      <link href="/2022/08/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-08-31-mac-software/"/>
      <url>/2022/08/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-08-31-mac-software/</url>
      
        <content type="html"><![CDATA[<h2 id="💻系统优化">💻系统优化</h2><h3 id="必备软件">必备软件</h3><ul><li><p>BetterAndBetter</p></li><li><p>Alfred</p></li><li><p>Bartender</p></li><li><p>MacZip</p></li><li><p>SwitchHost</p></li><li><p>Mos</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202305231623784.jpg" alt=""></p></li></ul><ul><li><p>Xnip<br>关闭阴影效果图片大小降低原来约1/3<br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202305231624990.jpg" alt=""></p></li><li><p>Obsidian</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202305231621266.png" alt=""></p></li></ul><h3 id="状态栏软件">状态栏软件</h3><ul><li>MenuBarX</li><li>HandMirror</li></ul><ul><li><a href="http://pomodore.me">pomodore.me</a></li></ul><h3 id="番茄钟软件">番茄钟软件</h3><h3 id="🧹清理软件">🧹清理软件</h3><ul><li>腾讯Lemon</li><li>CleanMyMacX</li><li>App Cleaner &amp;&amp; Uninstaller</li></ul><blockquote><p><a href="https://bbs.pcbeta.com/viewthread-1955612-1-1.html">新版本App Cleaner &amp; Uninstaller 盗版提示弹窗，解决方法</a></p></blockquote><h2 id="软件资源">软件资源</h2><h3 id="电报Telegram">电报Telegram</h3><p>汉化： App内点击https://t.me/changfengshare<br><a href="https://www.telegcn.com/macos.html">下载地址</a></p><h3 id="parallels-desktop">parallels desktop</h3><p><a href="https://www.parallels.cn/products/desktop/download/">下载地址</a></p><p><a href="https://ziyuantan.com/t/topic/207">破解补丁更新地址</a></p><p><a href="https://notabug.org/somebasj/ParallelsDesktopCrack">18破解</a></p><p>激活方式1自动<br>下载破解补丁后解压，然后cd进入解压后的目录，然后执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./install.sh </span><br><span class="line">sudo ./install.sh</span><br></pre></td></tr></table></figure><p>屏蔽hosts</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Paralles</span><br><span class="line">127.0.0.1 download.parallels.com</span><br><span class="line">127.0.0.1 update.parallels.com</span><br><span class="line">127.0.0.1 desktop.parallels.com</span><br><span class="line">127.0.0.1 download.parallels.com.cdn.cloudflare.net</span><br><span class="line">127.0.0.1 update.parallels.com.cdn.cloudflare.net</span><br><span class="line">127.0.0.1 desktop.parallels.com.cdn.cloudflare.net</span><br><span class="line">127.0.0.1 www.parallels.cn</span><br><span class="line">127.0.0.1 www.parallels.com</span><br><span class="line">127.0.0.1 www.parallels.de</span><br><span class="line">127.0.0.1 www.parallels.es</span><br><span class="line">127.0.0.1 www.parallels.fr</span><br><span class="line">127.0.0.1 www.parallels.nl</span><br><span class="line">127.0.0.1 www.parallels.pt</span><br><span class="line">127.0.0.1 www.parallels.ru</span><br><span class="line">127.0.0.1 www.parallelskorea.com</span><br><span class="line">127.0.0.1 reportus.parallels.com</span><br><span class="line">127.0.0.1 parallels.cn</span><br><span class="line">127.0.0.1 parallels.com</span><br><span class="line">127.0.0.1 parallels.de</span><br><span class="line">127.0.0.1 parallels.es</span><br><span class="line">127.0.0.1 parallels.fr</span><br><span class="line">127.0.0.1 parallels.nl</span><br><span class="line">127.0.0.1 parallels.pt</span><br><span class="line">127.0.0.1 parallels.ru</span><br><span class="line">127.0.0.1 parallelskorea.com</span><br><span class="line">127.0.0.1 pax-manager.myparallels.com</span><br><span class="line">127.0.0.1 myparallels.com</span><br><span class="line">127.0.0.1 my.parallels.com</span><br></pre></td></tr></table></figure><p>clash屏蔽</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># parallels</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,update.parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,update.parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,desktop.parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,download.parallels.com.cdn.cloudflare.net,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,update.parallels.com.cdn.cloudflare.net,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,desktop.parallels.com.cdn.cloudflare.net,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,www.parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,reportus.parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,parallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,parallels.cn,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,pax-manager.myparallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,myparallels.com,REJECT</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,my.parallels.com,REJECT</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>魔兽世界</title>
      <link href="/2022/08/29/Notebooks/Game/2023-08-29-%E9%AD%94%E5%85%BD%E4%B8%96%E7%95%8C/"/>
      <url>/2022/08/29/Notebooks/Game/2023-08-29-%E9%AD%94%E5%85%BD%E4%B8%96%E7%95%8C/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.iopq.net/thread-17115088-1-1.html">常用命令</a><br><a href="https://www.iopq.net/thread-17116530-1-1.html">局域网连接</a></p><h3 id="成就">成就</h3><p>.achievement add</p><h3 id="初始化脚本">初始化脚本</h3><p>.modify money 999999999999</p><p>/g .revive 复活自己<br>.learn all_myspells  学习本职业的所有魔法和技能（天赋和天赋技能除外</p><h3 id="骑乘术">骑乘术</h3><p>.learn 33388 初级骑术（20级）<br>.learn 33391 中级骑术（40级）<br>.learn 34092 高级骑术（60级）<br>.learn 34093 专家级骑术（70级）<br>.learn 90265 大师级骑术</p><p>.add <em>37012</em> 无头骑士的缰绳</p><h3 id="传送坐标">传送坐标</h3><p>5.1、主城<br>坐标x, 坐标y, 坐标z, 地图MapID, 方向o},</p><p>银月城 .go 9344 -7278 15 530<br>奥格瑞玛 .go 1349 -4371 27 1<br>雷霆崖 .go -1285 174 130 1<br>幽暗城 .go 1609 202 -43 0<br>埃索达 .go -3973 -11587 -134 530<br>暴风城 .go -9065 434 94 0<br>铁炉堡 .go -5032 -819 495 0<br>达纳苏斯 .go 9961 2055 1329 1<br>沙斯塔城 .go -1815 5326 -12 530<br>达拉然 .go 5814 450 659 571<br>GM岛 .go 16222.1 16252.1 12.5872 1</p><h3 id="获得史诗装备">获得史诗装备</h3><p>.add XXX Y 这个XXX是物品代码 Y是数量 还可以在后面加东西 达到修改装等 插槽之类的目的<br>.add xxxx 1 499（战火模式）（只是增加6装备等级）（任何普通装备都适用）<br>.add xxxx 1 1672（当前模式最高装等）（貌似1800为最高装等，但是只是增加基础属性）<br>.add xxxx 1 754-766(战火模式）（5点一涨不是递增而是随机）<br>.add xxxx 1 3440（史诗模式）（装等985）<br>.add xxxx 1 3439（英雄模式）（装等970）<br>.add xxxx 1 3438（普通模式）（装等955）<br>.add xxxx 1 3442（泰坦造物）（实际装等）1475-1500<br>.add xxxx 1 3444-3446（随机、英雄、史诗模式）（不增加装等只是外观变化）<br>.add xxxx 1 3471（时空漫游装备）<br>.add xxxx 1 3472（勇士装备）？？？未出现过的装备<br>.add xxxx 1 3475（增加多彩插槽）<br>.add xxxx 1 3503（时空扭曲装备）暂时未测试是否会根据人的等级来改变装等<br>.add xxxx 1 3509-3510（5人M本等级11-12级掉落）（装等并未增加）<br>.add xxxx 1 3534-3536（5人M本等级13-15级掉落）（装等并未增加）<br>.add xxxx 1 3531（传说等级）</p><p>.add   1 3440</p><h3 id="声望">声望</h3><p>.modify rep 72 100000 暴风城</p><p>修改神奇能量</p><p>.modify currency 1553 10000000000</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>macOS安装MacTex</title>
      <link href="/2022/07/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-07-26-install-mactex/"/>
      <url>/2022/07/26/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-07-26-install-mactex/</url>
      
        <content type="html"><![CDATA[<h2 id="下载地址"><a href="http://ftp.math.utah.edu/pub/tex/historic/systems/mactex/">下载地址</a></h2><p>很多老师都要求学生用Latex来写论文。那么问题来了，latex要在哪里写？有像word一样的编辑器吗？答案是肯定的。市面上的latex编辑器不下20种，各种系统都有，常见的有：LyX、TeXworks、TexStudio、WinEdt、Emacs、Sublime Text、Atom、Visual Studio Code</p><p>本文将介绍如何在mac系统下，用sublime配置latex环境。</p><p>准备软件<br>MacTex Latex运行的必备环境，可用<a href="https://mirrors.tuna.tsinghua.edu.cn/ctan/systems/mac/mactex/">清华镜像Index of /ctan/systems/mac/mactex/ | 清华大学开源软件镜像站 | Tsinghua Open Source Mirror</a><br><a href="https://xclient.info/s/sublime-text.html?_=4847db8d4fcfc9682f3ac7932c81436e">Sublime Text 编辑器</a>，写代码的应该都很熟悉（这个地址是破解版的福利哦）<br><a href="https://sourceforge.net/projects/skim-app/files/Skim/Skim-1.4.26/Skim-1.4.26.dmg/download">Skim PDF</a>阅读器，有它你才能预览你的文档</p><p>安装步骤<br>首先下载MacTex安装，傻瓜式安装。MacTex文件比较大，有4G+，介意的话可以选择MacTex_Basic包，只有是100M以内，但是如果安装MacTex_Basic，后期可能会遇到各种缺包的问题。</p><p>第二步安装Sublime Text 3。安装好后，安装插件LaTexTool。具体步骤如下：</p><p>2.1 安装 Package Control<br>打开 Sublime Text 3 选择 Tools，选择 Install Package Control…（需要科学上网）</p><p>在Sublime Text -&gt; Peference 选择Package Control，输入Install Package</p><p>输入LaTeXTools ，回车安装 LaTeXTools 插件。<br>安装Skim<br>安装好后运行Skim，进入Skim——选项，点击同步进行设置</p><p>勾选检查文件变化、自动重新加载，在PDF-Tex同步支持那里选择sublime Text，这样当你编译tex后就会自动打开pdf预览了。<br>完成上面所有步骤，latex基本环境就搭建好了。下面可以测试一下。<br>创建一个test.tex文档，复制以下内容粘贴到Sublime Text3文档中：</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">%!TEX program = xelatex</span></span><br><span class="line"><span class="keyword">\documentclass</span>&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fontspec, xunicode, xltxtra&#125;</span><br><span class="line"><span class="keyword">\setmainfont</span>&#123;Hiragino Sans GB&#125;</span><br><span class="line"><span class="keyword">\title</span>&#123;Title&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span>&#123;&#125;</span><br><span class="line"><span class="keyword">\section</span>&#123;Introduction&#125;</span><br><span class="line">This is where you will write your content. 在这里写上内容。</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p>保存以后，按下 command⌘ + B进行编译选择Latex ，如果以上操作无误，下面会提示Build completed，然后 Skim 弹出 PDF 预览。</p><p>番外篇<br>完成上面的步骤，基本上可以正常编写文档了，但是如果你写的是中文文档，那事情可就还没结束，还完成以下的配置才能开心地编写中文文档。打开终端，运行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo tlmgr update --self</span><br><span class="line">sudo tlmgr install latexmk</span><br></pre></td></tr></table></figure><p>在sublime Text里打开LaTeXTools.sublime-settings（也就是LaTeXTools的用户设置，如果你是从旧版本升级上来或者担心这个配置文件出现问题，可以依次点击Preferences——Package Settings——LaTeXTools——Reconfigure LaTeXTools and migrate settings重建配置文件），在builder-settings下面新增两项配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;program&quot; : &quot;xelatex&quot;,</span><br><span class="line">&quot;command&quot; : [&quot;latexmk&quot;, &quot;-cd&quot;, &quot;-e&quot;, &quot;$pdflatex = &#x27;xelatex -interaction=nonstopmode -synctex=1 %S %O&#x27;&quot;, &quot;-f&quot;, &quot;-pdf&quot;],</span><br></pre></td></tr></table></figure><p>另外注意之前应该有&quot;builder&quot;: “default”（或直接设置为空或”traditional”）。</p><p>保存配置文件后关闭，重新编译一下，即可正常显示中文。</p><div class="note info flat"><p>Tips<br>如果你忘记公式的代码，可以用这个LaTex公式编辑器：<a href="http://private.codecogs.com/latex/eqneditor.php">http://private.codecogs.com/latex/eqneditor.php</a></p></div><p>如果你测试的时候遇到如下错误：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">File &quot;/Users/huwei/Desktop/test.tex&quot;, line 1</span><br><span class="line">%!TEX program = xelatex</span><br><span class="line">^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></table></figure><p>那可能是你sublime Text的默认编译环境被设置为python了，可以点击Tools-&gt;Build System，将其设置为Automatic，这样编辑器就会根据文件的后缀来自动识别文件类型了。</p><h1>Reference</h1><ol><li><a href="https://blog.csdn.net/u012149181/article/details/121961875">Macos 安装MacTex SublimeText3 Skim环境</a></li><li><a href="https://www.jianshu.com/p/50a813c8a6ea">macOS + Sublime Text + Latex 环境配置</a></li><li><a href="https://blog.csdn.net/ChrisP_333/article/details/82943508">Mac安装与使用MacTeX</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>batchsize太小的缺点 随着batchsize逐渐增大的优缺点 如何平衡batchsize的大小</title>
      <link href="/2022/07/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-07-12-batch-size/"/>
      <url>/2022/07/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-07-12-batch-size/</url>
      
        <content type="html"><![CDATA[<h1>一、定义</h1><p>简单点说，就是我们一次要将多少个数据扔进模型去训练，这个值介于1和训练样本总个数之间。</p><h1>二、若batchsize太小的缺点</h1><p>①耗时长，训练效率低。<br>假设batchsize=1，每次用一个数据进行训练，如果数据总量很多时(假设有十万条数据），就需要向模型投十万次数据，完整训练完一遍数据需要很长的时问，训练效率很低；<br>②训练数据就会非常难收敛，从而导致欠拟合。<br>假设batchsize=1，每次用一个数据进行训练，则由于个体的差异性或者异常值的影响，模型的参数变化也会很大，每一层的梯度都具有很高的随机性，而且需要耗费了大量的时间，从而导致模型非常难收敛。</p><h1>三、随着batchsize逐渐增大的优缺点</h1><p>1.大的batchsize减少训练时间的同时所需内存容量增加<br>①大的batchsize减少训练时间<br>这是肯定的，同样的epoch数目，大的batchsize需要的batch数目减少了，所以处理速度变快，可以减少训练时间；<br>②大的batchsize所需内存容量增加<br>但是如果该值太大，假设batchsize=100000，一次将十万条数据扔进模型，很可能会造成内存溢出，而无法正常进行训练。</p><p>2.大的batchsize在提高稳定性的同时可能导致模型泛化能力下降<br>①大的batch size梯度的计算更加稳定<br>因为模型训练曲线会更加平滑。在微调的时候，大的batchsize可能会取得更好的结果。因为在一定范围内，一般来说batchsize越大，其确定的下降方向越准，引起训练震荡越小。batchsize增大到一定程度，其确定的下降方向已经基本不再变化。<br>②大的batchsize可能导致模型泛化能力下降<br>在一定范围内，增加batchsize有助于收敛的稳定性，但是随着batchsize的增加，模型的泛化性能会下降。若batchsize设为最大（样本总个数），则每次更新参数都是相同的样本，下降方向基本确定，这会导致模型的泛化性能下降。</p><h1>四、如何平衡batchsize的大小？</h1><p>batchsize太大或者太小都不好。所以 batch size 的值越大，梯度也就越稳定，而 batch size 越小，梯度具有越高的随机性，但如果 batch size 太大，对于内存的需求就更高，同时也不利于网络跳出局部极小点。所以，我们需要设置一个合适的batchsize值，在训练速度和内存容量之间寻找到最佳的平衡点。<br>①一般在Batchsize增加的同时，我们需要对所有样本的训练次数（也就是后面要讲的epoch）增加（以增加训练次数达到更好的效果）这同样会导致耗时增加，因此需要寻找一个合适的batchsize值，在模型总体效率和内存容量之间做到最好的平衡。<br>②由于上述两种因素的矛盾，batchsize增大到某个时候，达到时间上的最优。由于最终收敛精度会陷入不同的局部极值，因此batchsize增大到某些时候，达到最终收敛精度上的最优。</p>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>免费专利查询网站</title>
      <link href="/2022/07/03/Notebooks/Resources/2022-07-03-patent/"/>
      <url>/2022/07/03/Notebooks/Resources/2022-07-03-patent/</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>名称</th><th>网址</th><th>单位</th><th>备注</th></tr></thead><tbody><tr><td><strong>专利之星检索系统</strong></td><td><a href="http://www.patentstar.cn/">http://www.patentstar.cn/</a></td><td>国家知识产权局中国专利信息中心需要注册个人账号</td><td></td></tr><tr><td>SooPAT</td><td><a href="http://www.soopat.com/">http://www.soopat.com/</a></td><td>苏州搜湃知识产权代理有限公司</td><td></td></tr><tr><td><strong>佰腾网</strong></td><td><a href="https://www.baiten.cn/">https://www.baiten.cn/</a></td><td>江苏佰腾科技有限公司</td><td></td></tr><tr><td>度衍</td><td><a href="https://www.uyanip.com/">https://www.uyanip.com/</a></td><td>浙江度衍信息技术有限公司</td><td></td></tr></tbody></table><h1>Reference</h1><ol><li><a href="https://blog.csdn.net/hxiaohai/article/details/112758650">分享几个免费的专利检索网站</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pytorch中矩阵各种乘法的使用</title>
      <link href="/2022/06/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-06-23-matrics-multiply/"/>
      <url>/2022/06/23/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-06-23-matrics-multiply/</url>
      
        <content type="html"><![CDATA[<p>关于 <code>@运算，*运算，torch.mul(), torch.mm(), torch.mv(), tensor.t(), torch.matmul</code></p><p><code>@ 和 *</code>代表矩阵的两种相乘方式： <code>@</code>表示常规的数学上定义的矩阵相乘； <code>*</code>表示两个矩阵对应位置处的两个元素相乘。<br><code>x.dot(y)</code>: 向量乘积,x，y均为一维向量。<br><code>*和torch.mul()</code>等同:表示相同shape矩阵点乘，即对应位置相乘，得到矩阵有相同的shape。<br><code>@和torch.mm(a, b)</code>等同：正常矩阵相乘，要求a的列数与b的行数相同。<br><code>torch.mv(X, w0)</code>:是矩阵和向量相乘.第一个参数是矩阵，第二个参数只能是一维向量,等价于 <code>X乘以w0的转置 Y.t()</code>:矩阵Y的转置。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a = torch.tensor([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">b = torch.tensor([</span><br><span class="line">    [<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>],</span><br><span class="line">    [<span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">3</span>, <span class="number">1</span>, <span class="number">3</span>],</span><br><span class="line">])</span><br><span class="line">c = torch.tensor([</span><br><span class="line">    [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">    [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">])</span><br><span class="line">w1 = torch.tensor([<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>])</span><br><span class="line">w2 = torch.tensor([<span class="number">3</span>, <span class="number">4</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure><p>1、 <code>*和torch.mul()</code>等同，矩阵点乘</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res1 = a*b</span><br><span class="line">res11 = torch.mul(a, b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a*b=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res1))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;torch.mul(a, b)=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res11))</span><br></pre></td></tr></table></figure><p><strong>Output:</strong></p><blockquote><p>a*b=tensor([[3, 0, 3],<br>[0, 0, 0],<br>[3, 0, 3]])<br>torch.mul(a, b)=tensor([[3, 0, 3],<br>[0, 0, 0],<br>[3, 0, 3]])</p></blockquote><p>2、 <code>@, torch.matmul(a, b)和torch.mm(a, b)</code>等同，矩阵乘法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">res2 = a@b</span><br><span class="line">res22 = torch.mm(a, b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a@b=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res2))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;torch.mm(a,b)=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res22))</span><br></pre></td></tr></table></figure><p><strong>Output:</strong></p><blockquote><p>a@b=tensor([[6, 2, 6],<br>[1, 0, 1],<br>[6, 2, 6]])<br><a href="http://torch.mm">torch.mm</a>(a,b)=tensor([[6, 2, 6],<br>[1, 0, 1],<br>[6, 2, 6]])</p></blockquote><p>3、 <code>dot()</code>向量乘法<br>向量运算，参数不能是多维矩阵，否则报错： <code>RuntimeError: 1D tensors expected, got 2D, 2D tensors at</code>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res3 = w1.dot(w2)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;w1.dot(w2)=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res3))</span><br></pre></td></tr></table></figure><p><strong>Output:</strong></p><blockquote><p>w1.dot(w2)=14</p></blockquote><p>4、 <code>c.t()</code>矩阵转置</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res4 = c.t()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;c.t()=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res4))</span><br></pre></td></tr></table></figure><p><strong>Output:</strong></p><blockquote><p>c.t()=tensor([[1, 0, 0],<br>[1, 1, 0],<br>[1, 1, 1]])</p></blockquote><p>5、 <code>torch.mv(a, w1)</code>矩阵乘向量</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">res5 = torch.mv(a, w1)</span><br><span class="line">res55 = torch.mv(a, w1.t())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;torch.mv(a, w1)=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res5))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;torch.mv(a, w1.t())=&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(res55))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Output:</strong> 向量w1是行向量和列向量都可以，结果一样。</p><blockquote><p><a href="http://torch.mv">torch.mv</a>(a, w1)=tensor([2, 2, 2])<br><a href="http://torch.mv">torch.mv</a>(a, w1.t())=tensor([2, 2, 2])</p></blockquote><p>如果命题拿不准就多测试两遍，相互验证。</p><h1>Reference</h1><ol><li><a href="https://blog.csdn.net/beauthy/article/details/121103704">pytorch中的矩阵乘法：函数mul,mm,mv以及 @运算 和 *运算</a></li><li><a href="https://zhuanlan.zhihu.com/p/146707216">pytorch 中矩阵乘法总结</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>sublime自定义设置</title>
      <link href="/2022/06/22/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2022-06-22-sublime/"/>
      <url>/2022/06/22/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2022-06-22-sublime/</url>
      
        <content type="html"><![CDATA[<h1>Sublime</h1><h2 id="Mac">Mac</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;update_check&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//关闭自动更新</span></span><br><span class="line"><span class="attr">&quot;font_size&quot;</span><span class="punctuation">:</span> <span class="number">13</span><span class="punctuation">,</span> <span class="comment">//字体大小</span></span><br><span class="line"><span class="attr">&quot;theme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;auto&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;open_files_in_new_window&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="comment">//每次打开文件以新标签而不是新窗口打开ß</span></span><br><span class="line"><span class="attr">&quot;ignored_packages&quot;</span><span class="punctuation">:</span></span><br><span class="line"><span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;Vintage&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> sublime tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu 20.04 安装vncserver</title>
      <link href="/2022/06/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-06-20-install-vncserver-on-Linux/"/>
      <url>/2022/06/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-06-20-install-vncserver-on-Linux/</url>
      
        <content type="html"><![CDATA[<h2 id="安装及卸载">安装及卸载</h2><p><a href="https://blog.csdn.net/davidhzq/article/details/102594328">Ubuntu、kubuntu、xUbuntu、lubuntu等版本区别及界面样式</a></p><h3 id="远程xfe桌面">远程xfe桌面</h3><h4 id="安装">安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">xfe桌面</span></span><br><span class="line">su root</span><br><span class="line">apt update </span><br><span class="line">sudo apt install xfce4 xfce4-goodies </span><br><span class="line">sudo apt install tightvncserver</span><br></pre></td></tr></table></figure><h4 id="卸载">卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apt remove tightvncserver</span><br><span class="line">...待补充</span><br></pre></td></tr></table></figure><h3 id="远程安装ubuntu桌面">远程安装ubuntu桌面</h3><h4 id="安装-2">安装</h4><ul><li>执行命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ubuntu桌面</span></span><br><span class="line">su root</span><br><span class="line">apt update &amp;&amp; apt upgrade -y</span><br><span class="line">sudo apt install tightvncserver</span><br></pre></td></tr></table></figure><ul><li>ubuntu桌面需要修改文件 <code>~/.vnc/xstartup</code>为：</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># Uncomment the following two lines for normal desktop:</span></span><br><span class="line"><span class="built_in">export</span> XKL_XMODMAP_DISABLE=1</span><br><span class="line"> <span class="built_in">unset</span> SESSION_MANAGER</span><br><span class="line"><span class="comment"># exec /etc/X11/xinit/xinitrc</span></span><br><span class="line"><span class="built_in">unset</span> DBUS_SESSION_BUS_ADDRESS</span><br><span class="line"> </span><br><span class="line">gnome-panel &amp;</span><br><span class="line">gnome-settings-daemon &amp;</span><br><span class="line">metacity &amp;</span><br><span class="line">nautilus &amp;</span><br><span class="line">gnome-terminal &amp;</span><br></pre></td></tr></table></figure><ul><li>执行命令</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-get install x-window-system-core</span><br><span class="line">apt-get install ubuntu-desktop -y</span><br><span class="line">apt-get install gnome-panel gnome-settings-daemon metacity nautilus gnome-terminal -y</span><br></pre></td></tr></table></figure><h4 id="卸载-2">卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt remove ubuntu-desktop -y</span><br><span class="line">apt remove tightserver -y</span><br><span class="line">apt autoremove</span><br></pre></td></tr></table></figure><h3 id="远程安装Xubuntu">远程安装Xubuntu</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Xubuntu桌面</span></span><br><span class="line">su root</span><br><span class="line">apt update &amp;&amp; apt upgrade -y</span><br><span class="line">apt install tightvncserver -y</span><br><span class="line">apt install xfce4 xubuntu-desktop -y </span><br></pre></td></tr></table></figure><h3 id="本地安装ubuntu桌面">本地安装ubuntu桌面</h3><h4 id="安装-3">安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">本地安装ubuntu桌面</span></span><br><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br><span class="line">sudo apt install ubuntu-desktop</span><br><span class="line">sudo apt install lightdm</span><br><span class="line">sudo service lightdm start #启动服务</span><br><span class="line">cat /etc/X11/default-display-manager #检查显示管理器</span><br></pre></td></tr></table></figure><blockquote><p>安装<code>lightdm</code>，会让选择<code>gdm3</code>和<code>lightdm</code>，二选一即可</p></blockquote><p><a href="https://blog.csdn.net/weixin_44332119/article/details/110247903">阿里云轻量服务器Ubuntu图形化界面安装及桌面优化</a><br><strong>注意</strong></p><blockquote><p>vnc需要使用端口<code>5900+k</code>和<code>6000+k</code></p></blockquote><h4 id="卸载-3">卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove ubuntu-desktop</span><br><span class="line">sudo apt remove lightdm</span><br><span class="line">sudo apt autoremove</span><br><span class="line">sudo service lightdm stop #停止显示管理器</span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><h2 id="启动">启动</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver :5</span><br></pre></td></tr></table></figure><h2 id="关闭">关闭</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -kill :5</span><br></pre></td></tr></table></figure><h2 id="自定义分辨率">自定义分辨率</h2><h3 id="1080P">1080P</h3><p>将以下配置保存为<code>.vnc.sh</code>，然后运行<code>sh .vnc.sh</code>即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!bin/bash</span></span><br><span class="line">vncserver :51 -geometry 1920x1080 -depth 24</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vncserver -geometry 1920x1080 -depth 24 :51</span><br></pre></td></tr></table></figure><h3 id="4K">4K</h3><p>将以下配置保存为<code>.vnc4.sh</code>，然后运行<code>sh .vnc4.sh</code>即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">vncserver -geometry 3840x2160 -depth 24</span><br></pre></td></tr></table></figure><h2 id="下载">下载</h2><h3 id="VNC-Viewer">VNC Viewer</h3><p>官网只有最新下载地址，如果需要下载历史版本，更改下面的链接为对应版本即可。如<code>6.21.406</code>为MacOS 10.13.6最大支持版本。<br><code>https://downloads.realvnc.com/download/file/viewer.files/VNC-Viewer-6.21.406-MacOSX-x86_64.dmg</code></p><h3 id="VNC-Server">VNC Server</h3><p>同理可下载历史版本<br><code>https://downloads.realvnc.com/download/file/vnc.files/VNC-Server-6.9.1-MacOSX-x86_64.pkg</code></p><h4 id="云服务器安装桌面">云服务器安装桌面</h4><p><a href="https://blog.csdn.net/COCO56/article/details/123823033">腾讯云服务器安装桌面</a></p><p><a href="https://zhuanlan.zhihu.com/p/373773218">如何在 Ubuntu 服务器上安装桌面环境（GUI</a></p><h2 id="Reference">Reference</h2><ol><li><a href="https://www.cnblogs.com/wangyuehan/p/9807628.html">vnc server配置、启动、重启与连接</a></li><li><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-vnc-on-ubuntu-18-04">18安装教程</a></li><li><a href="https://blog.csdn.net/techsupporter/article/details/52887199">常用命令</a></li><li><a href="https://jingyan.baidu.com/article/cbcede077f59bf02f40b4ddb.html">白屏</a></li><li><a href="https://blog.csdn.net/qq_24253277/article/details/103943848">Win10子系统-Ubuntu安装及配置VNC访问XFCE4桌面</a></li><li><a href="https://www.linuxidc.com/linux/2018-01/150471.htm">给Ubuntu服务器版安装GNOME桌面</a></li><li><a href="https://blog.csdn.net/m0_37622530/article/details/102632151">在服务器上安装图形化桌面</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>shell脚本常用语法</title>
      <link href="/2022/06/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-06-14-shell/"/>
      <url>/2022/06/14/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-06-14-shell/</url>
      
        <content type="html"><![CDATA[<h2 id="循环">循环</h2><p><a href="https://www.cnblogs.com/jing99/p/9256641.html">shell脚本之for循环</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">for i in $(seq 1 10)</span><br><span class="line">do </span><br><span class="line">    echo $(expr $i \* 3 + 1);</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h2 id="sleep">sleep</h2><p>在有的shell（比如linux中的bash）中sleep还支持睡眠（分，小时）<br>sleep 1    睡眠1秒<br>sleep 1s    睡眠1秒<br>sleep 1m   睡眠1分<br>sleep 1h   睡眠1小时</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>机器学习笔记之类别特征处理</title>
      <link href="/2022/05/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-05-11-class-featurizer/"/>
      <url>/2022/05/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-05-11-class-featurizer/</url>
      
        <content type="html"><![CDATA[<h1>Reference</h1><p><a href="https://www.cnblogs.com/JetpropelledSnake/p/14460790.html">机器学习笔记之类别特征处理</a></p>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器学习笔记之目标检测</title>
      <link href="/2022/05/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/"/>
      <url>/2022/05/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B/</url>
      
        <content type="html"><![CDATA[<h1>数据集</h1><p><a href="https://blog.csdn.net/qq_41185868/article/details/82939959">COOC</a></p><h1>算法</h1><p><a href="https://blog.csdn.net/shenxiaolu1984/article/details/51066975">RCNN算法详解</a></p>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VSCode debug配置文件设置</title>
      <link href="/2022/05/07/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/VSCode/2022-05-07-vscode-debug-configs/"/>
      <url>/2022/05/07/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/VSCode/2022-05-07-vscode-debug-configs/</url>
      
        <content type="html"><![CDATA[<h1>基础设置</h1><h2 id="设置运行目录">设置运行目录</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span>   <span class="comment">// 工作目录</span></span><br><span class="line">  <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span>  <span class="comment">// 父目录</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="设置参数">设置参数</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">args=<span class="punctuation">[</span><span class="string">&quot;--do_train&quot;</span><span class="punctuation">,</span><span class="string">&quot;--do_eval&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h2 id="设置环境变量">设置环境变量</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;env&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span> <span class="attr">&quot;PYTHONUNBUFFERED&quot;</span><span class="punctuation">:</span><span class="string">&quot;1&quot;</span><span class="punctuation">,</span> </span><br><span class="line">        <span class="attr">&quot;CUDA_VISIBLE_DEVICES&quot;</span><span class="punctuation">:</span><span class="string">&quot;5&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1>配置python调试单独文件</h1><p>可实现类似pycharm中为每个文件定义单独的调试配置</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;umtner-MT&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceFolder&#125;/umtner&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;console&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integratedTerminal&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;justMyCode&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;--do_train&quot;</span><span class="punctuation">,</span><span class="string">&quot;--do_eval&quot;</span><span class="punctuation">,</span> # 设置参数</span><br><span class="line">            <span class="string">&quot;--model_id=2&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;--dataset_id=0&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;--num_train_epochs=1&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            # 设置环境变量</span><br><span class="line">            <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span> <span class="attr">&quot;PYTHONUNBUFFERED&quot;</span><span class="punctuation">:</span><span class="string">&quot;1&quot;</span><span class="punctuation">,</span> </span><br><span class="line">                    <span class="attr">&quot;CUDA_VISIBLE_DEVICES&quot;</span><span class="punctuation">:</span><span class="string">&quot;5&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h1>配置C++开发环境</h1><h2 id="Windows-g">Windows(g++)</h2><p><a href="https://www.jianshu.com/p/febbf1e975b6?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation">参考1</a></p><p><a href="https://www.cnblogs.com/bpf-1024/p/11597000.html">参考2</a><br><a href="https://www.jianshu.com/p/e1bc046edecc">Visual Studio Code 支持C++11</a></p><p>C++11编译选项<br><code>-std=c++11 -stdlib=libc++</code></p><ul><li>launch.json</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;configurations&quot;</span>: [              </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;C++ Launch (GDB)&quot;</span>,                 // 配置名称，将会在启动配置的下拉菜单中显示</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;cppdbg&quot;</span>,                           // 配置类型，这里只能为cppdbg</span><br><span class="line">            <span class="string">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,                        // 请求配置类型，可以为launch（启动）或attach（附加）</span><br><span class="line">            <span class="string">&quot;launchOptionType&quot;</span>: <span class="string">&quot;Local&quot;</span>,                // 调试器启动类型，这里只能为Local</span><br><span class="line">            <span class="string">&quot;targetArchitecture&quot;</span>: <span class="string">&quot;x86&quot;</span>,                // 生成目标架构，一般为x86或x64，可以为x86, arm, arm64, mips, x64, amd64, x86_64</span><br><span class="line">            <span class="string">&quot;program&quot;</span>: <span class="string">&quot;<span class="variable">$&#123;fileDirname&#125;</span>\\<span class="variable">$&#123;fileBasenameNoExtension&#125;</span>.exe&quot;</span>,                   // 将要进行调试的程序的路径</span><br><span class="line">            <span class="string">&quot;miDebuggerPath&quot;</span>:<span class="string">&quot;c:\\MinGW64\\bin\\gdb.exe&quot;</span>, // miDebugger的路径，注意这里要与MinGw的路径对应</span><br><span class="line">            <span class="string">&quot;args&quot;</span>: [],     // 程序调试时传递给程序的命令行参数，一般设为空即可</span><br><span class="line">            <span class="string">&quot;stopAtEntry&quot;</span>: <span class="literal">false</span>,                       // 设为<span class="literal">true</span>时程序将暂停在程序入口处，一般设置为<span class="literal">false</span></span><br><span class="line">            <span class="string">&quot;cwd&quot;</span>: <span class="string">&quot;<span class="variable">$&#123;workspaceRoot&#125;</span>&quot;</span>,                  // 调试程序时的工作目录，一般为<span class="variable">$&#123;workspaceRoot&#125;</span>即代码所在目录</span><br><span class="line">            <span class="string">&quot;externalConsole&quot;</span>: <span class="literal">true</span>,                    // 调试时是否显示控制台窗口，一般设置为<span class="literal">true</span>显示控制台</span><br><span class="line">            <span class="string">&quot;preLaunchTask&quot;</span>: <span class="string">&quot;g++&quot;</span>　　                  // 调试会话开始前执行的任务，一般为编译程序，c++为g++, c为gcc</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">tasks.json</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>tasks.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\MinGW64\\bin\\g++.exe&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\MinGW64\\bin&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$gcc&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="MacOS-g-简洁">MacOS(g++) 简洁</h2><p>推荐</p><ul><li>tasks.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// 执行文件名称</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.cpp&quot;</span><span class="punctuation">,</span> <span class="comment">// 需要执行的源文件</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span> <span class="comment">//只是编译器，在编译的时候，产生调试信息。                </span></span><br><span class="line">                <span class="string">&quot;-std=c++11&quot;</span><span class="punctuation">,</span> <span class="comment">//默认是C++98标准</span></span><br><span class="line">                <span class="string">&quot;-stdlib=libc++&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-v&quot;</span>     </span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>launch.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ Launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//建议使用lldb模式，虽然需要额外安装插件，但是可以在调试是输入参数，cppdbg不支持输入</span></span><br><span class="line">             <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//&quot;type&quot;: &quot;cppdbg&quot;,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// main 跟 tasks.json 中的执行文件名称配置一致</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ build&quot;</span><span class="punctuation">,</span> <span class="comment">//需要和tasks.json文件中的任务名一致</span></span><br><span class="line">            <span class="attr">&quot;targetArchitecture&quot;</span><span class="punctuation">:</span> <span class="string">&quot;x64&quot;</span><span class="punctuation">,</span>                <span class="comment">// 生成目标架构，一般为x86或x64，可以为x86, arm, arm64, mips, x64, amd64, x86_64</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>     <span class="comment">// 程序调试时传递给程序的命令行参数，一般设为空即可</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// 调试时是否显示控制台窗口，一般设置为true显示控制台</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="MacOS-g-简洁-bin">MacOS(g++) 简洁 (bin)</h2><p>推荐</p><ul><li>tasks.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/bin/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// 执行文件名称</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;.cpp&quot;</span><span class="punctuation">,</span> <span class="comment">// 需要执行的源文件</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span> <span class="comment">//只是编译器，在编译的时候，产生调试信息。                </span></span><br><span class="line">                <span class="string">&quot;-std=c++11&quot;</span><span class="punctuation">,</span> <span class="comment">//默认是C++98标准</span></span><br><span class="line">                <span class="string">&quot;-stdlib=libc++&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-v&quot;</span>     </span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>launch.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ Launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//建议使用lldb模式，虽然需要额外安装插件，但是可以在调试是输入参数，cppdbg不支持输入</span></span><br><span class="line">             <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//&quot;type&quot;: &quot;cppdbg&quot;,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/bin/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// main 跟 tasks.json 中的执行文件名称配置一致</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;g++ build&quot;</span><span class="punctuation">,</span> <span class="comment">//需要和tasks.json文件中的任务名一致</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>     <span class="comment">// 程序调试时传递给程序的命令行参数，一般设为空即可</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="MacOS-clang">MacOS(clang++)</h2><p><a href="https://juejin.cn/post/6877168348690710535">参考</a></p><ul><li>task.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clang++ build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clang++&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// 执行文件名称</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileBasenameNoExtension&#125;.cpp&quot;</span><span class="punctuation">,</span> <span class="comment">// 需要执行的源文件</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span>               </span><br><span class="line">                <span class="string">&quot;-std=c++11&quot;</span><span class="punctuation">,</span> <span class="comment">//默认是C++98标准</span></span><br><span class="line">                <span class="string">&quot;-stdlib=libc++&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-v&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shell&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;presentation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;echo&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;reveal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;always&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;panel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;shared&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;owner&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;fileLocation&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                    <span class="string">&quot;relative&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span></span><br><span class="line">                <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;pattern&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;regexp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;file&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;line&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;column&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;severity&quot;</span><span class="punctuation">:</span> <span class="number">4</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="number">5</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>launch.json</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C++ Launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//建议使用lldb模式，虽然需要额外安装插件，但是可以在调试是输入参数，cppdbg不支持输入</span></span><br><span class="line">             <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="comment">//&quot;type&quot;: &quot;cppdbg&quot;,</span></span><br><span class="line">            <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;/$&#123;fileBasenameNoExtension&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">// main 跟 tasks.json 中的执行文件名称配置一致</span></span><br><span class="line">            <span class="attr">&quot;preLaunchTask&quot;</span><span class="punctuation">:</span> <span class="string">&quot;clang++ build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;internalConsoleOptions&quot;</span><span class="punctuation">:</span> <span class="string">&quot;openOnSessionStart&quot;</span><span class="punctuation">,</span><span class="comment">// 不删除，debug时不会自动跳转到terminal</span></span><br><span class="line">            <span class="attr">&quot;logging&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;moduleLoad&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;programOutput&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;trace&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;showDisplayString&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;environment&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// set true to enable keyboard input</span></span><br><span class="line">            <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;lldb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>c_cpp_properties.json</li></ul><p>不是必须的</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Mac&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;includePath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;$&#123;workspaceFolder&#125;/**&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/Library/Developer/CommandLineTools/usr/include/c++/v1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/usr/local/include&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/Library/Developer/CommandLineTools/usr/lib/clang/10.0.0/include&quot;</span><span class="punctuation">,</span> <span class="comment">//这里可能需要修改指定的版本</span></span><br><span class="line">                <span class="string">&quot;/Library/Developer/CommandLineTools/usr/include&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/usr/include&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;defines&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;macFrameworkPath&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;/System/Library/Frameworks&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;/Library/Frameworks&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;compilerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/usr/bin/clang&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c11&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cppStandard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;c++11&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;intelliSenseMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;macos-clang-x64&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">4</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>VSCode必装插件</title>
      <link href="/2022/05/07/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/VSCode/2022-05-07-vscode-plugins/"/>
      <url>/2022/05/07/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/VSCode/2022-05-07-vscode-plugins/</url>
      
        <content type="html"><![CDATA[<ul><li>万能语言运行环境 Code Runner</li></ul><h1>Git</h1><ul><li>Git Graph</li><li>Git History</li></ul><h1>ICON</h1><ul><li>Material Icon Theme</li></ul><h1>theme</h1><ul><li>One Dark Pro</li></ul>]]></content>
      
      
      <categories>
          
          <category> VSCode </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>训练时的学习率调整：optimizer和scheduler</title>
      <link href="/2022/04/28/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-28-lr_scheduler/"/>
      <url>/2022/04/28/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-28-lr_scheduler/</url>
      
        <content type="html"><![CDATA[<p>最近在用mmdection框架修改网络的时候发现，网络训练起来一直都不收敛，训练一小会就换全部变nan，检测了好久都没有发现什么问题，最终修改了学习率，终于可以收敛了。但是关于怎么调整学习率一直都还没有掌握。因此特意写了这一篇进行总结。</p><h2 id="1-optimizer-step-和scheduler-step-的区别"><strong>1.optimizer.step()和scheduler.step()的区别</strong></h2><p>optimizer.step()和scheduler.step()是我们在训练网络之前都需要设置。我理解的是optimizer是指定<strong>使用哪个优化器</strong>，scheduler是<strong>对优化器的学习率进行调整</strong>，正常情况下训练的步骤越大，学习率应该变得越小。optimizer.step()通常用在每个mini-batch之中，而scheduler.step()通常用在epoch里面,但是不绝对。可以根据具体的需求来做。只有用了optimizer.step()，模型才会更新，而scheduler.step()是对lr进行调整。通常我们在scheduler的step_size表示scheduler.step()每调用step_size次，对应的学习率就会按照策略调整一次。所以如果scheduler.step()是放在mini-batch里面，那么step_size指的是经过这么多次迭代，学习率改变一次。下面为一个简单的使用实例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">optimizer = optim.SGD(model.parameters(), lr = <span class="number">0.01</span>, momentum = <span class="number">0.9</span>)</span><br><span class="line">scheduler = lr_scheduler.StepLR(optimizer, step_size = <span class="number">100</span>, gamma = <span class="number">0.1</span>)</span><br><span class="line">model = net.train(model, loss_function, optimizer, scheduler, num_epochs = <span class="number">100</span>)</span><br></pre></td></tr></table></figure><h2 id="2-1optimizer的种类">2.1optimizer的种类</h2><h3 id="2-1-optim-SGD">2.1 optim.SGD</h3><h3 id="2-2-optim-Adam">2.2 optim.Adam</h3><h2 id="3-scheduler-的种类"><strong>3.</strong>  scheduler <strong>的种类</strong></h2><p>pytorch有torch.optim.lr_scheduler模块提供了一些根据epoch训练次数来调整学习率（learning rate）的方法。一般情况下我们会设置随着epoch的增大而逐渐减小学习率从而达到更好的训练效果。学习率的调整应该放在optimizer更新之后，下面是一个参考伪代码：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scheduler = ...</span><br><span class="line"></span><br><span class="line">for epoch in range(100):</span><br><span class="line">     train(...)</span><br><span class="line">     validate(...)</span><br><span class="line">     scheduler.step()</span><br></pre></td></tr></table></figure><p>本文介绍的调整学习率的函数都是基于epoch大小变化进行调整的。</p><h3 id="3-1torch-optim-lr-scheduler-LambdaLR">3.1torch.optim.lr_scheduler.LambdaLR</h3><blockquote><p>class torch.optim.lr_scheduler.LambdaLR(optimizer, lr_lambda, last_epoch=-1)</p></blockquote><p>学习率的更新公式为： <img src="https://www.zhihu.com/equation?tex=%5Ctext+%7B+new_l+%7D+r%3D%5Clambda+%5Ctimes+%5Ctext+%7B+initial_l+%7D+r" alt=""></p><p><img src="https://www.zhihu.com/equation?tex=%5Ctext+%7B+new_l+%7D+r" alt=""> 是得到的新的学习率， <img src="https://www.zhihu.com/equation?tex=%5Ctext+%7B+initial_l+%7D+r" alt=""> 是初始的学习率，λ是通过参数lr_lambda和epoch得到的。</p><ul><li>optimizer （Optimizer）：要更改学习率的优化器；</li><li>lr_lambda（function or list）：根据epoch计算λ的函数；或者是一个list的这样的function，分别计算各个parameter groups的学习率更新用到的λ；</li><li>last_epoch （int）：最后一个epoch的index，如果是训练了很多个epoch后中断了，继续训练，这个值就等于加载的模型的epoch。默认为-1表示从头开始训练，即从epoch=1开始。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> LambdaLR</span><br><span class="line"></span><br><span class="line">initial_lr = <span class="number">0.1</span></span><br><span class="line">net_1 = model()</span><br><span class="line"></span><br><span class="line">optimizer_1 = torch.optim.Adam(net_1.parameters(), lr = initial_lr)</span><br><span class="line">scheduler_1 = LambdaLR(optimizer_1, lr_lambda=<span class="keyword">lambda</span> epoch: <span class="number">1</span>/(epoch+<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;初始化的学习率：&quot;</span>, optimizer_1.defaults[<span class="string">&#x27;lr&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    <span class="comment"># train</span></span><br><span class="line">    optimizer_1.zero_grad()</span><br><span class="line">    optimizer_1.step()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第%d个epoch的学习率：%f&quot;</span> % (epoch, optimizer_1.param_groups[<span class="number">0</span>][<span class="string">&#x27;lr&#x27;</span>]))</span><br><span class="line">    scheduler_1.step()</span><br></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">初始化的学习率： 0.1</span><br><span class="line">第1个epoch的学习率：0.100000</span><br><span class="line">第2个epoch的学习率：0.050000</span><br><span class="line">第3个epoch的学习率：0.033333</span><br><span class="line">第4个epoch的学习率：0.025000</span><br><span class="line">第5个epoch的学习率：0.020000</span><br><span class="line">第6个epoch的学习率：0.016667</span><br><span class="line">第7个epoch的学习率：0.014286</span><br><span class="line">第8个epoch的学习率：0.012500</span><br><span class="line">第9个epoch的学习率：0.011111</span><br><span class="line">第10个epoch的学习率：0.010000</span><br></pre></td></tr></table></figure><h3 id="3-2-torch-optim-lr-scheduler-StepLR">3.2 torch.optim.lr_scheduler.StepLR</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class torch.optim.lr_scheduler.StepLR(optimizer, step_size, gamma=0.1, last_epoch=-1)</span><br></pre></td></tr></table></figure><p>学习率的更新公式为： <img src="https://www.zhihu.com/equation?tex=%5Ctext+%7B+new_l+%7D+r%3D%5Ctext+%7B+initial_l+%7D+r+%5Ctimes+%5Cgamma%5E%7B%5Ctext+%7Bepoch+%7D+%2F+%2F+%5Ctext+%7B+step_size+%7D%7D" alt=""></p><p>参数：</p><ul><li>optimizer （Optimizer）：要更改学习率的优化器；</li><li>step_size（int）：每训练step_size个epoch，更新一次参数；</li><li>gamma（float）：更新lr的乘法因子；</li><li>last_epoch （int）：最后一个epoch的index，如果是训练了很多个epoch后中断了，继续训练，这个值就等于加载的模型的epoch。默认为-1表示从头开始训练，即从epoch=1开始。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> StepLR</span><br><span class="line"></span><br><span class="line">initial_lr = <span class="number">0.1</span></span><br><span class="line">net_1 = model()</span><br><span class="line"></span><br><span class="line">optimizer_1 = torch.optim.Adam(net_1.parameters(), lr = initial_lr)</span><br><span class="line">scheduler_1 = StepLR(optimizer_1, step_size=<span class="number">3</span>, gamma=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;初始化的学习率：&quot;</span>, optimizer_1.defaults[<span class="string">&#x27;lr&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    <span class="comment"># train</span></span><br><span class="line">    optimizer_1.zero_grad()</span><br><span class="line">    optimizer_1.step()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第%d个epoch的学习率：%f&quot;</span> % (epoch, optimizer_1.param_groups[<span class="number">0</span>][<span class="string">&#x27;lr&#x27;</span>]))</span><br><span class="line">    scheduler_1.step()</span><br></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">初始化的学习率： 0.1</span><br><span class="line">第1个epoch的学习率：0.100000</span><br><span class="line">第2个epoch的学习率：0.100000</span><br><span class="line">第3个epoch的学习率：0.100000</span><br><span class="line">第4个epoch的学习率：0.010000</span><br><span class="line">第5个epoch的学习率：0.010000</span><br><span class="line">第6个epoch的学习率：0.010000</span><br><span class="line">第7个epoch的学习率：0.001000</span><br><span class="line">第8个epoch的学习率：0.001000</span><br><span class="line">第9个epoch的学习率：0.001000</span><br><span class="line">第10个epoch的学习率：0.000100</span><br></pre></td></tr></table></figure><h3 id="3-3-torch-optim-lr-scheduler-MultiStepLR">3.3 torch.optim.lr_scheduler.MultiStepLR</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class torch.optim.lr_scheduler.MultiStepLR(optimizer, milestones, gamma=0.1, last_epoch=-1)</span><br></pre></td></tr></table></figure><p>学习率的更新公式为： <img src="https://www.zhihu.com/equation?tex=n+e+w_%7B-l%7D+r%3D%5Ctext+%7B+initial_lr+%7D+%5Ctimes+%5Cgamma%5E%7B%5Ctext+%7Bbisect_right+%7D%28%5Ctext+%7B+milestones%2Cepoch+%7D%29%7D" alt=""></p><p>参数：</p><ul><li>optimizer （Optimizer）：要更改学习率的优化器；</li><li>milestones（list）：递增的list，存放要更新lr的epoch；</li><li>gamma（float）：更新lr的乘法因子；</li><li>last_epoch （int）：最后一个epoch的index，如果是训练了很多个epoch后中断了，继续训练，这个值就等于加载的模型的epoch。默认为-1表示从头开始训练，即从epoch=1开始。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> MultiStepLR</span><br><span class="line"></span><br><span class="line">initial_lr = <span class="number">0.1</span></span><br><span class="line">net_1 = model()</span><br><span class="line"></span><br><span class="line">optimizer_1 = torch.optim.Adam(net_1.parameters(), lr = initial_lr)</span><br><span class="line">scheduler_1 = MultiStepLR(optimizer_1, milestones=[<span class="number">3</span>, <span class="number">7</span>], gamma=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;初始化的学习率：&quot;</span>, optimizer_1.defaults[<span class="string">&#x27;lr&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    <span class="comment"># train</span></span><br><span class="line">    optimizer_1.zero_grad()</span><br><span class="line">    optimizer_1.step()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第%d个epoch的学习率：%f&quot;</span> % (epoch, optimizer_1.param_groups[<span class="number">0</span>][<span class="string">&#x27;lr&#x27;</span>]))</span><br><span class="line">    scheduler_1.step()</span><br></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">初始化的学习率： 0.1</span><br><span class="line">第1个epoch的学习率：0.100000</span><br><span class="line">第2个epoch的学习率：0.100000</span><br><span class="line">第3个epoch的学习率：0.100000</span><br><span class="line">第4个epoch的学习率：0.010000</span><br><span class="line">第5个epoch的学习率：0.010000</span><br><span class="line">第6个epoch的学习率：0.010000</span><br><span class="line">第7个epoch的学习率：0.010000</span><br><span class="line">第8个epoch的学习率：0.001000</span><br><span class="line">第9个epoch的学习率：0.001000</span><br><span class="line">第10个epoch的学习率：0.001000</span><br></pre></td></tr></table></figure><h3 id="3-4-torch-optim-lr-scheduler-ExponentialLR">3.4 torch.optim.lr_scheduler.ExponentialLR</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class torch.optim.lr_scheduler.ExponentialLR(optimizer, gamma, last_epoch=-1)</span><br></pre></td></tr></table></figure><p>学习率的更新公式为： <img src="https://www.zhihu.com/equation?tex=n+e+w_%7B-l%7D+r%3D%5Ctext+%7B+initial_l+%7D+r+%5Ctimes+%5Cgamma%5E%7B%5Ctext+%7Bepoch+%7D%7D" alt=""></p><p>参数：</p><ul><li>optimizer （Optimizer）：要更改学习率的优化器；</li><li>gamma（float）：更新lr的乘法因子；</li><li>last_epoch （int）：最后一个epoch的index，如果是训练了很多个epoch后中断了，继续训练，这个值就等于加载的模型的epoch。默认为-1表示从头开始训练，即从epoch=1开始。</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.optim.lr_scheduler <span class="keyword">import</span> ExponentialLR</span><br><span class="line"></span><br><span class="line">initial_lr = <span class="number">0.1</span></span><br><span class="line">net_1 = model()</span><br><span class="line"></span><br><span class="line">optimizer_1 = torch.optim.Adam(net_1.parameters(), lr = initial_lr)</span><br><span class="line">scheduler_1 = ExponentialLR(optimizer_1, gamma=<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;初始化的学习率：&quot;</span>, optimizer_1.defaults[<span class="string">&#x27;lr&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">    <span class="comment"># train</span></span><br><span class="line">    optimizer_1.zero_grad()</span><br><span class="line">    optimizer_1.step()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第%d个epoch的学习率：%f&quot;</span> % (epoch, optimizer_1.param_groups[<span class="number">0</span>][<span class="string">&#x27;lr&#x27;</span>]))</span><br><span class="line">    scheduler_1.step()</span><br></pre></td></tr></table></figure><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">初始化的学习率： 0.1</span><br><span class="line">第1个epoch的学习率：0.100000</span><br><span class="line">第2个epoch的学习率：0.010000</span><br><span class="line">第3个epoch的学习率：0.001000</span><br><span class="line">第4个epoch的学习率：0.000100</span><br><span class="line">第5个epoch的学习率：0.000010</span><br><span class="line">第6个epoch的学习率：0.000001</span><br><span class="line">第7个epoch的学习率：0.000000</span><br><span class="line">第8个epoch的学习率：0.000000</span><br><span class="line">第9个epoch的学习率：0.000000</span><br><span class="line">第10个epoch的学习率：0.000000</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://zhuanlan.zhihu.com/p/344294796">训练时的学习率调整：optimizer和scheduler</a></li><li><a href="https://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_36670529/article/details/107144074">optimizer.step()和scheduler.step()_于小勇的博客-CSDN博客</a></li><li><a href="https://link.zhihu.com/?target=https%3A//blog.csdn.net/weixin_43844219/article/details/104319339%3Futm_medium%3Ddistribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.control%26depth_1-utm_source%3Ddistribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.control">[pytorch] torch.optimizer.lr_scheduler调整学习率</a></li><li><a href="https://zhuanlan.zhihu.com/p/136902153">醒了么：PyTorch–lr_scheduler.step()和optimizer.step()的先后顺序</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>计算机网络</title>
      <link href="/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-04-21-Computer-network/"/>
      <url>/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-04-21-Computer-network/</url>
      
        <content type="html"><![CDATA[<h1>应用层</h1><p><a href="https://zhuanlan.zhihu.com/p/52362950">CDN（ContentDeliveryNetwork）详解</a></p>]]></content>
      
      
      <categories>
          
          <category> ComputerNetwork </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pytorch之permute()用法</title>
      <link href="/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-21-permute/"/>
      <url>/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-21-permute/</url>
      
        <content type="html"><![CDATA[<p>将tensor的维度换位。</p><p>参数： - <strong>dims</strong> (int …*) - 换位顺序</p><p>例：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; x = torch.randn(2, 3, 5) </span><br><span class="line">&gt;&gt;&gt; x.size() </span><br><span class="line">torch.Size([2, 3, 5]) </span><br><span class="line">&gt;&gt;&gt; x.permute(2, 0, 1).size() </span><br><span class="line">torch.Size([5, 2, 3])</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://zhuanlan.zhihu.com/p/76583143">Pytorch之permute函数</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pytorch之repeate()用法</title>
      <link href="/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-21-torch.nn.repeat/"/>
      <url>/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-21-torch.nn.repeat/</url>
      
        <content type="html"><![CDATA[<h1>pytorch之repeate()用法</h1><ul><li>当repeate参数个数和tensor的形状个数一样时，每个参数分别表示对应维度复制的次数</li><li>当参数不一样时，首先在第0维扩展一个维度，维数为1，然后按照参数指定的次数进行复制</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">a = torch.tensor([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">                  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line">a.shape</span><br></pre></td></tr></table></figure><pre><code>torch.Size([2, 3])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># repeat参数比维度多，在扩展前先讲a的形状扩展为(1,2,3)然后复制</span></span><br><span class="line">b = a.repeat(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(b.shape)  <span class="comment"># 得到结果torch.Size([1, 4, 3])</span></span><br></pre></td></tr></table></figure><pre><code>torch.Size([1, 4, 3])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = a.unsqueeze(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(c.shape)</span><br></pre></td></tr></table></figure><pre><code>torch.Size([2, 1, 3])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">d = c.repeat(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(d.shape)</span><br></pre></td></tr></table></figure><pre><code>torch.Size([2, 2, 3])</code></pre><h1>Reference</h1><ol><li><a href="https://blog.csdn.net/tequila53/article/details/119183678">pytorch中repeat()函数理解</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python中删除文件的几种方法</title>
      <link href="/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-21-delete-file-in-python/"/>
      <url>/2022/04/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-21-delete-file-in-python/</url>
      
        <content type="html"><![CDATA[<h1>删除文件</h1><p>很多时候开发者需要删除文件。可能是他错误地创建了文件，或者不再需要该文件。无论出于何种原因，都有一些方法可以通过Python来删除文件，而无需手动查找文件并通过UI交互来进行删除操作。</p><p>使用Python删除文件有多种方法，但是最好的方法如下：</p><ul><li><code>os.remove()</code>删除文件</li><li><code>os.unlink()</code>删除文件。它是 <code>remove()</code>方法的Unix名称。</li><li><code>shutil.rmtree()</code>删除目录及其下面所有内容。</li><li><code>pathlib.Path.unlink()</code>在Python 3.4及更高版本中用来删除单个文件 <code>pathlib</code>模块。</li></ul><h2 id="os-remove-删除文件"><strong><code>os.remove()</code> 删除文件</strong></h2><p>Python中的OS模块提供了与操作系统进行交互的功能。OS属于Python的标准实用程序模块。该模块提供了使用依赖于操作系统的功能的便携式方法。</p><p>Python中的 <code>os.remove()</code>方法用于删除文件路径。此方法无法删除目录。如果指定的路径是目录，则该方法将引发 <code>OSError</code>。</p><p>注意：可以使用 <code>os.rmdir()</code>删除目录。</p><p><strong>句法：</strong></p><p>以下是 <code>remove()</code>方法删除Python文件的语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.remove(path)</span><br></pre></td></tr></table></figure><ul><li><code>path</code> —— 这是要删除的路径或文件名。</li></ul><p><strong>返回值</strong></p><p><code>remove()</code>方法没有返回值。</p><p>我们来看一些使用 <code>os.remove</code>函数删除Python文件的示例。</p><p><strong>示例1：使用</strong> ** <code>OS.Remove()</code> 方法删除文件的基本示例。**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Importing the os library</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># Inbuilt function to remove files</span></span><br><span class="line">os.remove(<span class="string">&quot;test_file.txt&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;File removed successfully&quot;</span>)</span><br></pre></td></tr></table></figure><p><strong>输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File removed successfully</span><br></pre></td></tr></table></figure><p>说明：在上面的示例中，我们删除了文件或删除了名为 <code>testfile.txt</code>的文件的路径。解释程序流程的步骤如下：</p><p>1.首先，我们导入了os库，因为os库中存在 <code>remove()</code>方法。<br>2.然后，我们使用内置函数 <code>os.remove()</code>删除文件的路径。<br>3.在此示例中，我们的示例文件是 <code>test_file.txt</code>。您可以在此处放置所需的文件。</p><p>注意：如果没有名为 <code>test_file.txt</code>的文件，则上面的示例将引发错误。因此，最好在删除文件之前先检查文件是否可用。</p><p><strong>示例2：使用</strong> ** <code>os.path.isfile</code> 检查文件是否存在并使用 <code>os.Remove</code> 删除它**</p><p>在示例1中，我们刚刚删除了目录中存在的文件。 <code>os.remove()</code>方法将在工作目录中搜索要删除的文件。因此，最好检查文件是否存在。</p><p>让我们学习如何检查具有特定名称的文件在该路径中是否可用。我们正在使用 <code>os.path.isfile</code>来检查文件的可用性。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#importing the os Library</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#checking if file exist or not</span></span><br><span class="line"><span class="keyword">if</span>(os.path.isfile(<span class="string">&quot;test.txt&quot;</span>)):</span><br><span class="line"></span><br><span class="line">    <span class="comment">#os.remove() function to remove the file</span></span><br><span class="line">    os.remove(<span class="string">&quot;demo.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#Printing the confirmation message of deletion</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;File Deleted successfully&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;File does not exist&quot;</span>)</span><br><span class="line"><span class="comment">#Showing the message instead of throwig an error</span></span><br></pre></td></tr></table></figure><p><strong>输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">File Deleted successfully</span><br></pre></td></tr></table></figure><p>在上面的示例中，我们仅添加了 <code>os.pasth.isfile()</code>方法。这种方法有助于我们找出文件是否存在于特定位置。</p><p><strong>示例3：Python程序删除具有特定扩展名的所有文件</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> listdir</span><br><span class="line">my_path = <span class="string">&#x27;C:\Python Pool\Test\&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">for file_name in listdir(my_path):</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    if file_name.endswith(&#x27;</span>.txt<span class="string">&#x27;):</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        os.remove(my_path + file_name)</span></span><br></pre></td></tr></table></figure><p><strong>输出：</strong></p><p>使用此程序，我们将从文件夹删除扩展名为 <code>.txt</code>的所有文件。</p><p><strong>解释：</strong></p><ul><li>从os模块导入os模块和 <code>listdir</code>。必须使用 <code>listdir</code>才能获取特定文件夹中所有文件的列表，并且需要os模块才能删除文件。</li><li><code>my_path</code>是包含所有文件的文件夹的路径。</li><li>我们正在遍历给定文件夹中的文件。 <code>listdir</code>用于获取特定文件夹中所有文件的一个列表。</li><li><code>endswith</code>用于检查文件是否以 <code>.txt</code>扩展名结尾。当我们删除文件夹中的所有 <code>.txt</code>文件时，如果条件可以验证，则进行此操作。</li><li>如果文件名以 <code>.txt</code>扩展名结尾，我们将使用 <code>os.remove()</code>函数删除该文件。此函数将文件的路径作为参数。 <code>my_path</code> + <code>file_name</code>是我们要删除的文件的完整路径。</li></ul><p><strong>示例4：删除文件夹中所有文件的Python程序</strong></p><p>要删除特定目录中的所有文件，只需使用 <code>*</code>符号作为模式字符串。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Importing os and glob modules</span></span><br><span class="line"><span class="keyword">import</span> os, glob</span><br><span class="line"></span><br><span class="line"><span class="comment">#Loop Through the folder projects all files and deleting them one by one</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> glob.glob(<span class="string">&quot;pythonpool/*&quot;</span>):</span><br><span class="line">    os.remove(file)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Deleted &quot;</span> + <span class="built_in">str</span>(file))</span><br></pre></td></tr></table></figure><p><strong>输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Deleted pythonpool\test1.txt</span><br><span class="line">Deleted pythonpool\test2.txt</span><br><span class="line">Deleted pythonpool\test3.txt</span><br><span class="line">Deleted pythonpool\test4.txt</span><br></pre></td></tr></table></figure><p>在此示例中，我们将删除 <code>pythonpool</code>文件夹中的所有文件。</p><p>注意：如果文件夹包含其他子文件夹，则可能会报错，因为 <code>glob.glob()</code>方法将获取所有文件夹内容的名称，无论它们是文件还是子文件夹。因此，请尝试使模式更具体（例如 <code>*.*</code>），以仅获取具有扩展名的内容。</p><h2 id="使用os-unlink-删除Python文件"><strong>使用<code>os.unlink()</code> 删除Python文件</strong></h2><p><code>os.unlink()</code>是 <code>os.remove()</code>的别名。在Unix OS中，删除也称为 <code>unlink</code>。</p><p>注意：所有功能和语法与 <code>os.unlink()</code>和 <code>os.remove()</code>相同。它们都用于删除Python文件路径。两者都是Python标准库的os模块中执行删除功能的方法。</p><p>它有两个名称，别名： <code>os.unlink()</code>和 <code>os.remove()</code></p><p>为同一个函数提供两个别名的可能原因是，该模块的维护者认为，许多程序员可能会从C的底层编程转向Python，其中库函数和底层系统调用称为 <code>unlink()</code>，而其他人则可能会使用 <code>rm</code>命令（&quot;删除&quot;的缩写）或shell脚本来简化语言。</p><h2 id="使用shutil-rmtree-删除Python文件"><strong>使用<code>shutil.rmtree()</code> 删除Python文件</strong></h2><p><code>shutil.rmtree()</code>：删除指定的目录，所有子目录和所有文件。此功能特别危险，因为它无需检查即可删除所有内容。结果，您可以使用此功能轻松丢失数据。</p><p><code>rmtree()</code>是shutil模块下的一种方法，该方法以递归方式删除目录及其内容。</p><p><strong>句法：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.rmtree（path，ignore_errors = False，onerror = None）</span><br></pre></td></tr></table></figure><p><strong>参数：</strong></p><p><code>path</code>：类似路径的对象，表示文件路径。类路径对象是表示路径的字符串或字节对象。</p><p><code>ignore_errors</code>：如果 <code>ignore_errors</code>为 <code>true</code>，则删除失败导致的错误将被忽略。</p><p><code>oneerror</code>：如果 <code>ignore_errors</code>为 <code>false</code>或被忽略，则通过调用 <code>onerror</code>指定的处理程序来处理此类错误。</p><p>我们来看一个使用python脚本删除文件的示例。</p><p>示例：使用 <code>Shutil.Rmtree()</code>删除文件的Python程序</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python program to demonstrate shutil.rmtree()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># location</span></span><br><span class="line">location = <span class="string">&quot;E:/Projects/PythonPool/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># directory</span></span><br><span class="line"><span class="built_in">dir</span> = <span class="string">&quot;Test&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># path</span></span><br><span class="line">path = os.path.join(location, <span class="built_in">dir</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># removing directory</span></span><br><span class="line">shutil.rmtree(path)</span><br></pre></td></tr></table></figure><p><strong>输出：</strong></p><p>它将删除Test内文件的整个目录，包括Test文件夹本身。</p><h2 id="Python中使用pathlib-Path-unlink-删除文件"><strong>Python中使用<code>pathlib.Path.unlink()</code> 删除文件</strong></h2><p><code>pathlib</code>模块在Python 3.4及更高版本中可用。如果要在Python 2中使用此模块，可以使用pip进行安装。 <code>pathlib</code>提供了一个面向对象的界面，用于处理不同操作系统的文件系统路径。</p><p>要使用 <code>pathlib</code>模块删除文件，请创建一个指向该文件的 <code>Path</code>对象，然后对该对象调用 <code>unlink&amp;#xFF08;&amp;#xFF09;</code>方法：</p><p><strong>示例：使用</strong> ** <code>Pathlib</code> 删除文件的Python程序**</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Example of file deletion by pathlib</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line"></span><br><span class="line">rem_file = pathlib.Path(<span class="string">&quot;pythonpool/testfile.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">rem_file.unlink()</span><br></pre></td></tr></table></figure><p>在上面的示例中， <code>path()</code>方法用于检索文件路径，而 <code>unlink()</code>方法用于删除指定路径的文件。</p><p><code>unlink()</code>方法适用于文件。如果指定了目录，则会引发 <code>OSError</code>。要删除目录，我们可以采用前面讨论的方法之一。</p><p>在本文中，我们学习了Python删除文件的各种方法。使用Python删除文件或文件夹的语法非常简单。但是，请注意，一旦执行上述命令，您的文件或文件夹将被永久删除。</p><h1>重命名文件</h1><p>重命名文件和文件夹名称都可以</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.rename(<span class="string">&quot;old file path&quot;</span>, <span class="string">&quot;new file path&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>shutil的常用方法</title>
      <link href="/2022/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-20-shutil/"/>
      <url>/2022/04/20/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-20-shutil/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> shutil <span class="keyword">import</span> copyfile</span><br></pre></td></tr></table></figure><h1>shutil</h1><blockquote><p>是一种高层次的文件操作工具<br>类似于高级API，而且主要强大之处在于其对文件的复制与删除操作更是比较支持好。</p></blockquote><h2 id="使用方法">使用方法</h2><ul><li><strong>copyfile( src, dst)</strong>    从源src复制到dst中去。当然前提是目标地址是具备可写权限。抛出的异常信息为IOException. 如果当前的dst已存在的话就会被覆盖掉</li><li>copymode( src, dst)    只是会复制其权限其他的东西是不会被复制的</li><li>copystat( src, dst)    复制权限、最后访问时间、最后修改时间</li><li>copy( src, dst)        复制一个文件到一个文件或一个目录</li><li>copy2( src, dst)   在copy上的基础上再复制文件最后访问时间与修改时间也复制过来了，类似于cp –p的东西</li><li>copy2( src, dst)   如果两个位置的文件系统是一样的话相当于是rename操作，只是改名；如果是不在相同的文件系统的话就是做move操作</li><li><strong>copytree(olddir,newdir,True/Flase)</strong>     把olddir拷贝一份newdir，如果第3个参数是True，则复制目录时将保持文件夹下的符号连接，如果第3个参数是False，则将在复制的目录下生成物理副本来替代符号连接</li><li>rmtree(dirpath) 删除目录</li><li>shutil.copyfileobj(fsrc, fdst[, length])  将文件内容拷贝到另一个文件中</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将文件内容拷贝到另一个文件中</span></span><br><span class="line">shutil.copyfileobj(<span class="built_in">open</span>(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>), <span class="built_in">open</span>(<span class="string">&#x27;new.txt&#x27;</span>, <span class="string">&#x27;w&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拷贝文件</span></span><br><span class="line">shutil.copyfile(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;old1.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 仅拷贝权限。内容、组、用户均不变</span></span><br><span class="line">shutil.copymode(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;old1.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制权限、最后访问时间、最后修改时间</span></span><br><span class="line">shutil.copystat(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;old1.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制一个文件到一个文件或一个目录</span></span><br><span class="line">shutil.copy(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;old2.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在copy上的基础上再复制文件最后访问时间与修改时间也复制过来了</span></span><br><span class="line">shutil.copy2(<span class="string">&#x27;old.txt&#x27;</span>, <span class="string">&#x27;old2.txt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 把olddir拷贝一份newdir，如果第3个参数是True，则复制目录时将保持文件夹下的符号连接，如果第3个参数是False，则将在复制的目录下生成物理副本来替代符号连接</span></span><br><span class="line">shutil.copytree(<span class="string">&#x27;C:/Users/xiaoxinsoso/Desktop/aaa&#x27;</span>, <span class="string">&#x27;C:/Users/xiaoxinsoso/Desktop/bbb&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动目录或文件</span></span><br><span class="line">shutil.move(<span class="string">&#x27;C:/Users/xiaoxinsoso/Desktop/aaa&#x27;</span>, <span class="string">&#x27;C:/Users/xiaoxinsoso/Desktop/bbb&#x27;</span>) <span class="comment"># 把aaa目录移动到bbb目录下</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除一个目录</span></span><br><span class="line">shutil.rmtree(<span class="string">&#x27;C:/Users/xiaoxinsoso/Desktop/bbb&#x27;</span>) <span class="comment"># 删除bbb目录</span></span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://www.cnblogs.com/wangzhilong/p/11986994.html#:~:text=Python-%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E6%8B%B7%E8%B4%9D%E6%93%8D%E4%BD%9C.%20%E5%9C%A8Python%E4%B8%AD%EF%BC%8C%E6%83%B3%E8%A6%81%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E6%8B%B7%E8%B4%9D%EF%BC%8C%E9%9C%80%E4%BD%BF%E7%94%A8shutil%E5%8C%85%EF%BC%8C%E5%85%B6%E4%B8%AD%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E4%B8%BAshutil.copy.%20%E8%BF%99%E9%87%8C%E4%BB%8B%E7%BB%8D%E4%B8%A4%E7%A7%8D%E6%8B%B7%E8%B4%9D%E6%96%B9%E5%BC%8F%EF%BC%9A.%20%E7%AC%AC%E4%B8%80%E7%A7%8D%E4%B8%BA%E6%96%87%E4%BB%B6%E5%A4%B9%E6%95%B4%E4%BD%93%E6%8B%B7%E8%B4%9D%EF%BC%9A.%20import%20os%20import%20shutil,not%20os.path.exists%20%28target_path%29%3A%20%23%20%E5%A6%82%E6%9E%9C%E7%9B%AE%E6%A0%87%E8%B7%AF%E5%BE%84%E4%B8%8D%E5%AD%98%E5%9C%A8%E5%8E%9F%E6%96%87%E4%BB%B6%E5%A4%B9%E7%9A%84%E8%AF%9D%E5%B0%B1%E5%88%9B%E5%BB%BA%20os.makedirs%20%28target_path%29%20">Python-文件夹的拷贝操作</a></li><li><a href="https://www.jianshu.com/p/b4c87aa6fd24">python中shutil文件操作模块的使用</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>transformer之BertModel</title>
      <link href="/2022/04/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-19-BertModel/"/>
      <url>/2022/04/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-19-BertModel/</url>
      
        <content type="html"><![CDATA[<h1>输出</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sequence_output = encoder_outputs[<span class="number">0</span>]</span><br><span class="line">    pooled_output = self.pooler(sequence_output) <span class="keyword">if</span> self.pooler <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> return_dict:</span><br><span class="line">        <span class="keyword">return</span> (sequence_output, pooled_output) + encoder_outputs[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> BaseModelOutputWithPoolingAndCrossAttentions(</span><br><span class="line">        last_hidden_state=sequence_output,</span><br><span class="line">        pooler_output=pooled_output,</span><br><span class="line">        past_key_values=encoder_outputs.past_key_values,</span><br><span class="line">        hidden_states=encoder_outputs.hidden_states,</span><br><span class="line">        attentions=encoder_outputs.attentions,</span><br><span class="line">        cross_attentions=encoder_outputs.cross_attentions,</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><p>默认输出为<br><code>sequence_output</code>:最后一层特征 output[0]<br><code>hidden_states</code>: 隐藏层特征 outputs[“hidden_states”]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>logging日志模块的使用</title>
      <link href="/2022/04/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-19-logging/"/>
      <url>/2022/04/19/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-19-logging/</url>
      
        <content type="html"><![CDATA[<h3 id="日志事件级别">日志事件级别</h3><table><thead><tr><th>级别</th><th>何时使用</th></tr></thead><tbody><tr><td>DEBUG</td><td>细节信息，仅当诊断问题时适用。</td></tr><tr><td>INFO</td><td>确认程序按预期运行</td></tr><tr><td>WARNING</td><td>表明有已经或即将发生的意外（例如：磁盘空间不足）。程序仍按预期进行</td></tr><tr><td>ERROR</td><td>由于严重的问题，程序的某些功能已经不能正常执行</td></tr><tr><td>CRITICAL</td><td>严重的错误，表明程序已不能继续执行</td></tr></tbody></table><p>默认的级别是 “WARNING“，意味着只会追踪该级别及以上的事件，除非更改日志配置。所追踪事件可以以不同形式处理。最简单的方式是输出到控制台。另一种常用的方式是写入磁盘文件。</p><hr><h3 id="basicConfig-设置"><strong>basicConfig()设置</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment">#默认的warning级别，只输出warning以上的</span></span><br><span class="line"><span class="comment">#使用basicConfig()来指定日志级别和相关信息</span></span><br><span class="line"></span><br><span class="line">logging.basicConfig(level=logging.DEBUG <span class="comment">#设置日志输出格式</span></span><br><span class="line">                    ,filename=<span class="string">&quot;demo.log&quot;</span> <span class="comment">#log日志输出的文件位置和文件名</span></span><br><span class="line">                    ,filemode=<span class="string">&quot;w&quot;</span> <span class="comment">#文件的写入格式，w为重新写入文件，默认是追加</span></span><br><span class="line">                    ,<span class="built_in">format</span>=<span class="string">&quot;%(asctime)s - %(name)s - %(levelname)-9s - %(filename)-8s : %(lineno)s line - %(message)s&quot;</span> <span class="comment">#日志输出的格式</span></span><br><span class="line">                    <span class="comment"># -8表示占位符，让输出左对齐，输出长度都为8位</span></span><br><span class="line">                    ,datefmt=<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span> <span class="comment">#时间输出的格式</span></span><br><span class="line">                    )</span><br><span class="line"></span><br><span class="line">logging.debug(<span class="string">&quot;This is  DEBUG !!&quot;</span>)</span><br><span class="line">logging.info(<span class="string">&quot;This is  INFO !!&quot;</span>)w</span><br><span class="line">logging.warning(<span class="string">&quot;This is  WARNING !!&quot;</span>)</span><br><span class="line">logging.error(<span class="string">&quot;This is  ERROR !!&quot;</span>)</span><br><span class="line">logging.critical(<span class="string">&quot;This is  CRITICAL !!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#在实际项目中，捕获异常的时候，如果使用logging.error(e)，只提示指定的logging信息，不会出现</span></span><br><span class="line"><span class="comment">#为什么会错的信息，所以要使用logging.exception(e)去记录。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">3</span>/<span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="comment"># logging.error(e)</span></span><br><span class="line">    logging.exception(e)</span><br></pre></td></tr></table></figure><p>输出日志如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2021-03-26 02:03:01 - root - DEBUG     - basiclogging : 16 line - This is  DEBUG !!</span><br><span class="line">2021-03-26 02:03:01 - root - INFO      - basiclogging : 17 line - This is  INFO !!</span><br><span class="line">2021-03-26 02:03:01 - root - WARNING   - basiclogging : 18 line - This is  WARNING !!</span><br><span class="line">2021-03-26 02:03:01 - root - ERROR     - basiclogging : 19 line - This is  ERROR !!</span><br><span class="line">2021-03-26 02:03:01 - root - CRITICAL  - basiclogging : 20 line - This is  CRITICAL !!</span><br><span class="line"></span><br><span class="line">2021-03-26 03:16:47 - root - ERROR     - basiclogging : 27 line - division by zero</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;E:/pycharm_project/examples-of-web-crawlers-master/logginng/basiclogging&quot;, line 24, in &lt;module&gt;</span><br><span class="line">    3/0</span><br><span class="line">ZeroDivisionError: division by zero</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>常用药方</title>
      <link href="/2022/04/18/Notebooks/Medical/2022-04-18-qing/"/>
      <url>/2022/04/18/Notebooks/Medical/2022-04-18-qing/</url>
      
        <content type="html"><![CDATA[<h3 id="如何治脚臭">如何治脚臭</h3><blockquote><p>每次半瓶碘伏，三片甲硝唑泡脚，晾干涂藿香正气水，再晾干涂兰美抒，然后把甲硝唑磨成粉撒在鞋子里，每三天撒一次，可以消除脚臭</p></blockquote><p>实测2天治好</p><h3 id="美白">美白</h3><p><a href="https://www.zhihu.com/question/267113859">怎么可以让全身皮肤变白？</a></p><h4 id="磨砂膏">磨砂膏</h4><p>先用沐浴露，再用磨砂膏，再用身体乳<br>磨砂膏建议冬季1-2周一次，其他季节2-4周一次</p>]]></content>
      
      
      <categories>
          
          <category> Medical </category>
          
      </categories>
      
      
        <tags>
            
            <tag> medical </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用软件</title>
      <link href="/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-04-18-linux-software/"/>
      <url>/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-04-18-linux-software/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>torch.nn.AdaptiveAvgPool2d() 自适应平均池化函数解析</title>
      <link href="/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-18-torch-nn-AdaptiveAvgPool2d/"/>
      <url>/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-04-18-torch-nn-AdaptiveAvgPool2d/</url>
      
        <content type="html"><![CDATA[<p>先来看一段代码：</p><p>AdaptiveAvgPool2d在参数中只指定了输出的大小（1，1）。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">net = nn.Sequential(b1, b2, b3, b4, b5,</span><br><span class="line">                    nn.AdaptiveAvgPool2d((<span class="number">1</span>,<span class="number">1</span>)),</span><br><span class="line">                    nn.Flatten(), nn.Linear(<span class="number">512</span>, <span class="number">10</span>))</span><br></pre></td></tr></table></figure><p>nn.AdaptiveAvgPool2d((1,1))，首先这句话的含义是使得池化后的每个通道上的大小是一个1x1的，也就是每个通道上只有一个像素点。（1，1）表示的outputsize。</p><p>原型如下：</p><p>如题：只需要给定输出特征图的大小就好，其中通道数前后不发生变化。具体如下：</p><p><strong>AdaptiveAvgPool2d</strong></p><p>CLASStorch.nn.AdaptiveAvgPool2d(output_size)<a href="https://link.zhihu.com/?target=https%3A//pytorch.org/docs/master/_modules/torch/nn/modules/pooling.html%23AdaptiveAvgPool2d">SOURCE</a></p><p>Applies a 2D adaptive average pooling over an input signal composed of several input planes.</p><p>The output is of size H x W, for any input size. The number of output features is equal to the number of input planes.</p><p>Parameters</p><p><strong>output_size</strong> – the target output size of the image of the form H x W. Can be a tuple (H, W) or a single H for a square image H x H. H and W can be either a int, or None which means the size will be the same as that of the input.</p><p>普通的2d池化如下：</p><p>在参数中指定了kernel_size,stride and padding。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">b1 = nn.Sequential(nn.Conv2d(<span class="number">1</span>, <span class="number">64</span>, kernel_size=<span class="number">7</span>, stride=<span class="number">2</span>, padding=<span class="number">3</span>),</span><br><span class="line">                   nn.BatchNorm2d(<span class="number">64</span>), nn.ReLU(),</span><br><span class="line">                   nn.MaxPool2d(kernel_size=<span class="number">3</span>, stride=<span class="number">2</span>, padding=<span class="number">1</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tools</title>
      <link href="/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/Tools/"/>
      <url>/2022/04/18/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/Tools/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.jianshu.com/p/7771794c88a1">Markdown介绍及使用教程</a></p><p><a href="https://zhuanlan.zhihu.com/p/38554069?utm_source=qq">如何利用OneNote高效做笔记</a></p><h3 id="Markdown">Markdown</h3><p><a href="https://markdown.com.cn">https://markdown.com.cn</a></p><p><strong><a href="https://www.jianshu.com/p/25f0139637b7">markdown中公式编辑教程</a></strong></p><p><a href="https://www.jianshu.com/p/a0aa94ef8ab2">Markdown写数学公式</a></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>α</mi><mo>+</mo><mi>β</mi></mrow><annotation encoding="application/x-tex">\alpha+\beta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">α</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">β</span></span></span></span></span></p><p><a href="https://zhuanlan.zhihu.com/p/158156773">https://zhuanlan.zhihu.com/p/158156773</a></p><p><a href="https://zhuanlan.zhihu.com/p/50667788">使用LaTeX语法编写数学公式（持续更新）</a><br><a href="https://blog.csdn.net/u012028275/article/details/115445362">【Markdown笔记】设置字体颜色</a></p><p><a href="https://www.zhihu.com/question/20962496">github写博客</a></p><p>豆沙绿颜色值：RGP值（199，237，204）   色调：85 饱和度：123 亮度：205</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常见文件操作命令</title>
      <link href="/2022/04/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/file-operation/"/>
      <url>/2022/04/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/file-operation/</url>
      
        <content type="html"><![CDATA[<h2 id="文件复制拷贝删除">文件复制拷贝删除</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cp -i a.c /path/a.c # copy file</span><br><span class="line">rm -rf a.py　   # 删除文件</span><br><span class="line">rm -rf data     # 删除文件夹 </span><br><span class="line">touch a.py/vim a.py      # 创建文件</span><br><span class="line">mkdir data      # 创建文件夹</span><br><span class="line">scp /home/lmc/a.py(local) username@ip:/home/lmc/fuwuqi/(remote)  # copy单个文件到远程</span><br><span class="line">scp -r /home/lmc/test/ xxx@192.168.x.xxx:/home/lmc/fuwuqi/   # copy文件夹到远程</span><br></pre></td></tr></table></figure><h2 id="文件查找">文件查找</h2><p><a href="https://blog.csdn.net/faihung/article/details/84101603">查找软件安装位置</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -name nginx</span><br><span class="line">find . -name &quot;*libc*&quot;</span><br></pre></td></tr></table></figure><p>用于查找文件里符合条件的字符串 <code>grep</code><br><a href="https://blog.51cto.com/nameyjj/557424">查看版本信息</a> <code>lsb_release -a</code><br><a href="https://www.linuxprobe.com/five-command-down-browse.html">终端下载文件</a><br>配置环境变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br><span class="line">export PATH=&quot;你的路劲/anaconda3/bin:$PATH&quot;</span><br></pre></td></tr></table></figure><p>查看文件夹下文件内容所在位置： <code>grep -r &quot;api/v2&quot;</code></p><p>查找当前用户监听端口</p><p><code>lsof -i |grep LISTEN</code></p><h2 id="移动文件或文件夹">移动文件或文件夹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv 旧文件/目录 新文件名/目录</span><br></pre></td></tr></table></figure><h2 id="重命名文件或文件夹">重命名文件或文件夹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv oldName newName </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Linux命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过zip命令压缩和解压缩文件</title>
      <link href="/2022/04/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/zip/"/>
      <url>/2022/04/15/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/zip/</url>
      
        <content type="html"><![CDATA[<p>通常 zip 已经安装，但验证下也没坏处。你可以运行以下命令来安装 <code>zip</code> 和 <code>unzip</code>。如果它尚未安装，它将立即安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zip unzip</span><br></pre></td></tr></table></figure><h3 id="zip">zip</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip [-dDqrS] [-b path] [zipfile [file ...]]</span><br></pre></td></tr></table></figure><ul><li><p>-d : 从 压缩文件内删除指定的文件</p></li><li><p>-D : 压 缩文件内不建立目录名称</p></li><li><p>-q : 不显 示指令执行过程</p></li><li><p>-r : 递 归处理，将指定目录下的所有文件和子目录一并处理</p></li><li><p>-S : 包 含系统和隐藏文件</p></li><li><p>-&lt;压缩效率&gt; 压 缩效率是一个介于1-9的 数值</p></li><li><p>-b : 创建zip文件临时目录</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zip -r output_file.zip file1 folder1</span><br><span class="line"><span class="comment"># 如果文件过大，建议不显示指令执行过程</span></span><br><span class="line">zip -qr output_file.zip file1 folder1</span><br></pre></td></tr></table></figure><p>分卷压缩和合并解压</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">----- 分卷压缩 -----</span></span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将文件或者文件件打包为zip压缩包，book.zip大小为38.8M</span></span><br><span class="line">zip -r book.zip ./input.pdf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将book.zip分割，每个压缩包不超过20M，生成两个压缩包subbook.zip（17.8M）和subbook.z01（21M）</span></span><br><span class="line">zip -s 20m book.zip --out subbook.zip</span><br><span class="line"> </span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">----- 合并解压 -----</span></span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将上述两个压缩包合并为一个压缩文件single.zip</span></span><br><span class="line">zip subbook.zip -s=0 --out single.zip</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">解压single.zip</span></span><br><span class="line">unzip -d ./ single.zip</span><br></pre></td></tr></table></figure><h3 id="unzip">unzip</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip [-Z] [-cflptTuvz[abjnoqsCDKLMUVWX$/:^]] file[.zip] [file(s) ...] [-d exdir]</span><br></pre></td></tr></table></figure><ul><li>-j : 目录结构不重新创建</li><li>file[.zip]:待解压的包</li><li>[file(s) …]：要解压的文件，默认解压全部文件</li><li>-d : 解压的输出目录,默认当前目录</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip ***.zip</span><br></pre></td></tr></table></figure><h3 id="zipsplit">zipsplit</h3><p>命令用于将较大的“zip”压缩包分割成各个较小的“zip”压缩包。</p><p>**语法格式：**zipsplit [参数]</p><p><strong>常用参数：</strong></p><table><thead><tr><th>-n</th><th>指定分割后每个zip文件的大小</th></tr></thead><tbody><tr><td>-t</td><td>报告将要产生的较小的zip文件的大小</td></tr><tr><td>-b</td><td>指定分割后的zip文件的存放位置</td></tr></tbody></table><p><strong>参考实例</strong></p><p>分割每个文件为1k：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zipsplit -n 1000 file.zip </span><br></pre></td></tr></table></figure><p>指定分割后的zip文件的存放位置：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zipsplit -b 50 file.zip file1</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://linux.cn/article-10778-1.html">初级：如何在 Linux 中 zip 压缩文件和文件夹</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Linux命令 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac安装并运行nginx</title>
      <link href="/2022/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-04-12-install-nginx-on-mac/"/>
      <url>/2022/04/12/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-04-12-install-nginx-on-mac/</url>
      
        <content type="html"><![CDATA[<h2 id="1-安装-brew">1. 安装 brew</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/ruby -e <span class="string">&quot;<span class="subst">$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span>&quot;</span></span><br></pre></td></tr></table></figure><p><strong>【报错】：</strong> Failed to connect to <a href="http://raw.githubusercontent.com">raw.githubusercontent.com</a> port 443: Connection refused</p><p><strong>换个命令重新安装：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/zsh -c <span class="string">&quot;<span class="subst">$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)</span>&quot;</span></span><br></pre></td></tr></table></figure><p>参考： <a href="https://www.cnblogs.com/jiefangzhe/p/12929078.html">https://www.cnblogs.com/jiefangzhe/p/12929078.html</a></p><p><strong>验证安装成功：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew -v</span><br></pre></td></tr></table></figure><h2 id="2-安装-nginx">2. 安装 nginx</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install nginx</span><br></pre></td></tr></table></figure><p><strong>验证安装成功：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure><h2 id="3-修改-nginx配置">3. 修改 nginx配置</h2><p><strong>查看nginx配置文件路径： <code>nginx -t</code></strong><br><strong>1. 定义需要转发的服务地址：</strong></p><p>MacOS 12.1之后的配置存储位置为：<code>/opt/homebrew/etc/nginx/nginx.conf</code></p><p><img src="https://img-blog.csdnimg.cn/20201002161613502.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDYxNTE1NQ==,size_16,color_FFFFFF,t_70#pic_center" alt=""><br><strong>2. 配置请求转发：</strong><img src="https://img-blog.csdnimg.cn/20201002160855663.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDYxNTE1NQ==,size_16,color_FFFFFF,t_70#pic_center" alt=""></p><h2 id="4-运行-nginx">4. 运行 nginx</h2><p><strong>1. 运行 nginx</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx</span><br></pre></td></tr></table></figure><p><strong>2. 重新加载 nginx</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure><p><strong>3. 关闭 nginx</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s stop</span><br></pre></td></tr></table></figure><h2 id="端口转发">端口转发</h2><p><a href="https://zhuanlan.zhihu.com/p/108740468">用Nginx做端口转发（反向代理）</a></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server&#123;</span></span><br><span class="line">  <span class="attr">listen</span> <span class="string">6605;</span></span><br><span class="line">  <span class="attr">server_name</span>  <span class="string">47.94.144.238;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">    <span class="attr">proxy_pass</span>  <span class="string">http://192.168.1.3:80; </span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 基本配置OK</span></span><br><span class="line"><span class="attr">server&#123;</span></span><br><span class="line">  <span class="attr">listen</span> <span class="string">80;</span></span><br><span class="line">  <span class="attr">server_name</span>  <span class="string">localhost;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">location</span> <span class="string">~ /&#123;</span></span><br><span class="line">    <span class="attr">root</span> <span class="string">/www/wwwroot/zhangfan;</span></span><br><span class="line">    <span class="attr">index</span> <span class="string">index.html;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 本地端口转发OK</span></span><br><span class="line"><span class="attr">server&#123;</span></span><br><span class="line">  <span class="attr">listen</span> <span class="string">801;</span></span><br><span class="line">  <span class="attr">server_name</span>  <span class="string">localhost;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">location</span>  <span class="string">/&#123;</span></span><br><span class="line">    <span class="attr">proxy_pass</span>  <span class="string">http://localhost:6601;</span></span><br><span class="line">    <span class="attr">proxy_set_header</span> <span class="string">HOST $host;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span> <span class="string"></span></span><br><span class="line"><span class="comment"># 内网端口转发OK</span></span><br><span class="line"><span class="attr">server&#123;</span></span><br><span class="line">  <span class="attr">listen</span> <span class="string">802;</span></span><br><span class="line">  <span class="attr">server_name</span>  <span class="string">localhost;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">location</span>  <span class="string">/&#123;</span></span><br><span class="line">    <span class="attr">proxy_pass</span>  <span class="string">http://192.168.1.3:80;</span></span><br><span class="line">    <span class="attr">proxy_set_header</span> <span class="string">HOST $host;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span>   <span class="string"></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">server&#123;</span></span><br><span class="line">  <span class="attr">listen</span> <span class="string">80;</span></span><br><span class="line">  <span class="attr">server_name</span>  <span class="string">tomcat.shaochenfeng.com;</span></span><br><span class="line">  <span class="attr">index</span>  <span class="string">index.php index.html index.htm;</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">    <span class="attr">proxy_pass</span>  <span class="string">http://127.0.0.1:8080; # 转发规则</span></span><br><span class="line">    <span class="attr">proxy_set_header</span> <span class="string">Host $proxy_host; # 修改转发请求头，让8080端口的应用可以受到真实的请求</span></span><br><span class="line">    <span class="attr">proxy_set_header</span> <span class="string">X-Real-IP $remote_addr;</span></span><br><span class="line">    <span class="attr">proxy_set_header</span> <span class="string">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span><br><span class="line">  <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="配置参考">配置参考</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>      <span class="string">80;</span></span><br><span class="line">    <span class="attr">server_name</span> <span class="string">testimages.zhuanzhi.ai;</span></span><br><span class="line">    <span class="attr">charset</span> <span class="string">utf-8;</span></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">root</span> <span class="string">/home/hujun/web/image;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">server</span>  <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>      <span class="string">80;</span></span><br><span class="line">    <span class="attr">server_name</span> <span class="string">medical.zhuanzhi.ai;</span></span><br><span class="line">    <span class="attr">charset</span> <span class="string">utf-8;</span></span><br><span class="line"><span class="comment">    #location  / &#123;</span></span><br><span class="line"><span class="comment">    #    return 301 /graph/index.html;</span></span><br><span class="line"><span class="comment">#       proxy_set_header HOST $host;</span></span><br><span class="line"><span class="comment">#    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span>  <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">root</span> <span class="string">/usr/share/nginx/zhitu/html;</span></span><br><span class="line">        <span class="attr">index</span> <span class="string">index.html;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">HOST $host;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">location</span>  <span class="string">/zhitu-api &#123;</span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://localhost:7075;</span></span><br><span class="line">        <span class="attr">proxy_set_header</span> <span class="string">HOST $host;</span></span><br></pre></td></tr></table></figure><h2 id="配置">配置</h2><p>错误日志配置，在<code>http</code>内<br><code>error_log  /www/wwwlogs/zhangfan/nginx-error.log error;</code></p><h2 id="Reference">Reference</h2><ol><li><a href="https://blog.csdn.net/weixin_40615155/article/details/108901854">https://blog.csdn.net/weixin_40615155/article/details/108901854</a></li><li><a href="https://blog.csdn.net/weixin_45825077/article/details/107134300">https://blog.csdn.net/weixin_45825077/article/details/107134300</a></li><li><a href="https://www.cnblogs.com/taiyonghai/p/6728707.html">Nginx Linux详细安装部署教程</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>在Mac上通过imagemagick压缩gif动图</title>
      <link href="/2022/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/compress-gif-by-imagemagick/"/>
      <url>/2022/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/compress-gif-by-imagemagick/</url>
      
        <content type="html"><![CDATA[<h1>安装homebrew</h1><p>参照网络</p><h1>安装imagemagick</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install imagemagick</span><br></pre></td></tr></table></figure><h1>转换</h1><p>终端里输入：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">convert old.gif -fuzz 15% -layers Optimize new.gif</span><br></pre></td></tr></table></figure><p>(-fuzz 15%指压缩率15%，你也可以尝试换成别的数值 ， newlsj.gif代表压制后动图的文件名，你可以随便改成别的)</p>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>导入自定义包的三种导入方式</title>
      <link href="/2022/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-11-how-to-import-packages/"/>
      <url>/2022/04/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/2022-04-11-how-to-import-packages/</url>
      
        <content type="html"><![CDATA[<h1>1.自定义包</h1><p><code>包</code>就是一个至少包含<code>__init__.py</code>文件的文件夹，这个文件是<strong>必须存在</strong>的，否则，<code>Python</code>就把这个目录当成<strong>普通目录(文件夹)</strong>，而不是一个<code>包</code>。<code>__init__.py</code>可以是<strong>空文件</strong>，也可以有<code>Python代码</code>，因为<code>__init__.py</code><strong>本身就是一个模块</strong>，而它的模块名就是对应包的名字。<strong>调用包就是执行包下的</strong><code>__init__.py</code><strong>文件</strong>。</p><p>以下自定义了一个包，包所在的目录为<code>D:\Code_Sources\Python\Test\</code>，即就是这个目录下有个叫<code>parent</code>的包。</p><p><img src="https://ask.qcloudimg.com/http-save/yehe-7042105/wnivgqa3zo.png?imageView2/2/w/1620" alt="img"></p><h2 id="1-1-parent-目录中的文件">1.1. parent 目录中的文件</h2><h3 id="init-py"><strong>init</strong>.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># parent 的 __init__.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;parent 作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;parent 初始化&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="1-2-pack-目录中的文件">1.2. pack 目录中的文件</h2><h3 id="init-py-2"><strong>init</strong>.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pack 的 __init__.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Pack初始化&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="mod-py"><a href="http://mod.py/">mod.py</a></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;pack.mod.func()&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod 作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod 被另一个模块调用&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="1-3-pack2-目录中的文件">1.3. pack2 目录中的文件</h2><h3 id="init-py-3"><strong>init</strong>.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pack2 的 __init__.py</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># __all__ 用于当前Pack2包是所包含的模块</span></span><br><span class="line">__all__ = [<span class="string">&quot;mod2_1&quot;</span>, <span class="string">&quot;mod2_2&quot;</span>, <span class="string">&quot;mod2_3&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Pack2作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;Pack2初始化&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="mod2-1-py">mod2_1.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mod2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;pack2.mod2_1.func()&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod2_1 作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod2_1 被另一个模块调用&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="mod2-2-py">mod2_2.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mod2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;pack2.mod2_2.func()&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod2_2 作为主程序运行&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;mod2_2 被另一个模块调用&#x27;</span>)</span><br></pre></td></tr></table></figure><h1>2.导入（自定义）包的3种方法</h1><p>我在桌面<code>C:\Users\Administrator\Desktop\</code>新建了一个<code>main.py</code>文件**（和自定义的包不在一个目录）**，<strong>自定义包的目录：</strong><code>D:\Code_Sources\Python\Test\</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将包含parent包的路径添加进系统路径</span></span><br><span class="line">sys.path.append(<span class="string">r&quot;D:\Code_Sources\Python\Test&quot;</span>) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;-----开始import-----\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> parent.pack2.mod2_1          <span class="comment"># 第1种 引用方法</span></span><br><span class="line"><span class="keyword">import</span> parent.pack2.mod2_2 <span class="keyword">as</span> p2m2  <span class="comment"># 第2种 引用方法</span></span><br><span class="line"><span class="keyword">from</span> parent.pack.mod <span class="keyword">import</span> *       <span class="comment"># 第3种 引用方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-----开始main-----\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 第1种 引用的调用方法</span></span><br><span class="line">    parent.pack2.mod2_1.func() </span><br><span class="line">    <span class="comment"># 第2种 引用的调用方法</span></span><br><span class="line">    p2m2.func()</span><br><span class="line">    <span class="comment"># 第3种 引用的调用方法</span></span><br><span class="line">    func()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#  import就会把注册在包 __init__.py 文件中 __all__列表中的子模块和子包导入到当前作用域中</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;\npack2包中的模块有：&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(parent.pack2.__all__)</span><br></pre></td></tr></table></figure><p><strong>运行结果：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">-----开始import-----</span><br><span class="line"></span><br><span class="line">parent 初始化</span><br><span class="line">Pack2初始化</span><br><span class="line">mod2_1 被另一个模块调用</span><br><span class="line">mod2_2 被另一个模块调用</span><br><span class="line">Pack初始化</span><br><span class="line">mod 被另一个模块调用</span><br><span class="line">-----开始main-----</span><br><span class="line"></span><br><span class="line">pack2.mod2_1.func()</span><br><span class="line">pack2.mod2_2.func()</span><br><span class="line">pack.mod.func()</span><br><span class="line"></span><br><span class="line">pack2包中的模块有：</span><br><span class="line">[&#x27;mod2_1&#x27;, &#x27;mod2_2&#x27;, &#x27;mod2_3&#x27;]</span><br><span class="line"></span><br><span class="line">请按任意键继续. . .</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://cloud.tencent.com/developer/article/1596466">原文转载</a></li><li><a href="https://blog.csdn.net/xiongchengluo1129/article/details/80453599">在Python中以绝对路径或者相对路径导入文件的方法</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>将jupyter notebook转成Markdown文件</title>
      <link href="/2022/04/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/convert-jupyter-to-markdown/"/>
      <url>/2022/04/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/convert-jupyter-to-markdown/</url>
      
        <content type="html"><![CDATA[<h2 id="一、准备工作">一、准备工作</h2><p>安装nbconverter: <a href="https://link.zhihu.com/?target=https%3A//nbconvert.readthedocs.io/en/latest/">nbconvert: Convert Notebooks to other formats</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install nbconvert</span><br></pre></td></tr></table></figure><p><strong>注意依赖项：</strong></p><ul><li><strong>基本依赖：pandoc</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandoc</span><br></pre></td></tr></table></figure><ul><li><strong>如果需要转tex：</strong><a href="https://link.zhihu.com/?target=http%3A//tug.org/texlive/">http://tug.org/texlive/</a></li><li>如果需要转pdf: Chromium <a href="https://link.zhihu.com/?target=https%3A//github.com/pyppeteer/pyppeteer">pyppeteer/pyppeteer</a></li></ul><p><img src="https://pic4.zhimg.com/80/v2-ca3061832df5003c5afbcdc20a06bdc3_1440w.jpg" alt="img"></p><h2 id="二、使用方法">二、使用方法</h2><p>命令行：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter nbconvert --to FORMAT notebook.ipynb</span><br></pre></td></tr></table></figure><p>这里<code>FORMAT</code> 用具体的格式替换，如 <code>markdown</code>, <code>html</code>等。</p><p>例如：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter nbconvert --to markdown notebook.ipynb</span><br></pre></td></tr></table></figure><p>可以将别名添加进zshrc文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias nb2md=&quot;jupyter nbconvert --to markdown&quot;</span><br></pre></td></tr></table></figure><h2 id="三、测试">三、测试</h2><p>准备一个<code>ipynb</code>文件：</p><p><img src="https://pic1.zhimg.com/v2-504b4ce2a7050186d851c528b532b1e8_b.jpg" alt="img"></p><p>这里为了测试它的性能，特意画了一个图。</p><p>用上述命令转格式，在<code>Typora</code>打开：</p><p><img src="https://pic4.zhimg.com/v2-51f77e331b6ce419a88b4749c9c83eb3_b.jpg" alt="img"></p><p>对比内容：</p><p><img src="https://pic2.zhimg.com/v2-239bc117b705dd6aec187c3990225e79_b.jpg" alt="img"></p><p>一模一样。</p><h2 id="四、其它问题">四、其它问题</h2><ul><li>1、支持的其它类型文件：</li></ul><p><img src="https://pic2.zhimg.com/80/v2-1b985561f9fa9412c23ba89f54ffc855_1440w.jpg" alt="img"></p><ul><li>2、 可以在命令行实现多个文件导出</li></ul><p><img src="https://pic2.zhimg.com/80/v2-984c7cc19f54f7082d969529a2521d75_1440w.jpg" alt="img"></p><p>只需要写一个<code>py</code>文件即可，如上图第二个cell。</p><ul><li>3、<code>nbconverter</code>还可以直接作为 <code>python</code>库来使用</li></ul><p>详见官网：<a href="https://link.zhihu.com/?target=https%3A//nbconvert.readthedocs.io/en/latest/nbconvert_library.html">Using nbconvert as a library</a></p><h1>Reference</h1><ol><li>转载自<a href="https://zhuanlan.zhihu.com/p/371132826">Jupyter Notebook文件转markdown</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pymysql的基本用法</title>
      <link href="/2022/04/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/pymysql/"/>
      <url>/2022/04/08/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/pymysql/</url>
      
        <content type="html"><![CDATA[<h1>安装pymysql</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pymysql</span><br></pre></td></tr></table></figure><h1>连接数据库</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db = pymysql.connect(host=IP_address, user=username, password=password, database=database_name, charset=<span class="string">&quot;utf8&quot;</span>)</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li>host：数据库IP地址，本地可以为<code>localhost</code></li><li>user：数据库用户名</li><li>password：数据库用户名对应的密码</li><li>password：要连接的数据库名称</li></ul><h1>增删改查</h1><p>操作都要通过一个游标执行，所以，创建连接的时候，直接创建一个cursor</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cursor = db.cursor()</span><br></pre></td></tr></table></figure><h2 id="执行语句">执行语句</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cursor.execute(command, params=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><p>参数说明：</p><ul><li><code>command</code>：str类型，sql语句字符串</li><li><code>params</code>：tuple类型，当command使用占位符<code>%s</code>时，可传入占位符对应的字符值</li></ul><h1>关闭数据库连接</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cursor.close() <span class="comment"># 需要先关闭游标</span></span><br><span class="line">db.close() </span><br></pre></td></tr></table></figure><h1>实例说明</h1><h2 id="测试环境">测试环境</h2><ul><li>数据库版本：5.6.41</li><li>系统：MacOS 10.13.6</li></ul><p>下面的数据库被用来作实例说明</p><p>创建脚本</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> Navicat Premium Data Transfer</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Source Server         : 127.0.0.1-root</span></span><br><span class="line"><span class="comment"> Source Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Source Server Version : 50641</span></span><br><span class="line"><span class="comment"> Source Host           : localhost:3306</span></span><br><span class="line"><span class="comment"> Source Schema         : test</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Target Server Type    : MySQL</span></span><br><span class="line"><span class="comment"> Target Server Version : 50641</span></span><br><span class="line"><span class="comment"> File Encoding         : 65001</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> Date: 08/04/2022 20:03:35</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> NAMES utf8mb4;</span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for user</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">user</span>`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>` (</span><br><span class="line">  `id` <span class="type">varchar</span>(<span class="number">12</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `age` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>latin1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of user</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;id_001&#x27;</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="number">23</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;id_002&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">25</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;id_003&#x27;</span>, <span class="string">&#x27;Rose&#x27;</span>, <span class="number">18</span>);</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204081959090.png" alt=""></p><h3 id="连接数据库">连接数据库</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line">db = pymysql.connect(host=<span class="string">&quot;localhost&quot;</span>, user=<span class="string">&quot;root&quot;</span>, password=<span class="string">&quot;&quot;</span>, database=<span class="string">&quot;test&quot;</span>)</span><br><span class="line">cursor= db.cursor()</span><br></pre></td></tr></table></figure><h3 id="查询">查询</h3><p>查询返回的数据为二维tuple类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cmd = <span class="string">&quot;select * from user&quot;</span></span><br><span class="line">result=cursor.execute(cmd)</span><br><span class="line">data = cursor.fetchmany(result)</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> data: <span class="built_in">print</span>(_)</span><br></pre></td></tr></table></figure><p>​    (‘id_001’, ‘Tom’, 23)<br>​    (‘id_002’, ‘Jack’, 25)<br>​    (‘id_003’, ‘Rose’, 18)</p><h3 id="增加数据">增加数据</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmd = <span class="string">&quot;insert into `user` values (%s,%s,%s)&quot;</span></span><br><span class="line">param=(<span class="string">&quot;id_004&quot;</span>, <span class="string">&quot;Lucy&quot;</span>, <span class="built_in">str</span>(<span class="number">21</span>))</span><br><span class="line">r = cursor.execute(cmd, param)</span><br><span class="line"><span class="built_in">print</span>(r)</span><br><span class="line">cmd = <span class="string">&quot;select * from user&quot;</span></span><br><span class="line">result=cursor.execute(cmd)</span><br><span class="line">data = cursor.fetchmany(result)</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> data: <span class="built_in">print</span>(_)</span><br></pre></td></tr></table></figure><p>​    1<br>​    (‘id_001’, ‘Tom’, 23)<br>​    (‘id_002’, ‘Jack’, 25)<br>​    (‘id_003’, ‘Rose’, 18)<br>​    (‘id_004’, ‘Lucy’, 21)</p><h3 id="删除数据库">删除数据库</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cmd = <span class="string">&quot;delete from user where username=%s&quot;</span></span><br><span class="line">param=(<span class="string">&quot;Lucy&quot;</span>,)</span><br><span class="line">r = cursor.execute(cmd, param)</span><br><span class="line"><span class="built_in">print</span>(r)</span><br><span class="line">cmd = <span class="string">&quot;select * from user&quot;</span></span><br><span class="line">result=cursor.execute(cmd)</span><br><span class="line">data = cursor.fetchmany(result)</span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> data: <span class="built_in">print</span>(_)</span><br></pre></td></tr></table></figure><p>​    1<br>​    (‘id_001’, ‘Tom’, 23)<br>​    (‘id_002’, ‘Jack’, 25)<br>​    (‘id_003’, ‘Rose’, 18)</p><h3 id="关闭数据库连接">关闭数据库连接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cursor.close()</span><br><span class="line">db.close()</span><br></pre></td></tr></table></figure><h3 id="提交数据库">提交数据库</h3><p>对数据库做了改变之后，必须提交，否则数据库不会更新</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.commit()</span><br></pre></td></tr></table></figure><h1>封装</h1><p>下面的包直接进一步封装了pymysql包，根据个人需求可以自己更改</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql, os, json</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MySQL</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># 打开数据库连接</span></span><br><span class="line">        self.db = pymysql.connect(host = <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">                                  user = <span class="string">&quot;root&quot;</span>, </span><br><span class="line">                                  password = <span class="string">&quot;&quot;</span>, </span><br><span class="line">                                  database = <span class="string">&quot;test&quot;</span>)</span><br><span class="line">        <span class="comment"># 使用 cursor() 方法创建一个游标对象 cursor</span></span><br><span class="line">        self.cursor = self.db.cursor()</span><br><span class="line">        self.<span class="built_in">open</span> = <span class="literal">True</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;数据库连接成功！ connect database succeed!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">connect</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">execute</span>(<span class="params">self, command, params=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="comment"># 使用 execute()  方法执行 SQL 查询</span></span><br><span class="line">        r = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> params <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            r = self.cursor.execute(command)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            r = self.cursor.execute(command, params)</span><br><span class="line">        <span class="keyword">return</span> r</span><br><span class="line">      </span><br><span class="line"><span class="comment">#  返回的是一个二维的tuple</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">query</span>(<span class="params">self, command, params=<span class="literal">None</span></span>):</span><br><span class="line">        result = self.cursor.execute(command, params)</span><br><span class="line">        <span class="comment"># 使用 fetchone() 方法获取单条数据.</span></span><br><span class="line">        data = self.cursor.fetchmany(result)</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">commit</span>(<span class="params">self</span>):</span><br><span class="line">        self.db.commit()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">close</span>(<span class="params">self</span>):</span><br><span class="line">      <span class="keyword">if</span> self.<span class="built_in">open</span>:</span><br><span class="line">          self.cursor.close()</span><br><span class="line">          self.db.close()</span><br><span class="line">          self.<span class="built_in">open</span> = <span class="literal">False</span></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;数据库成功关闭！&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">      self.close()</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    sql = MySQL()</span><br><span class="line">    <span class="comment"># cmd = &quot;select * from person where code =12345&quot;</span></span><br><span class="line">    <span class="comment"># r = sql.query(cmd)</span></span><br><span class="line">    <span class="comment"># import_customers(sql)</span></span><br><span class="line">    r= sql.query(<span class="string">&quot;show tables&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(r)</span><br><span class="line">    sql.close()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;completed!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://www.cnblogs.com/xfxing/p/9322199.html">pymysql的基本使用</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>黑苹果安装教程</title>
      <link href="/2022/04/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-04-01-hackintosh/"/>
      <url>/2022/04/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Mac/2022-04-01-hackintosh/</url>
      
        <content type="html"><![CDATA[<h1>黑苹果安装教程</h1><h2 id="前言">前言</h2><p>本教程参考资料主要来源于<a href="https://heipg.cn/">黑苹果星球</a>，目前推荐使用OpenCore安装。<br>安装的EFI文件有2种来源，一种是直接使用别人相似的配置（建议），另外一种是使用OC Gem-x自己生成。</p><h2 id="第一章-工具下载地址">第一章 工具下载地址</h2><ul><li><a href="https://www.mfpud.com/tools/hackintool/">Hackintool</a></li><li><a href="https://macoshome.com/hackintosh/uefistart/2456.html#Down">opencore</a></li></ul><h3 id="OpenCore-Configurator">OpenCore Configurator</h3><ul><li><a href="https://heipg.cn/?cat=6&amp;s=opencore++configurator">OCC 黑苹果星球</a></li><li><a href="https://macoshome.com/hackintosh/htools/2100.html#Down">OpenCore Configurator OCC</a></li></ul><h3 id="OC-Gen-X">OC Gen-X</h3><p><a href="https://www.mfpud.com/opencore/ocgenx/">OC Gen-X黑苹果动力下载地址</a></p><p><a href="https://heipg.cn/?cat=&amp;s=OC+Gen">OC Gen-X黑苹果星球下载地址</a></p><h2 id="第二章-OpenCore-EFI文件生成">第二章 OpenCore EFI文件生成</h2><ul><li>按照教程<a href="https://heipg.cn/tutorial/one-key-opencore-efi.html">一键生成黑苹果 OpenCore EFI 文件：OC.Gen-X</a>生成好默认EFI，其中启动参数使用：</li></ul> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># alcid:根据声卡决定，如果默认不行，自己修改。</span><br><span class="line">-v debug=0x100 keepsyms=1 igfxonln=1 -alcbeta alcid=1</span><br></pre></td></tr></table></figure><ul><li><p>手动添加驱动：</p><blockquote><p>HibernationFixup.kext<br>USBMap.kext</p></blockquote></li></ul><h2 id="第三章-安装教程">第三章 安装教程</h2><p><strong>注意</strong></p><blockquote><p>引导的<code>efi</code>文件位置是<code>/EFT/OC/opencore.eft</code>，不是<code>/EFI/Boot/Boot.efi</code>，设置错误，可能导致无法开机。<br>如果选择<code>Reset NVRam</code>会导致引导位置重置为<code>/EFI/Boot/Boot.efi</code>，进一步导致无法开机。</p></blockquote><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202303121125006.png" alt=""></p><h3 id="网络恢复版">网络恢复版</h3><p><a href="https://heipg.cn/tutorial/install-macos-via-internet-recovery.html">恢复版安装教程</a></p><ol><li>保证PC能联网，不管是有线还是无线都可以</li><li>将一块硬盘扇区全部删除，用DiskGenius在硬盘的最前端创建1个3G的ESP分区，并格式化。将系统恢复文件和EFI文件拷贝进去。</li><li>用EasyUEFI创建EFI引导，引导到第二部的ESP分区的路径**<code>/EFI/OC/opencore.efi</code>**文件，保存重启</li><li>进入BIOS，将第三部设置的引导设置为第一位。重启</li><li>安装盘名为<code>NONAME</code></li></ol><blockquote><p>默认是<code>NONAME</code>，如果要修改，需要在恢复镜像文件夹内添加文本文件，修改为需要显示的内容，然后将文本文件名修改为<code>.contentDetails</code></p></blockquote><ol start="6"><li>其他正常安装。</li></ol><p><a href="https://macoshome.com/hackintosh/hcourse/6103.html">https://macoshome.com/hackintosh/hcourse/6103.html</a></p><h3 id="U盘刻录版教程">U盘刻录版教程</h3><h2 id="第四章-个人安装实例">第四章 个人安装实例</h2><h3 id="Z97D3H-i5-4690k-GTX970">Z97D3H + i5 4690k + GTX970</h3><h4 id="CPU对比">CPU对比</h4><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202211021740545.png" alt=""></p><h4 id="BIOS设置BIOS设置">BIOS设置<img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011445612.png" alt="BIOS设置"></h4><h3 id="惠普战66G1Pro双系统">惠普战66G1Pro双系统</h3><ol><li>划分2个独立的磁盘，一个用DiskGenius创建ESP盘格式化，大约2G，另外一个用windows磁盘管理工具，创建一个盘，不要格式化。（<a href="https://blog.csdn.net/weixin_43971764/article/details/106075438">双系统磁盘创建</a>）</li><li>将EFI文件和恢复版系统拷贝进ESP分区</li><li>用EasyEFI工具创建EFI引导</li><li>其他一样</li></ol><h2 id="第五章-OpenCore-Configurator">第五章 OpenCore Configurator</h2><p><a href="https://macoshome.com/hackintosh/htools/2100.html#Down">下载地址</a></p><p><a href="https://gitee.com/shuiyunxc/OpenCore-Configurator">版本说明</a></p><p><a href="https://macx.top/8780.html">使用教程</a></p><p><a href="http://softwareupdate.vmware.com/cds/vmw-desktop/fusion">vmtools</a></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011445614.jpg" alt=""></p><h3 id="修改主题">修改主题</h3><p><a href="https://heipg.cn/tutorial/opencore-modern-picker.html">教程</a></p><ul><li><a href="https://heipg.cn/tutorial/opencore-070-rog-theme-neon.html">霓虹ROG主题</a></li><li><a href="https://heipg.cn/apps/opencore-theme-pinkdream.html">元气少女主题</a></li></ul><h3 id="关闭啰嗦模式">关闭啰嗦模式</h3><p>No2.关闭 -v 跑代码（关闭啰嗦模式）</p><p>NVRAM-随机访问寄存器设置 --&gt; 添加 --&gt; UUID：7C436110-AB2A-4BBB-A880-FE41995C9F82</p><p>查找键：<code>boot-args</code></p><p>删除值：<code>-v</code></p><h3 id="切换默认启动磁盘">切换默认启动磁盘</h3><p>启动界面按<code>Ctrl</code>+<code>Enter</code></p><h3 id="声卡设置">声卡设置</h3><p>DeviceProperties-设备属性设置</p><p>设备ID：<code>PciRoot(0x0)/Pci(0x1b,0x0)</code>必须存在，否则会无法识别耳机</p><h3 id="显卡设置">显卡设置</h3><p>DeviceProperties-设备属性设置</p><p>设备ID：<code>PciRoot(0x0)/Pci(0x2,0x0)</code>必须存在，否则会无法驱动显卡</p><h3 id="添加UEFI引导项">添加UEFI引导项</h3><p>「注意」使用 Clover 引导时，启动文件可选择 BOOTX64.efi 也可以选择 CLOVERX64.efi；但使用 OpenCore 引导时，启动文件必须选择 BOOTx64.efi，否则会造成莫名其妙的问题，切记切记！</p><h2 id="第六章-系统优化">第六章 系统优化</h2><p><a href="https://apple.sqlsec.com/7-%E5%AE%8C%E7%BE%8E%E9%BB%91%E6%9E%9C/7-1/">完美黑苹果</a></p><h3 id="启动参数">启动参数</h3><p>不管是OCG还是黑苹果星球的配置文件，引导不了多数原因是启动参数的问题，启动参数在<code>NVRAM</code>中的<code>7C436110-AB2A-4BBB-A880-FE41995C9F82</code>中修改，以下是几个参数模板：</p><ul><li>OCG内置主题-可启动<br><code>-v keepsyms=1 debug=0x100 agdpmod=pikera -alcbeta alcid=1</code></li><li>OCG自定义主题-可启动<br><code>-v keepsyms=1 debug=0x100 agdpmod=pikera -alcbeta alcid=1 npci=0x2000</code></li><li>黑苹果星球原版<br><code>-v debug=0x100 keepsyms=1</code></li><li>4690k黑苹果星球+内置主题-可启动版<br><code>-v debug=0x100 keepsyms=1 agdpmod=pikera -alcbeta alcid=1</code></li><li>4690k黑苹果星球+自定义主题-可启动版<br><code>-v debug=0x100 keepsyms=1 agdpmod=pikera -alcbeta alcid=1 npci=0x2000</code></li><li>4690k江波配置<br><code>-v keepsyms=1 agdpmod=pikera -alcbeta alcid=1 npci=0x2000 igfxonln=1 -cdfon  -lilubetaall</code></li></ul><h4 id="启动参数说明">启动参数说明</h4><p><a href="https://heipg.cn/tutorial/what-is-boot-args.html">黑苹果星球启动参数说明</a></p><table><thead><tr><th>启动参数</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td><strong>-v</strong></td><td>用于打开跑码模式，方便排错</td><td></td></tr><tr><td>-wegnoegpu</td><td>关闭外置GPU，笔记本无法驱动核显需要关闭独显的使用</td><td></td></tr><tr><td><strong>debug=0x100</strong></td><td>打开用于发生严重错误（Kernel Panic）后禁止自动重启，将停留在出错位置，方便排错</td><td></td></tr><tr><td><strong>keepsyms=1</strong></td><td>用于辅助上一个启动参数，可以对错误原因提供更多有用的信息</td><td></td></tr><tr><td>nvda_drv=1</td><td>使用 Nvidia 显卡</td><td></td></tr><tr><td><strong>agdpmod=pikera</strong></td><td>用于解决 Navi 核心的显卡启动黑屏问题，如果你是 Polaris(RX400/RX500) 或 Vega(56/64) 显卡则无需此项</td><td></td></tr><tr><td><strong>npci=0x2000</strong></td><td>X99、X299 平台以及部分 AMD 平台需要添加 npci=0x2000 或 npci=0x3000，当跑代码卡在 PCI Start Configuration 时使用</td><td>Z97D3H主板不开这个，使用<code>ResetNVRAMEntry.efi</code>和<code>ToggleSipEntry.efi</code>会出现无法启动的问题</td></tr><tr><td><strong>alcid=11</strong></td><td>是 AppleALC.kext 用于驱动声卡的参数，演示机型板载 ALC1220 芯片，可使用 layout-id 11 驱动声卡，其它芯片可参考 <a href="https://heipg.cn/drivers?drivers=Audio">AppleALC.kext</a> 提供的<a href="https://heipg.cn/drivers/applealc-1-5-1.html#AppleALC-%E6%94%AF%E6%8C%81%E7%9A%84%E7%BC%96%E8%A7%A3%E7%A0%81%E5%99%A8">解码器支持表单和驱动更新日志</a></td><td></td></tr><tr><td>igfxonln=1</td><td>解决休眠无法唤醒问题，需要配合<code>ssdt-GPRW.aml</code>或者<code>HibernationFixup.kext</code></td><td></td></tr><tr><td>no_compat_check</td><td>关闭不受支持的型号兼容性检查，13.0以后版本不支持2017年以前的机型。</td><td></td></tr></tbody></table><h4 id="AppleACL-kext相关启动参数">AppleACL.kext相关启动参数</h4><table><thead><tr><th>启动参数</th><th>参数说明</th><th>备注</th></tr></thead><tbody><tr><td>alcid = layout</td><td>设置值layout-id</td><td></td></tr><tr><td>-alcbeta</td><td>在不受支持的系统（通常是未发行或旧的系统）上启用AppleALC</td><td></td></tr><tr><td>-alcoff</td><td>禁用自身</td><td></td></tr></tbody></table><h4 id="Z97D3H-4690K">Z97D3H+4690K</h4><ul><li>板载声卡：Realtek ALC 1150<br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202211101204787.png" alt=""></li></ul><h3 id="关闭trim">关闭trim</h3><p><a href="https://hpglw.com/c439c973.html">为什么不推荐黑苹果SSD开启TRIM</a><br>Kernel-&gt;Quirks-&gt;SetApfsTrimTimeout：999</p><h3 id="CPU仿冒">CPU仿冒</h3><p>十二代酷睿仿冒十代酷睿，在 OpenCore 的 config.plist → Kernel → Emulate 添加以下内容：</p><ul><li>Cpuid1Data：55060A00 00000000 00000000 00000000</li><li>Cpuid1Mask：FFFFFFFF 00000000 00000000 00000000</li></ul><h3 id="无法休眠问题">无法休眠问题</h3><p>无法休眠的原因是定制USB时未将PCIe网卡设置为内置。</p><p><code>Hackintoolde</code>的USB显示的接口可能与实际EFI文件的<code>USBMap.kext</code>文件不一致，可以通过导入显示实际的接口名称，再用<code>PropertyTree</code>等工具打开<code>USBMap.kext</code>可以自定义修改。</p><p><a href="https://www.cnblogs.com/pdblogs/p/15906453.html">无法休眠</a><br><a href="https://www.bilibili.com/read/cv15463490">手动修改USB补丁</a></p><p><a href="https://bbs.pcbeta.com/viewthread-1868935-1-1.html">睡眠重启故障：EFI中的睡眠-唤醒故障</a><br><a href="https://bbs.pcbeta.com/viewthread-1939651-1-1.html">解决休眠无法唤醒</a></p><blockquote><p>用<code>Hackintool</code>工具打开电源选项，将红色的<code>proximityValue</code>修改为0即可保证休眠唤醒。</p></blockquote><h3 id="打补丁教程">打补丁教程</h3><p><a href="https://zhuanlan.zhihu.com/p/158786596">【黑苹果系列】小白教程之DSD补丁篇 | 7分钟教你优雅定制最关键的OC补丁(clover通用) - 知乎 (zhihu.com)</a></p><h3 id="补丁说明">补丁说明</h3><ul><li>SSDT-OC-XOSI.aml 操作系统补丁，能解决OC无法引导windows。</li><li>SSDT-plug.aml 加载CPU原生电源管理（开启节能四项），必须</li><li><a href="https://link.zhihu.com/?target=https://dortania.github.io/Getting-Started-With-ACPI/Universal/ec-fix.html">SSDT-EC-USBX</a>（同SSDT-EC）：禁用EC（Embedded Controller）和修复USB充电问题，可选</li></ul><h3 id="OpenCore无法引导windows">OpenCore无法引导windows</h3><p>将<code>booter-启动设置</code>里面的<code>SyncRuntimePermissions</code>勾上即可<br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204212014663.png" alt=""></p><h3 id="安装界面显示俄文">安装界面显示俄文</h3><p>选择菜单栏第三个的子一级菜单（🍎图标算第一个菜单）</p><blockquote><p>🍎：启动磁盘|重新启动|关机<br>恢复：<br>文件：选取语言<br>……</p></blockquote><h3 id="设置快速更改SIP">设置快速更改SIP</h3><p>打开config.plist文件，前往config – Misc – Security – AllowToggleSip 勾选保存</p><h3 id="双系统时间不同步">双系统时间不同步</h3><p><a href="https://www.mfpud.com/topics/975/">解决Windows 10 和macOS黑苹果双系统时间不同步</a></p><p>管理员运行cmd输入</p><p><code>Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d 1</code></p><h3 id="修改默认启动系统">修改默认启动系统</h3><ul><li><code>EFI-&gt;Misc-&gt;Security-&gt;AllowSetDefault</code> 勾上</li><li>开机选择，按住<code>Ctrl+Enter</code>进入系统</li></ul><h3 id="修改开机系统选择等待时间">修改开机系统选择等待时间</h3><p><code>Misc-&gt;Boot-&gt;Timeout</code></p><h3 id="修改CPU型号">修改CPU型号</h3><p><a href="http://imacos.top/2023/01/06/opencore-cpu/">自定义CPU型号</a></p><ol><li>添加RestrictEvents.kext驱动到/EFI/OC/Kexts目录下,并在config.plist中启用</li><li>对于 8 核或更高版本的 CPU，Apple CPU 标识符必须为 <strong>0x0F01</strong>；对于 1、2、4 或 6 核，Apple CPU 标识符必须为 <strong>0x0601</strong>。这是 OpenCore 中非原生支持的 ​​CPU 的默认设置。0x0F01及0x0601可以参考方式一的第2步,将16进制转换成10进制,以我的i3 10105为例,应该选择0x0601,转换成10进制为1537,将<strong>1537</strong>填入ProcessorType 对应项。</li></ol><blockquote><p>8核及以上：3841<br>6核及以下：1537</p></blockquote><ol start="3"><li>NVRAM -&gt; 添加 -&gt; 4D1FDA02-38C7-4A6A-9CC6-4BCCA8B30102</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">revcpuname      String      Intel(R) Core(TM) i3-10105T</span><br><span class="line">revcpu          Number      1</span><br></pre></td></tr></table></figure><ol start="4"><li>重启看效果。如果不成功，操作完成后记得在OpenCore引导界选择Reset NVRAM项重置一下，如方式二操作不成功，尝试在启动参数中添<code>-revbeta revnopatch=all revcpu=1</code></li></ol><h3 id="修改主题默认背景">修改主题默认背景</h3><p>用<code>OpenCanopy</code>软件导入可制作<code>icns</code>格式的背景主题文件。</p><p>由于4K显示器用的5K（5120x2880）分辨率，所以导入的PNG最佳尺寸为：5126x2884，能尽量保持图片正常显示。</p><h3 id="消除多出且无效的EFI引导项">消除多出且无效的EFI引导项</h3><p><a href="https://bbs.pcbeta.com/viewthread-1955895-1-1.html">消除OpenCore 0.8.8发行版起多出且无效的EFI引导项</a></p><h3 id="如何生成有效三码">如何生成有效三码</h3><p>需要显示不在保障内，才是有效的三码。<br><a href="https://checkcoverage.apple.com/?locale=zh_CN">三码查询</a></p><h3 id="查看当前EFI版本">查看当前EFI版本</h3><p>使用 Hackintool 工具，直接打开就能看到，如下图位置</p><p>Hackintool 下载：<a href="https://www.mfpud.com/tools/hackintool/">https://www.mfpud.com/tools/hackintool/</a></p><p><img src="https://cdn.mfpud.com/static/2022/06/1654619962-9edd5ecd8c3a9e1.png" alt=""></p><h3 id="仿冒显卡ID">仿冒显卡ID</h3><p><a href="https://www.gaofumei.net/mac-os-x/11181.html">6650xt</a></p><h3 id="使用USBToolBox定制USB驱动">使用USBToolBox定制USB驱动</h3><ul><li><a href="http://www.imacosx.cn/6875.html">黑果魏叔教程</a></li><li><a href="https://heipg.cn/tutorial/customize-usb-port-windows.html">黑苹果星球教程</a></li><li><a href="https://www.bilibili.com/read/cv15463490">手动修改USB补丁</a></li></ul><p>由于苹果系统只支持15个USB口，而同一个物理USB接口的2.0和3.0分别各占一个逻辑端口位置，所以需要优先保证USB3.0和必须2.0生效，具体可以按如下步骤操作</p><ul><li>先在windows环境下用USBToolBox设置USB关联，用U盘逐一连接系统，扫描所有USB口。</li><li>设置里面关闭USB关联</li><li>删除不够支持的USB2.0逻辑端口，保证一个USB控制器只有15个逻辑端口</li><li>生成<code>UBSMap.kext</code></li></ul><p>此外，也可以用USB3.0U盘插所有的接口，这样主机3.0接口如果插了2.0接口，就会不占用逻辑端口。</p><h3 id="关闭硬盘自动挂载">关闭硬盘自动挂载</h3><p><a href="https://www.jianshu.com/p/526975ef197a">mac OS 防止开机自动挂载磁盘/USB等外设 - 简书 (jianshu.com)</a><br><a href="https://blog.csdn.net/qq_38202733/article/details/109631753">MacOS下禁止开机自动挂载分区 /etc/fstab</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/fstab</span><br><span class="line">UUID=71507FAA-2D93-4DFF-8AD2-19341D71641C none ntfs rw,noauto</span><br><span class="line">UUID=71507FAA-2D93-4DFF-8AD2-19341D71641C none ntfs noauto 0 0</span><br><span class="line">LABEL=C none ntfs noauto 0 0</span><br></pre></td></tr></table></figure><blockquote><p>需要填写的UUID是分区的卷🆔，可以通过Mac系统下系统信息内置应用查看或者windows下DiskGenius查看。</p></blockquote><h3 id="关闭开机界面多余显示">关闭开机界面多余显示</h3><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304261401424.png" alt=""></p><h3 id="关闭开机OC版本号提示">关闭开机OC版本号提示</h3><p>Misc-&gt;Security-&gt;ExposeSensitiveData：从6改为3<br><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202304270024797.png" alt=""></p><h3 id="系统无法提示更新">系统无法提示更新</h3><p><a href="https://heipg.cn/tutorial/macos-monterey-delta-update-fixup.html">macOS Big Sur/Monterey 12.0 无法接收到系统更新推送的解决方法</a></p><h3 id="PE系统">PE系统</h3><p><a href="https://www.mfpud.com/tools/wepe/">PE系统</a></p><h3 id="关闭系统选择界面">关闭系统选择界面</h3><p>Misc–boot–ShowPicker 设置为no</p><h3 id="解决图标一大一下">解决图标一大一下</h3><p><a href="https://macx.top/17564.html">黑苹果开机图标不统一，一大一小，解决办法</a></p><h2 id="第七章-macOS磁盘管理工具">第七章 macOS磁盘管理工具</h2><h3 id="磁盘划分">磁盘划分</h3><ul><li><p>建议先用DiskGenius划分好大小，</p></li><li><p>然后再用macOS磁盘工具<strong>分区</strong>进行格式化，此时会默认使用所有闲置的空间</p></li><li><p>分区-&gt;选中上一步格式化的分区-&gt;点击+ -&gt;选择添加分区-&gt;可以缩小分区得到最终需要的区间大小-&gt;应用。</p></li></ul><h3 id="磁盘空间缩小">磁盘空间缩小</h3><p><strong>尽量在恢复模式下调整系统磁盘空间大小</strong></p><p>选择宗卷-&gt;分区-&gt;输入指定大小-&gt;应用。</p><h3 id="恢复系统">恢复系统</h3><p><a href="https://support.apple.com/zh-cn/guide/disk-utility/dskutl14078/mac">在 Mac 上使用“磁盘工具”将磁盘映像恢复到磁盘</a></p><ul><li>将当前系统拷贝到其他硬盘当中，比如移动固态硬盘。</li><li>这种方法类似于windows中用DiskGenius进行系统迁移功能</li></ul><h2 id="第八章-配置推荐">第八章 配置推荐</h2><h3 id="硬盘">硬盘</h3><p><a href="https://macoshome.com/hackintosh/hcourse/2476.html">黑苹果装机避坑指南之SSD选择</a></p><h2 id="第九章-白苹果">第九章 白苹果</h2><p><a href="https://xungejiang.com/2021/11/24/mac-external-disk/">m1 mac 将系统装入外置硬盘</a><br>如果买白苹果，建议直接购买Macm ini，内存尽量往大选，硬盘尽量往小选，比如256G，然后购买一个M2固态，和一个雷电4转M.2移动硬盘盒，作为启动盘，官方2T硬盘贵6000，自己选外置硬盘只需要1000多即可。</p><h3 id="关闭其他用户">关闭其他用户</h3><p><a href="https://blog.csdn.net/weixin_44361892/article/details/105942296">关闭其他用户</a><br>终端输入命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo defaults write /Library/Preferences/com.apple.loginwindow SHOWOTHERUSERS_MANAGED -bool FALSE</span><br></pre></td></tr></table></figure><h3 id="关闭开盖自动开机">关闭开盖自动开机</h3><p><a href="https://zhuanlan.zhihu.com/p/146624376">MacBook如何取消开盖自动开机</a></p><p>关闭：<code>sudo nvram AutoBoot=%0</code></p><p>恢复：<code>sudo nvram AutoBoot=%03</code></p><h3 id="时间机器">时间机器</h3><p><a href="https://zhuanlan.zhihu.com/p/508448087">时间机器容量多大？</a></p><p>和系统盘相同容量可以备份127天。</p><img src="https://pic3.zhimg.com/80/v2-6cfba00faf70dce8afb3d6a44f0de656_1440w.webp" style="zoom:80%;" /><h2 id="第十章-补丁介绍">第十章 补丁介绍</h2><p><a href="https://www.bilibili.com/video/BV1Bb4y1o7tx/?vd_source=adb0919246a7e65560f78fa73c6c655a">黑苹果教程第7期：DSDT提取和常见SSDT功能介绍</a></p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202305272126962.png" style="zoom: 50%;" /><p><strong>提取步骤</strong></p><blockquote><ul><li>运行SSDTTime.bat</li><li>P</li><li>1-7(2是台式机，2是笔记本，二选一即可)</li><li>q</li></ul></blockquote><h2 id="Others">Others</h2><h3 id="MacOS-11">MacOS 11</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">smbios.reflectHost= &quot;TRUE&quot;</span><br><span class="line">hw.model = &quot;MacBookPro16,1&quot;</span><br><span class="line">board-id=&quot;Mac-E1008331FDC96864&quot;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/wangchao_cn/article/details/109755360">vm安装11.15教程</a></p><p><a href="https://heipg.cn/tutorial/basic-install-hackintosh-walkthrough.html">教程</a></p><p><a href="https://www.jianshu.com/p/342b322e3841">这可能是对“小白”最友好的黑苹果安装教程（Catalina 10.15.5 安装记录）</a></p><p><a href="https://blog.csdn.net/Su_Yi/article/details/93773558">关于黑苹果的EFI该如何的配置和Config Configuration工具的使用</a></p><p><a href="https://www.jianshu.com/p/22b5e9db1780">黑苹果安装过程（10.13.617G7024）</a></p><p><a href="https://blog.daliansky.net/macOS-BigSur-11.5.2-20G95-Release-version-with-OC-0.7.1-and-Clover-5138-and-PE-original-image.html#more">黑果小兵教程</a></p><p><a href="https://blog.daliansky.net/categories/%E4%B8%8B%E8%BD%BD/">黑果小兵镜像</a></p><p><a href="https://www.apple114.com/pages/macos/">系统下载</a></p><p><a href="https://blog.daliansky.net/Hackintosh-long-term-maintenance-model-checklist.html">黑果小兵机型efi清单</a></p><p>镜像损坏</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig en0 down</span><br><span class="line">date 022208102015.20</span><br></pre></td></tr></table></figure><p><a href="https://www.intel.cn/content/www/cn/zh/support/articles/000023781/graphics.html">如何确定英特尔®显卡支持的最大分辨率</a></p><h2 id="注意事项">注意事项</h2><ul><li>MacOS情况下尽量不要将机械硬盘初始化为APFS，容易产生碎片和数据丢失，应该使用HFS+格式。参考<a href="https://www.zhihu.com/question/440659402">机械硬盘有必要采用apfs的文件系统吗？</a></li></ul><h2 id="Reference">Reference</h2><ul><li><a href="https://zhuanlan.zhihu.com/p/460054354">黑苹果卡代码篇一：黑苹果安装过程中常见卡代码问题，解决方案！</a></li><li><a href="https://zhuanlan.zhihu.com/p/476272938">黑苹果卡代码篇二：常见的卡代码问题，解决方案！</a></li><li><a href="https://zhuanlan.zhihu.com/p/476275730">黑苹果卡代码篇三：常见卡代码问题，满满的干货！</a></li><li><a href="https://zhuanlan.zhihu.com/p/476276928">黑苹果安装卡代码篇四：常见卡代码问题解决办法，值得收藏！</a></li><li><a href="https://zhuanlan.zhihu.com/p/485666871">黑苹果卡代码篇五：全网最全的黑苹果卡代码解决办法！</a></li><li><a href="https://zhuanlan.zhihu.com/p/485666818">黑苹果卡代码篇六：最后的卡代码分享，六十种不同卡代码解决办法，完结篇！</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> macOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>通过hexo搭建个人博客</title>
      <link href="/2022/04/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/BlogWebsite/2022-04-01-build-blog-by-hexo/"/>
      <url>/2022/04/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/BlogWebsite/2022-04-01-build-blog-by-hexo/</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>搭建自己的个人博客总体来说有三种选择</p><ol><li>使用现有的</li></ol><p>现在市面上的博客有很多，如CSDN，博客园，简书等平台。都可以直接在上面发表自己的博客，用户交互也做的很好，写的文章在各大搜索引擎下也能搜索的到，比如百度、搜狗等。但是缺点是不太自由，会受到平台的各种限制和很多烦人的广告。</p><ol start="2"><li>自己购买域名和服务器</li></ol><p>这种方式搭建博客的成本比较高，购买成本，还有花费力气自己搭这么一个网站，并且需要定期的维护它，对于我们大多数人来说，实在是没有这样的精力和时间。</p><ol start="3"><li>使用GitHub Page平台</li></ol><p>第三种选择，直接在GitHub Page平台上托管我们的博客。这样就可以安心的来写作，又不需要定期维护，而且hexo作为一个快速简洁的博客框架，用它来搭建博客真的非常容易。</p><h3 id="本教程分三个部分">本教程分三个部分</h3><p>本教程大部分是通过网络进行收集，并结合我个人的一些理解编写的。</p><ul><li>第一部分：hexo的搭建并部署到GitHub Page上，以及个人域名的绑定。</li><li>第二部分：hexo的基本配置，更换主题，实现多终端工作，以及在coding page部署实现国内外分流</li><li>第三部分：hexo添加各种功能，包括搜索的SEO，阅读量统计，访问量统计和评论系统等。</li></ul><h2 id="第一部分">第一部分</h2><p>hexo的搭建并部署到GitHub Page上，以及个人域名的绑定。</p><h3 id="hexo-简介">hexo 简介</h3><p>hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Coding上，是搭建博客的首选框架。大家可以进入<a href="https://hexo.io/">hexo官网</a>进行详细查看，因为Hexo的创建者是台湾人，对中文的支持很友好，可以选择中文进行查看。</p><h3 id="从零Hexo搭建步骤">从零Hexo搭建步骤</h3><ol><li>安装Git</li><li>安装Node.js</li><li>安装Hexo</li><li>GitHub创建个人仓库</li><li>生成SSH添加到GitHub</li><li>将hexo部署到GitHub</li><li>设置个人域名</li><li>发布文章</li></ol><h4 id="1-安装Git">1. 安装Git</h4><p>Git是目前世界上最先进的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。也就是用来管理你的hexo博客文章，上传到GitHub的工具。Git非常强大，我觉得建议每个人都去<a href="https://git-scm.com/">Git官网</a>了解一下。</p><ul><li>windows：到git官网上下载，<a href="https://git-scm.com/downloads">Download git</a>，下载后会有一个Git Bash的命令行工具，以后就用这个工具来使用git。</li><li>linux：对linux来说实在是太简单了，因为最早的git就是在linux上编写的，只需要一行代码。</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br></pre></td></tr></table></figure><p>安装好后，用 <code>git --version</code> 来查看一下版本</p><h4 id="2-安装nodejs">2. 安装nodejs</h4><p>Hexo是基于nodeJS编写的，所以需要安装一下nodeJs和里面的npm工具。</p><ul><li>windows：nodejs选择LTS版本就行了。<a href="https://nodejs.org/en/download/">node.js LTS Download</a></li><li>linux：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt-get install npm</span><br></pre></td></tr></table></figure><ul><li>macOS</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install nodejs</span><br><span class="line">brew install npm</span><br></pre></td></tr></table></figure><p>安装完后，打开命令行查看版本。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>检查一下有没有安装成功</p><p>顺便说一下，windows在git安装完后，就可以直接使用git bash来敲命令行了，不用自带的cmd，cmd有点难用。</p><h4 id="3-安装hexo">3. 安装hexo</h4><p>前面git和nodejs安装好后，就可以安装hexo了，你可以先创建一个文件夹blog，然后cd到这个文件夹下（或者在这个文件夹下直接右键git bash打开）。</p><p>输入命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">macOS也可以通过homebrew安装</span></span><br><span class="line">brew install hexo</span><br></pre></td></tr></table></figure><p>依旧用 <code>hexo -v</code>查看一下版本</p><p>至此hexo的环境就部署完了。</p><p>接下来初始化一下hexo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init myBlog</span><br></pre></td></tr></table></figure><p>这个myBlog可以自己取什么名字都行，然后</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd myBlog //进入这个myBlog文件夹npm install</span><br></pre></td></tr></table></figure><p>新建完成后，文件夹目录下有：</p><ul><li>node_modules: 依赖包</li><li>public：存放生成的页面</li><li>scaffolds：生成文章的一些模板</li><li>source：用来存放你的文章</li><li>themes：主题</li><li>_config.yml：config.yml: 博客的配置文件</li></ul><p>启动hexo服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g &amp;&amp; hexo server</span><br></pre></td></tr></table></figure><p>打开hexo的服务，在浏览器输入localhost:4000 就可以看到你生成的博客了。</p><p>使用ctrl+c可以把服务关掉。</p><h4 id="4-GitHub创建个人仓库">4. GitHub创建个人仓库</h4><p>首先，你先要有一个GitHub账户，没有请注册。<a href="https://github.com/">GitHub官网</a></p><p>注册完登录后，在GitHub.com中看到一个New repository，新建仓库</p><p>创建一个和你用户名相同的仓库，<a href="http://xn--yfr16an19l.github.io">后面加.github.io</a>，比如你注册的用户名叫 zhangsan，那么你创建的仓库名就叫 <a href="http://zhangsan.github.io">zhangsan.github.io</a>，只有这样，将来要部署到GitHub Page的时候，才会被识别，<a href="http://xn--xxxx-4m5f354ev5p.github.io">也就是xxxx.github.io</a>，其中xxx就是你注册GitHub的用户名。</p><p>点击create repository。</p><h4 id="5-生成SSH添加到GitHub">5. 生成SSH添加到GitHub</h4><p>回到你的git bash中。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;yourname&quot;git config --global user.email &quot;youremail&quot;</span><br></pre></td></tr></table></figure><p>这里的yourname输入你的GitHub用户名，youremail输入你GitHub的邮箱。这样GitHub才能知道你是不是对应它的账户。</p><p>可以用以下两条，检查一下你有没有输对</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config user.namegit config user.email</span><br></pre></td></tr></table></figure><p>然后输入下面的命令，创建SSH,一路回车就可以了。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;youremail&quot;</span><br></pre></td></tr></table></figure><p>这个时候它会告诉你已经生成了.ssh的文件夹。在你的电脑中找到这个文件夹。</p><p>ssh，简单来讲，就是一个秘钥，其中，id_rsa是你这台电脑的私人秘钥，不能给别人看的，id_rsa.pub是公共秘钥，可以随便给别人看。把这个公钥放在GitHub上，这样当你链接GitHub自己的账户时，它就会根据公钥匹配你的私钥，当能够相互匹配时，才能够顺利的通过git上传你的文件到GitHub上。</p><p>而后在GitHub的setting中，找到SSH keys的设置选项，点击New SSH key<br>把你的id_rsa.pub里面的信息复制进去。</p><p>在gitbash中，查看是否成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h4 id="6-将hexo部署到GitHub">6. 将hexo部署到GitHub</h4><p>这一步，我们将hexo和GitHub关联起来，也就是将hexo生成的文章部署到GitHub上，打开站点配置文件_config.yml，翻到最后，修改为<br>YourgithubName就是你的GitHub账户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deploy:  type: git  repo: https://github.com/**YourgithubName**/**YourgithubName**.github.io.git  branch: master</span><br></pre></td></tr></table></figure><p>这个时候需要先安装deploy-git ，也就是部署的命令,这样你才能用命令部署到GitHub。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>然后输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>其中 hexo clean清除了你之前生成的东西，也可以不加。<br>hexo generate 顾名思义，生成静态文章，可以用 hexo g缩写<br>hexo deploy 部署文章，可以用hexo d缩写<br>此处命令可以用一条命令代替，然后等它全部执行完就部署到网站上了，不用在哪里等着输下一条命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>注意：第一次使用deploy时会让你你输入GitHub的username和password。</p><p>得到下图就说明部署成功了，过一会儿就可以在<a href="http://yourname.github.io">http://yourname.github.io</a> 这个网站看到你的博客了！！</p><h4 id="7-设置个人域名">7. 设置个人域名</h4><p>现在你的个人网站的地址是 <a href="http://yourname.github.io">yourname.github.io</a>，如果觉得这个网址逼格不太够，这就需要你设置个人域名了。但是需要花钱。</p><p>注册一个阿里云账户,在阿里云上买一个域名，我买的是 fangzh.top，各个后缀的价格不太一样，比如最广泛的.com就比较贵，看个人喜好咯。</p><p>你需要先去进行实名认证,然后在域名控制台中，看到你购买的域名。</p><p>点解析进去，添加解析。</p><p>其中，192.30.252.153 和 192.30.252.154 是GitHub的服务器地址。<br>注意，解析线路选择默认，不要像我一样选境外。这个境外是后面来做国内外分流用的,在后面的博客中会讲到。记得现在选择默认！！</p><p>登录GitHub，进入之前创建的仓库，点击settings，设置Custom domain，输入你的域名fangzh.top</p><p>然后在你的博客文件source中创建一个名为CNAME文件，不要后缀。写上你的域名。</p><p>最后，在gitbash中，输入</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>过不了多久，再打开你的浏览器，输入你自己的域名，就可以看到搭建的网站啦！</p><p>接下来你就可以正式开始写文章了。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new newpapername</span><br></pre></td></tr></table></figure><p>然后在source/_post中打开markdown文件，就可以开始编辑了。当你写完的时候，再更新一下。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>就可以看到更新了。</p><h4 id="8-其他设置">8. 其他设置</h4><p>指定服务器端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server -p 5000</span><br></pre></td></tr></table></figure><h2 id="第二部分">第二部分</h2><h3 id="如何更新butterfly主题">如何更新butterfly主题</h3><p>1、先将主题备份<br>2、然后执行<code>npm update butterfly</code><br>3、使用<code>BeyondCompare</code>软件比较两个<code>_config.yaml</code>文件，将不同的部分从旧文件转移到新配置。<br>4、将原主题的<code>source\img</code>文件夹的内容拷贝进入新版本主题当中。</p><blockquote><p>预计花费10分钟左右</p></blockquote><h3 id="butterfly主题设置评论">butterfly主题设置评论</h3><p><a href="https://blog.csdn.net/qq_33384402/article/details/107200465">butterfly主题设置gitalk教程</a></p><h3 id="问题处理">问题处理</h3><ul><li>报错<code>hexo Database load failed. Deleting database</code></li></ul><blockquote><p>把这个根目录下的 node_modules 和 package-lock.json 给删掉，再执行一下 npm install，之后发现问题得到解决。</p></blockquote><h2 id="总结">总结</h2><p>教程总体来说还是比较简单的，用心花费点时间就能搭建好。当然如果你有什么不理解的，可以通过在线聊天找到我！</p><h2 id="Reference">Reference</h2><ol><li><a href="http://hekun97@github.io/2020/02/16/shi-yong-hexo-da-jian-zi-ji-de-ge-ren-bo-ke-yi/index.html">使用Hexo搭建博客</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MNER 多模态命名实体识别</title>
      <link href="/2022/03/31/Notebooks/%E5%AE%9E%E9%AA%8C/MNER%E5%A4%9A%E6%A8%A1%E6%80%81%E5%91%BD%E4%BB%A4%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/"/>
      <url>/2022/03/31/Notebooks/%E5%AE%9E%E9%AA%8C/MNER%E5%A4%9A%E6%A8%A1%E6%80%81%E5%91%BD%E4%BB%A4%E5%AE%9E%E4%BD%93%E8%AF%86%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<h1>数据集</h1><ul><li><p><a href="https://github.com/jefferyYu/UMT">Twitter2015</a></p></li><li><p><a href="https://github.com/jefferyYu/UMT">Twitter2017</a></p></li></ul><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011550385.png" alt=""></p><h1>Baseline</h1><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011550928.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011551385.png" alt=""></p><p>实验结果:</p><table><thead><tr><th></th><th style="text-align:left">twitter2015</th><th>twitter2017</th></tr></thead><tbody><tr><td>BasicModel</td><td style="text-align:left">72.614</td><td>84.002</td></tr><tr><td>MMNerModel（bert+crf+ViT）</td><td style="text-align:left">72.820</td><td>84.303</td></tr><tr><td>UMT</td><td style="text-align:left">73.41</td><td>84.42</td></tr><tr><td>HMT-12</td><td style="text-align:left">73.09</td><td>84.25</td></tr><tr><td>HMT-last</td><td style="text-align:left">73.20</td><td>84.25</td></tr><tr><td>MYUMT</td><td style="text-align:left">73.83</td><td>86.18</td></tr></tbody></table><table><thead><tr><th>alpha</th><th>beta</th><th>twitter2017</th></tr></thead><tbody><tr><td>0.8</td><td>0.5</td><td>83.96</td></tr><tr><td>0.8</td><td>0.8</td><td>84.19</td></tr><tr><td>1</td><td>1</td><td>84.24</td></tr></tbody></table><h1>参考资料</h1><p><a href="https://zhuanlan.zhihu.com/p/147537898">BIOS标注</a></p><p><a href="https://zhuanlan.zhihu.com/p/161385278">多模态NER相关论文</a></p><p><a href="https://blog.csdn.net/tMb8Z9Vdm66wH68VX1/article/details/112386111">多模态深度学习综述：网络结构设计和模态融合方法汇总</a></p><p><a href="https://zhuanlan.zhihu.com/p/74886839">实体关系的联合抽取总结</a><br><a href="https://zhuanlan.zhihu.com/p/366767181">https://zhuanlan.zhihu.com/p/366767181</a></p><h1>2020</h1><h2 id="Improving-Multimodal-Named-Entity-Recognition-via-Entity-Span-Detection-with-Unified-Multimodal-Transformer">Improving Multimodal Named Entity Recognition via Entity Span Detection with Unified Multimodal Transformer</h2><p><a href="https://blog.csdn.net/qq_43703681/article/details/113748435">引用</a></p><h3 id="现有方法问题">现有方法问题</h3><ol><li>没有考虑一词多义的上下文表示。</li><li>虽然当前方法基于多模态建模获得基于文本的视觉表示，但是在最后隐藏层依然还是只基于文本的表示来进行预测，没有将视觉信息融合进去。</li><li>视觉偏差：通常图片只涉及文本中的某一个两个实体，并不涉及其他实体，如果一味的将视觉信息融合进所有实体的识别当中，会导致相关实体识别准确率很高，但是其他实体识别率降低。</li></ol><h3 id="模型">模型</h3><p>首先通过Bert和ResNet分别得到文本和图片的上下文向量和视觉特征，之后通过MMI（Transformer的跨模态版本）产生关于文本的视觉表征和关于图片的文本表征。最后通过辅助边界检测任务消除视觉偏差问题。</p><h4 id="贡献">贡献</h4><ul><li>对于MNER任务首次提出了多模态的Transformer。</li><li>基于多模态Transformer，设计了一个MNER联合框架，为消除视觉偏差而引入了实体跨度检测辅助任务。</li></ul><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011554711.png" alt=""></p><h3 id="实验结果">实验结果</h3><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011551385.png" alt=""></p><h1>2021</h1><h2 id="Multi-modal-Graph-Fusion-for-Named-Entity-Recognition-with-Targeted-Visual-Guidance"><strong>Multi-modal Graph Fusion for Named Entity Recognition with Targeted Visual Guidance</strong></h2><p><a href="https://zhuanlan.zhihu.com/p/349064943">引用</a></p><h3 id="模型-2">模型</h3><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011555072.png" alt=""></p><h2 id="AAAI-2021-RpBERT：引入关系传播机制，多模态命名实体识别任务表现优异"><a href="https://zhuanlan.zhihu.com/p/478180951">AAAI 2021 | RpBERT：引入关系传播机制，多模态命名实体识别任务表现优异</a></h2><h3 id="评价">评价</h3><p>只是建模用了图，实际没有用GNN来来训练</p><h1>Think</h1><table><thead><tr><th>能否引入外部知识库，比如Freebase Dictionary，来解决关联图像噪声</th><th><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011555917.png" alt=""></th></tr></thead><tbody><tr><td>对于无图像的推文不输入默认图像，而是0向量，借鉴short cut思想，直接在融合模块不进行模态间融合，在预测层，直接将默认第一层输入，使预测结果尽量贴合BERT-CRF模型</td><td><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011556670.png" alt=""></td></tr></tbody></table><ul><li>如何降低抽象图像或者卡通图像等图像噪声？</li><li>加个单独的分类器判断图像是否是卡通图和表情包，如果是，就降低图像的对文本的权重。</li><li>适当增加图像相关联的词语获得的注意力权重。</li><li>兼容BERT-CRF的UMT</li></ul><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011556187.png" alt=""></p><h1>参考文献</h1><ol><li>A Survey on Deep Learning for Named Entity Recognition</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> lab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>机器学习笔记之回归模型</title>
      <link href="/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-05-11-regressor-metrics/"/>
      <url>/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-05-11-regressor-metrics/</url>
      
        <content type="html"><![CDATA[<h2 id="模型">模型</h2><h3 id="lightGBM">lightGBM</h3><p><a href="https://blog.csdn.net/qq_38319401/article/details/104360617">sklearn与LightGBM配合使用</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding: utf-8</span></span><br><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;加载数据...&#x27;</span>)</span><br><span class="line">df_train = pd.read_csv(<span class="string">&#x27;./data/regression.train.txt&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">df_test = pd.read_csv(<span class="string">&#x27;./data/regression.test.txt&#x27;</span>, header=<span class="literal">None</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 取出特征和标签</span></span><br><span class="line">y_train = df_train[<span class="number">0</span>].values</span><br><span class="line">y_test = df_test[<span class="number">0</span>].values</span><br><span class="line">X_train = df_train.drop(<span class="number">0</span>, axis=<span class="number">1</span>).values</span><br><span class="line">X_test = df_test.drop(<span class="number">0</span>, axis=<span class="number">1</span>).values</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;开始训练...&#x27;</span>)</span><br><span class="line"><span class="comment"># 直接初始化LGBMRegressor</span></span><br><span class="line"><span class="comment"># 这个LightGBM的Regressor和sklearn中其他Regressor基本是一致的</span></span><br><span class="line">gbm = lgb.LGBMRegressor(objective=<span class="string">&#x27;regression&#x27;</span>,</span><br><span class="line">                        num_leaves=<span class="number">31</span>,</span><br><span class="line">                        learning_rate=<span class="number">0.05</span>,</span><br><span class="line">                        n_estimators=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用fit函数拟合</span></span><br><span class="line">gbm.fit(X_train, y_train,</span><br><span class="line">        eval_set=[(X_test, y_test)],</span><br><span class="line">        eval_metric=<span class="string">&#x27;l1&#x27;</span>,</span><br><span class="line">        early_stopping_rounds=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;开始预测...&#x27;</span>)</span><br><span class="line">y_pred = gbm.predict(X_test, num_iteration=gbm.best_iteration_)</span><br><span class="line"><span class="comment"># 评估预测结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;预测结果的rmse是:&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(mean_squared_error(y_test, y_pred) ** <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure><p><a href="https://www.pythonheidong.com/blog/article/468277/6e714898cdbbb5af9979/">lgb.LGBMRegressor参数解释以及调参方法</a></p><h2 id="评价指标">评价指标</h2><p><a href="https://www.cnblogs.com/nxf-rabbit75/p/10415812.html">回归评价指标</a></p>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jetbrains软件</title>
      <link href="/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2022-07-19-Jetbrains/"/>
      <url>/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/2022-07-19-Jetbrains/</url>
      
        <content type="html"><![CDATA[<h1>License</h1><p><a href="https://blog.csdn.net/qq_33547191/article/details/100100489">教育版申请</a></p><p><a href="http://www.idejihuo.com/">idea破解</a></p><p><a href="https://www.aliyundrive.com/s/HdgqUZDT1Xj">2021.2永久激活方法</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>个人喜欢的hexo主题</title>
      <link href="/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/BlogWebsite/2022-03-31-hexo-theme/"/>
      <url>/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/BlogWebsite/2022-03-31-hexo-theme/</url>
      
        <content type="html"><![CDATA[<p><a href="https://hexo.io/themes/">Themes | Hexo</a></p><h2 id="melody">melody</h2><p><a href="https://github.com/Molunerfinn/hexo-theme-melody">hexo-theme-melody</a></p><h2 id="butterfly">butterfly</h2><p>install command:  <code>npm i hexo-theme-butterfly</code></p><p>upgrade:  <code>npm update hexo-theme-butterfly</code></p><p>[Demo&amp;Docs](<a href="https://butterfly.js.org/">Butterfly - A Simple and Card UI Design theme for Hexo</a>)</p><h3 id="推荐实例">推荐实例</h3><ul><li><a href="https://bravey.github.io">https://bravey.github.io</a></li></ul><h2 id="matery">matery</h2><h3 id="install">install</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd themes</span><br><span class="line">git clone git@github.com:blinkfox/hexo-theme-matery.git</span><br><span class="line">mv hexo-theme-matery matery</span><br><span class="line">cd ../</span><br></pre></td></tr></table></figure><p>them copy it to theme folder</p><p><a href="https://github.com/blinkfox/hexo-theme-matery">Github</a></p><p><a href="http://blinkfox.com">Demo&amp;Docs</a></p><h2 id="yun">yun</h2><p>install&amp;upgrade command: <code>npm install hexo-theme-yun@latest</code></p><p><a href="https://github.com/YunYouJun/hexo-theme-yun">Github</a></p><h3 id="推荐实例-2">推荐实例</h3><ul><li><a href="https://www.yunyoujun.cn/">https://www.yunyoujun.cn/</a></li></ul><h2 id="fluid">fluid</h2><p>install command</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-theme-fluid</span><br></pre></td></tr></table></figure><p><a href="https://github.com/fluid-dev/hexo-theme-fluid">github</a></p><h2 id="Claudia">Claudia</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd themes</span><br><span class="line">git clone git@github.com:Haojen/hexo-theme-Claudia.git</span><br><span class="line">mv hexo-theme-Claudia Claudia</span><br><span class="line">cd ../</span><br></pre></td></tr></table></figure><h2 id="Reference">Reference</h2><ol><li><a href="https://www.zhihu.com/question/24422335">https://www.zhihu.com/question/24422335</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>python中json文件的读写</title>
      <link href="/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/json-read-and-write/"/>
      <url>/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/json-read-and-write/</url>
      
        <content type="html"><![CDATA[<h2 id="输入json">输入json</h2><p>将json文件读取为dict类型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;/data.json&quot;</span>, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">  json_data = json.load(fp)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这是文件中的json数据：&#x27;</span>,json_data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;这是读取到文件数据的数据类型：&#x27;</span>, <span class="built_in">type</span>(json_data))</span><br></pre></td></tr></table></figure><h2 id="输出json">输出json</h2><h3 id="输出到文件">输出到文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">dic=&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;/output.json&quot;</span>, <span class="string">&quot;w&quot;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">json.dump(dic, f, indent=<span class="number">4</span>, ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><h3 id="输出到终端">输出到终端</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(json.dumps(dic, sort_keys=<span class="literal">True</span>, indent=<span class="number">4</span>, separators=(<span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;:&#x27;</span>)))</span><br></pre></td></tr></table></figure><h3 id="参数详解">参数详解</h3><ul><li>sort_keys：是否按照字典排序（a-z）输出，True代表是，False代表否。</li><li>indent=4：设置缩进格数，一般由于Linux的习惯，这里会设置为4。</li><li>separators：设置分隔符，在<code>dic = &#123;'a': 1, 'b': 2, 'c': 3&#125;</code>这行代码里可以看到冒号和逗号后面都带了个空格，这也是因为Python的默认格式也是如此，如果不想后面带有空格输出，那就可以设置成<code>separators=(',', ':')</code>，如果想保持原样，可以写成<code>separators=(', ', ': ')</code>。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pandas常用用法</title>
      <link href="/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/pandas/"/>
      <url>/2022/03/31/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/pandas/</url>
      
        <content type="html"><![CDATA[<h2 id="读取文件">读取文件</h2><h3 id="读取excel文件">读取excel文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_excel(file_path, sheet_name)</span><br></pre></td></tr></table></figure><h3 id="读取csv文件">读取csv文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_csv(file_path)</span><br></pre></td></tr></table></figure><h2 id="写入文件">写入文件</h2><p>创建一个DataFrame对象，设置列名，data可为二维数组</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(data=<span class="literal">None</span>, columns = [<span class="string">&quot;disease&quot;</span>, <span class="string">&quot;relation&quot;</span>, <span class="string">&quot;object&quot;</span>])</span><br></pre></td></tr></table></figure><p>写入文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(file_path, index = <span class="literal">False</span>, sep=<span class="string">&quot;,&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="循环迭代数据">循环迭代数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> <span class="built_in">range</span>(df.shape[<span class="number">0</span>]):</span><br><span class="line">  data = df.loc[row, <span class="string">&quot;Month_No&quot;</span>] </span><br></pre></td></tr></table></figure><h2 id="插入整列数据">插入整列数据</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">s = pd.Series([<span class="number">6</span>,<span class="number">8</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">12</span>])</span><br><span class="line">df = pd.DataFrame(s,columns=[<span class="string">&#x27;Month_No&#x27;</span>])</span><br><span class="line">df.insert(<span class="number">1</span>,<span class="string">&quot;No_of_days&quot;</span>,[<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">31</span>],<span class="literal">True</span>)<span class="comment"># 插入列</span></span><br><span class="line">df</span><br></pre></td></tr></table></figure><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Month_No</th>      <th>No_of_days</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>6</td>      <td>30</td>    </tr>    <tr>      <th>1</th>      <td>8</td>      <td>31</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>31</td>    </tr>    <tr>      <th>4</th>      <td>12</td>      <td>31</td>    </tr>  </tbody></table><h2 id="尾部插入数据">尾部插入数据</h2><h3 id="append插入">append插入</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = df.append(&#123;<span class="string">&quot;Month_No&quot;</span>:<span class="number">7</span>,<span class="string">&quot;No_of_days&quot;</span>:<span class="number">31</span>&#125;,ignore_index=<span class="literal">True</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure><h3 id="concat插入">concat插入</h3><p>append方法已经废弃，推荐使用concat方法</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df_tmp=pd.DataFrame([[<span class="number">7</span>,<span class="number">31</span>],[<span class="number">4</span>,<span class="number">30</span>]], columns=[<span class="string">&quot;Month_No&quot;</span>, <span class="string">&quot;No_of_days&quot;</span>])</span><br><span class="line">df = pd.concat([df, df_tmp], ignore_index = <span class="literal">True</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Month_No</th>      <th>No_of_days</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>6</td>      <td>30</td>    </tr>    <tr>      <th>1</th>      <td>8</td>      <td>31</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>31</td>    </tr>    <tr>      <th>4</th>      <td>12</td>      <td>31</td>    </tr>    <tr>      <th>5</th>      <td>7</td>      <td>31</td>    </tr>    <tr>      <th>6</th>      <td>4</td>      <td>30</td>    </tr>  </tbody></table><h2 id="修改列名">修改列名</h2><h3 id="暴力修改">暴力修改</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.columns=[<span class="string">&#x27;MonthNo&#x27;</span>,<span class="string">&#x27;NoOfDays&#x27;</span>]  </span><br><span class="line">df</span><br></pre></td></tr></table></figure><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>MonthNo</th>      <th>NoOfDays</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>6</td>      <td>30</td>    </tr>    <tr>      <th>1</th>      <td>8</td>      <td>31</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>31</td>    </tr>    <tr>      <th>4</th>      <td>12</td>      <td>31</td>    </tr>  </tbody></table><h3 id="利用rename修改">利用rename修改</h3><p>注意：<code>inplace</code>参数不能省略</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.rename(columns=&#123;<span class="string">&#x27;MonthNo&#x27;</span>:<span class="string">&#x27;Month_No&#x27;</span>,<span class="string">&#x27;NoOfDays&#x27;</span>:<span class="string">&#x27;No_of_days&#x27;</span>&#125;,inplace=<span class="literal">True</span>) </span><br><span class="line">df</span><br></pre></td></tr></table></figure><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Month_No</th>      <th>No_of_days</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>6</td>      <td>30</td>    </tr>    <tr>      <th>1</th>      <td>8</td>      <td>31</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>31</td>    </tr>    <tr>      <th>4</th>      <td>12</td>      <td>31</td>    </tr>  </tbody></table><h2 id="删除列数据">删除列数据</h2><ul><li><a href="https://www.cnblogs.com/wodexk/p/10316674.html">参考</a></li></ul><p><code>df.drop()</code><br>axis=1: 删除列</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feature_1 = df_feature_all.drop(labels=[<span class="string">&quot;structure of ionizable lipid (SMILE)&quot;</span>,<span class="string">&quot;IgG&quot;</span>],axis=<span class="number">1</span>).to_numpy()</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><a href="https://www.cnblogs.com/jm7612/p/12495020.html">pandas尾部追加行记录append</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>终端统计文件夹信息</title>
      <link href="/2022/03/30/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/calc-file-size-and-num/"/>
      <url>/2022/03/30/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/calc-file-size-and-num/</url>
      
        <content type="html"><![CDATA[<p><code>wc</code>命令参数</p><ul><li>-l：仅列出行</li></ul><h3 id="统计文件夹数量">统计文件夹数量</h3><p>包括子目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find ./ -type d |wc -l</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Linux命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git的常用命令</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-Git/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-Git/</url>
      
        <content type="html"><![CDATA[<h2 id="配置">配置</h2><p><a href="https://zhuanlan.zhihu.com/p/133706032">参考</a></p><h2 id="基本操作">基本操作</h2><h3 id="添加提交">添加提交</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;xxx&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h3 id="从本地创建仓库并上传">从本地创建仓库并上传</h3><p>简易的命令行入门教程:<br>Git 全局设置:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;ConanSteve&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;270523124@qq.com&quot;</span></span><br></pre></td></tr></table></figure><p>创建 git 仓库:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> gittest</span><br><span class="line"><span class="built_in">cd</span> gittest</span><br><span class="line">git init</span><br><span class="line"><span class="built_in">touch</span> README.md</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git remote add origin git@gitee.com:conansteve/gittest.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>已有仓库?</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> existing_git_repo</span><br><span class="line">git remote add origin git@gitee.com:conansteve/gittest.git</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>以后可以直接 <code>git push</code>当前分支到远端</p><h3 id="stash-暂存">stash 暂存</h3><ol><li><strong>git stash save “save message”</strong>  : 执行存储时，添加备注，方便查找，只有git stash 也要可以的，但查找时不方便识别。</li><li><strong>git stash list</strong>  ：查看stash了哪些存储</li><li>git stash show ：显示做了哪些改动，默认show第一个存储,如果要显示其他存贮，后面加stash@{$num}，比如第二个 git stash show stash@{1}</li><li>git stash show -p : 显示第一个存储的改动，如果想显示其他存存储，命令：git stash show  stash@{$num}  -p ，比如第二个：git stash show  stash@{1}  -p</li><li>git stash apply :应用某个存储,但不会把存储从存储列表中删除，默认使用第一个存储,即stash@{0}，如果要使用其他个，git stash apply stash@{$num} ， 比如第二个</li><li><strong>git stash pop</strong> ：命令恢复之前缓存的工作目录，将缓存堆栈中的对应stash删除，并将对应修改应用到当前的工作目录下,默认为第一个stash,即stash@{0}，如果要应用并删除其他stash，命令：git stash pop stash@{$num} ，比如应用并删除第二个：git stash pop stash@{1}</li><li>git stash drop stash@{$num} ，丢弃存储，从列表中删除这个存储</li><li>git stash clear ：删除所有缓存的stash</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git stash save <span class="string">&quot;xxx&quot;</span></span><br><span class="line">git checkout BRANCH_NAME</span><br><span class="line">//do ...</span><br></pre></td></tr></table></figure><h3 id="修改分支名">修改分支名</h3><p><strong>The default branch has been renamed!</strong></p><p>main is now named master</p><p>If you have a local clone, you can update it by running the following commands.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git branch -m main master</span><br><span class="line">git fetch origin</span><br><span class="line">git branch -u origin/master master</span><br><span class="line">git remote set-head origin -a</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011536538.png" alt="image-20220329123703987"></p><h3 id="本地库与远程库关联">本地库与远程库关联</h3><p>本来只在本地使用git，有了很多条提交之后，希望保存到远程上：先在github或者gitlab上面创建一个空库，记住什么文件也不要创建</p><p>查看本地库与远程库映射</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -vv</span><br></pre></td></tr></table></figure><p>建立当前分支与远程分支的映射关系:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -u origin/master</span><br></pre></td></tr></table></figure><p>或者使用命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --set-upstream-to origin/master</span><br></pre></td></tr></table></figure><h2 id="疑难杂症">疑难杂症</h2><h3 id="修改本地分支名称">修改本地分支名称</h3><p>git branch -m “原分支名” “新分支名”</p><p>如果是当前，那么可以使用加上新名字<br>git branch -m “新分支名称”</p><h3 id="本地-git出问题">本地<code>.git</code>出问题</h3><h4 id="方法一">方法一</h4><p><strong>会删除远程库的所有历史提交</strong></p><blockquote><p>1、先备份库，防止出错<br>2、删除<code>.git</code>文件夹<br>3、执行命令<code>git init</code><br>4、<code>git remote add origin xxx</code>（xxx是克隆地址）<br>5、<code>git pull</code><br>6、<code>gtam &quot;xxxxx&quot;</code><br>7、<code>git push -f --set-upstream origin master</code></p></blockquote><h4 id="方法二">方法二</h4><p><strong>未测试</strong></p><blockquote><p><code>git fetch</code><br><code>git merge</code><br><code>git push</code></p></blockquote><h3 id="git-error-remote-origin-already-exists">git error: remote origin already exists.</h3><p>解决方案</p><ol><li><p>先删除远程 Git 仓库<br><code>$ git remote rm origin</code></p></li><li><p>再添加远程 Git 仓库</p></li></ol><p><code>git remote add origin xxx</code>（xxx是克隆地址）</p><h3 id="Git-status显示乱码">Git status显示乱码</h3><p>中文乱码，命令行执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false</span><br></pre></td></tr></table></figure><h3 id="清除缓存">清除缓存</h3><p><code>git rm -r --cache .</code></p><h3 id="恢复到指定历史版本">恢复到指定历史版本</h3><p>git reset --hard b9b8dbf</p><h2 id="参考文献">参考文献</h2><ol><li><a href="https://segmentfault.com/a/1190000012081004">git本地仓库关联远程仓库的方法</a></li><li><a href="https://www.cnblogs.com/MrSaver/p/12127996.html">合并本地仓库与远程仓库</a></li><li><a href="https://blog.csdn.net/qq_32035241/article/details/105013510">git 使用强制本地仓库和远程仓库合并</a></li><li><a href="https://www.jianshu.com/p/5adc552323ca">git 查看所有远程分支以及同步</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SSH配置</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-SSH/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-SSH/</url>
      
        <content type="html"><![CDATA[<h2 id="自动生成key">自动生成key</h2><ul><li>linux/mac：</li></ul><blockquote><p><code>ssh-keygen -t rsa</code><br><code>ssh-keygen -t rsa -b 4096 </code></p></blockquote><ul><li>windows：</li></ul><blockquote><p><code>ssh-keygen.exe -t rsa</code></p></blockquote><h2 id="拷贝key到主机">拷贝key到主机</h2><p>linux:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id -i  &quot;key_path&quot;  &quot;user_name&quot;``@ip_address</span><br><span class="line">ssh-copy-id -i .ssh/id_rsa.pub zhangfan@172.18.32.92</span><br></pre></td></tr></table></figure><h1>Reference</h1><ol><li><p><a href="https://blog.csdn.net/qq_38476684/article/details/100028507">vscode remote ssh 多重跳接配置内网穿透</a></p></li><li><p><a href="https://blog.csdn.net/dcz1994/article/details/103120254?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control">vscode通过跳板机(堡垒机)连接remote服务器</a></p></li><li><p><a href="https://www.jianshu.com/p/82f90716f9f0">windows设置ssh服务器</a></p></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Mac安装Homebrew</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-install-homebrew-on-mac/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-install-homebrew-on-mac/</url>
      
        <content type="html"><![CDATA[<h2 id="安装homebrew">安装homebrew</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c &quot;$(curl -fsSL https://gitee.com/ineo6/homebrew-install/raw/master/install.sh)&quot;</span><br></pre></td></tr></table></figure><h2 id="更换源">更换源</h2><p><a href="https://www.jianshu.com/p/18065741e052">更换源</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前源</span></span><br><span class="line">cd &quot;$(brew --repo)&quot; &amp;&amp; git remote -v</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者建议</span></span><br><span class="line">brew config</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置中科大镜像</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">替换 brew.git</span></span><br><span class="line">cd &quot;$(brew --repo)&quot;</span><br><span class="line">git remote set-url origin https://mirrors.ustc.edu.cn/brew.git</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">替换 homebrew-core.git</span></span><br><span class="line">cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;</span><br><span class="line">git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">或者</span></span><br><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.ustc.edu.cn/brew.git</span><br><span class="line">git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置清华镜像</span></span><br><span class="line">git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</span><br></pre></td></tr></table></figure><h1>卸载</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -c &quot;$(curl -fsSL https://gitee.com/ineo6/homebrew-install/raw/master/uninstall.sh)&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>Reference</h1><ul><li><p><a href="https://cloud.tencent.com/developer/article/1853162">如何安装homebrew</a></p></li><li><p><a href="https://blog.csdn.net/sinat_38184748/article/details/114115441">配置环境变量</a></p></li><li><p><a href="https://blog.csdn.net/NBDwo/article/details/121322116">M1芯片的MacOS 上安装wget的具体过程-图文教程</a></p></li><li><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/">清华镜像安装</a></p></li><li><p><a href="https://blog.csdn.net/H_WeiC/article/details/107857302"><strong>Homebrew更换国内镜像源（中科大、阿里、清华）</strong></a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Mac </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>终端工具配置</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-terminal-configuration/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-02-01-terminal-configuration/</url>
      
        <content type="html"><![CDATA[<h2 id="zsh安装">zsh安装</h2><p>如果你用 Mac，就可以直接看下一节<br>如果你用 Redhat Linux，执行：<code>sudo yum install zsh</code><br>如果你用 Ubuntu Linux，执行：<code>sudo apt install zsh</code><br>如果你用 OpenWrt，执行<code>opkg update</code>、<code>opkg install zsh</code>  <a href="https://github.com/felix-fly/openwrt-ohmyzsh">install oh-my-zsh</a><br>如果你用 Windows……去洗洗睡吧。</p><p>安装完成后设置当前用户使用 zsh：<code>chsh -s /bin/zsh</code>，根据提示输入当前用户的密码就可以了。<br><code>chsh -s /bin/bash</code>可以修改为默认配置</p><h2 id="oh-my-zsh">oh-my-zsh</h2><p>oh-my-zsh可能会影响速度，所以，可以不安装，如果不安装，插件的安装，建议使用”一步安装“</p><p>安装<strong>oh my zsh</strong>可以自动安装也可以手动安装。</p><p>自动安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 国外</span></span><br><span class="line">wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br><span class="line"><span class="comment"># 国内</span></span><br><span class="line">wget https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh -O - | sh</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="OpenWrt安装zsh：">OpenWrt安装zsh：</h3><p>可能需要安装依赖<code>opkg install wget unzip ca-certificates</code><a href="https://www.orzlee.com/toss/2021/03/14/openwrt-install-ohmyzsh.html">给Openwrt安装oh-my-zsh</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/felix-fly/openwrt-ohmyzsh/master/install.sh)&quot;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改默认终端为zsh</span></span><br><span class="line">which zsh &amp;&amp; sed -i -- &#x27;s:/bin/bash:&#x27;`which zsh`&#x27;:g&#x27; /etc/passwd</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">还原为默认终端</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将/etc/passwd 文件中的zsh修改为bash</span></span><br></pre></td></tr></table></figure><p>手动安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</span><br><span class="line"><span class="built_in">cp</span> ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh</span><br><span class="line"><span class="built_in">chmod</span> +x install.sh</span><br><span class="line">sh install.sh</span><br></pre></td></tr></table></figure><p>都不复杂，安装完成之后退出当前会话重新打开一个终端窗口，你就可以见到这个彩色的提示了：</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011530511.png" alt=""></p><p><strong>推荐配置</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME=&quot;rkj-repos&quot;</span><br><span class="line">ZSH_THEME=&quot;agnoster&quot; # (this is one of the fancy ones)</span><br><span class="line">source $ZSH/oh-my-zsh.sh</span><br><span class="line">plugins=(git history vscode sublime sudo zsh-syntax-highlighting zsh-autosuggestions autojump)</span><br></pre></td></tr></table></figure><h2 id="主题安装">主题安装</h2><p><a href="https://www.cnblogs.com/chenyangqit/p/11571228.html">zsh内置主题效果预览</a></p><h3 id="Powerlevel10k">Powerlevel10k</h3><ul><li>官网：<a href="https://github.com/romkatv/powerlevel10k">https://github.com/romkatv/powerlevel10k</a></li></ul><p>可以选择pure主题</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> --depth=1 https://gitee.com/romkatv/powerlevel10k.git ~/.zsh/plugins/powerlevel10k</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;source ~/.zsh/plugins/powerlevel10k/powerlevel10k.zsh-theme&#x27;</span> &gt;&gt;~/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><ul><li>p10k configure</li></ul><p><a href="https://www.nerdfonts.com/font-downloads">安装Hack Nerd字体</a></p><ul><li>VSCode字体设置</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Hack</span> Nerd Font Mono, Monaco, <span class="string">&#x27;Courier New&#x27;</span>, monospace</span><br></pre></td></tr></table></figure><h3 id="Pure">Pure</h3><p>官网：<a href="https://github.com/sindresorhus/pure">https://github.com/sindresorhus/pure</a></p><p>建议通过使用Powerlevel10k安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">brew install node</span><br><span class="line">brew install pure</span><br><span class="line">git <span class="built_in">clone</span> https://gitee.com/URmyLucky/pure2020.git ~/.zsh/plugins/pure</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;(q-)PWD&#125;</span>/.zsh/plugins/pure/pure.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>.zshrc文件中添加</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">autoload -U promptinit; promptinit</span><br><span class="line">prompt pure</span><br></pre></td></tr></table></figure><h2 id="必备插件安装">必备插件安装</h2><p><strong>Openwrt不支持从库拉取，可以从其他终端上直接拷贝上传。</strong></p><ul><li>Git</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br><span class="line">git clone https://github.com/zsh-users/zsh-autosuggestions $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>gitee</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone https://gitee.com/conansteve/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br><span class="line">git clone https://gitee.com/conansteve/zsh-autosuggestions.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions</span><br><span class="line"></span><br><span class="line">git clone https://gitee.com/conansteve/zsh-syntax-highlighting.git ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting</span><br><span class="line">git clone https://gitee.com/conansteve/zsh-autosuggestions.git ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>修改配置文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git sudo zsh-syntax-highlighting zsh-autosuggestions autojump)</span><br></pre></td></tr></table></figure><ul><li>autojump</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br><span class="line">sudo apt install autojump</span><br></pre></td></tr></table></figure><h3 id="总结"><strong>总结</strong></h3><p>linux环境安装</p><ul><li>执行</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://gitee.com/conansteve/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br><span class="line">git clone https://gitee.com/conansteve/zsh-autosuggestions.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-autosuggestions</span><br><span class="line">sudo apt install autojump</span><br></pre></td></tr></table></figure><ul><li>修改配置文件</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git sudo zsh-syntax-highlighting zsh-autosuggestions autojump)</span><br></pre></td></tr></table></figure><h3 id="安装自动补全功能">安装自动补全功能</h3><h4 id="方法一">方法一</h4><p>使用 <code>zsh</code> 我认为第一个吸引我的重要插件就是 <a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a>。它会自动为你的终端命令提供补全建议，让你能更加快速的完成命令输入，有了它，你再也不用一遍遍的按 <code>tab</code> 来加快你的命令输入了。</p><p><code>zsh-autosuggestions</code> 安装文档你可以点击这个<a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md">链接</a> 进入查看，比如使用 Git 安装步骤如下：</p><p>使用 Git 把项目从仓库 Clone 下来：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions ~/.zsh/plugins/zsh-autosuggestions</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br></pre></td></tr></table></figure><p>或者手动将以下内容添加到 <code>.zshrc</code> 文件内：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh</span><br></pre></td></tr></table></figure><p>生效：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>重新开启终端会话，你就可以享受 <code>zsh-autosuggestions</code> 给你带来的便利了。</p><h5 id="一步安装：">一步安装：</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions ~/.zsh/plugins/zsh-autosuggestions</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br><span class="line"></span><br><span class="line">//gitee</span><br><span class="line">git <span class="built_in">clone</span> git@gitee.com:lhaisu/zsh-autosuggestions.git ~/.zsh/plugins/zsh-autosuggestions</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><h4 id="方法二：推荐">方法二：推荐</h4><ol><li>把插件仓库克隆到<code>$ZSH_CUSTOM/plugins</code> (默认位置是 ~/.oh-my-zsh/custom/plugins)</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br><span class="line"></span><br><span class="line">git <span class="built_in">clone</span> https://gitee.com/zjy_1671/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span><br><span class="line"></span><br></pre></td></tr></table></figure><img src="https://dev.azure.com/conansteve/87be1d78-05d4-41bd-87b2-a023d463dcd2/_apis/git/repositories/075c6005-9f0d-4b8c-97a7-60d87486d3f4/items?path=%2F1648455923125_2748.png&versionDescriptor%5BversionOptions%5D=0&versionDescriptor%5BversionType%5D=0&versionDescriptor%5Bversion%5D=master&resolveLfs=true&%24format=octetStream&api-version=5.0" style="zoom:50%;" /><ol><li>设置<code>~/.zshrc</code>，把<code>zsh-autosuggestions</code>添加到 Oh My Zsh 要加载的插件列表中</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git zsh-autosuggestions)</span><br></pre></td></tr></table></figure><ol><li>使配置生效 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure></li></ol><h3 id="语法高亮插件">语法高亮插件</h3><p>安装zsh-syntax-highlighting语法高亮插件</p><p>官网：<a href="https://link.jianshu.com/?t=https://github.com/zsh-users/zsh-syntax-highlighting">https://github.com/zsh-users/zsh-syntax-highlighting</a></p><h4 id="方法一：一步安装：">方法一：一步安装：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.zsh/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br><span class="line">//gitee</span><br><span class="line">git <span class="built_in">clone</span> git@gitee.com:jklash1996/zsh-syntax-highlighting.git ~/.zsh/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;source <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><h4 id="方法二：推荐-2">方法二：推荐</h4><h3 id="自动跳转插件autojump">自动跳转插件autojump</h3><p>地址：<a href="https://github.com/wting/autojump">https://github.com/wting/autojump</a></p><p>它的用法是输入 <code>j 目录名</code> 或 <code>j 目录名包含的字符</code>（这个目录必须是之前 cd 访问过的），就可直接切换到相应的目录。不用再各种<code>cd</code>啦～具体看下面截图示例。</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011530512.png" alt=""></p><h4 id="Mac安装">Mac安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install autojump</span><br></pre></td></tr></table></figure><blockquote><p>Add the following line to your ~/.bash_profile or ~/.zshrc file:<br><code> [ -f /opt/homebrew/etc/profile.d/autojump.sh ] &amp;&amp; . /opt/homebrew/etc/profile.d/autojump.sh</code><br>If you use the Fish shell then add the following line to your ~/.config/fish/config.fish:<br><code> [ -f /opt/homebrew/share/autojump/autojump.fish ]; and source /opt/homebrew/share/autojump/autojump.fish</code><br>Restart your terminal for the settings to take effect.</p></blockquote><h4 id="Linux、Openwrt-一步安装">Linux、Openwrt 一步安装</h4><p>首先下载 autojump 源码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:wting/autojump.git ~/.oh-my-zsh/custom/plugins/autojump</span><br><span class="line"><span class="built_in">cd</span> ~/.oh-my-zsh/custom/plugins/autojump</span><br><span class="line">./install.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新版本直接在插件里面添加即可</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; source ~/.autojump/etc/profile.d/autojump.sh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>国内源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@gitee.com:gentlecp/autojump.git ~/.zsh/plugins/autojump</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> ~/.zsh/plugins/autojump</span><br><span class="line"></span><br><span class="line">./install.py</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[[ -s ~/.autojump/etc/profile.d/autojump.sh ]] &amp;&amp; source ~/.autojump/etc/profile.d/autojump.sh&quot;</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-<span class="variable">$HOME</span>&#125;</span>/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><p>安装完成后，使用查看autojump版本。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">autojump --version</span></span><br><span class="line">autojump release-v21.1.2</span><br></pre></td></tr></table></figure><p>设置<code>.zshrc</code>文件，添加<code>autojump 配置</code></p><h3 id="colorls">colorls</h3><p>官网：<a href="https://github.com/athityakumar/colorls">https://github.com/athityakumar/colorls</a></p><h4 id="homebrew安装：">homebrew安装：</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew install ruby</span><br><span class="line">sudo gem install colorls</span><br></pre></td></tr></table></figure><blockquote><p>如果显示<code>zsh: command not found: colorls</code><br>在<code>.zshrc</code>里面添加<code>export PATH=$PATH:$(ruby -e 'puts Gem.bindir')</code></p></blockquote><h4 id="WSL-apt安装">WSL apt安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ruby-dev  //切记用官方源，阿里云源会出问题，会出错，其他源暂时没试过</span><br><span class="line">sudo gem install colorls</span><br></pre></td></tr></table></figure><h4 id="MacOS-13-6源码安装：">MacOS 13.6源码安装：</h4><p>安装ruby(version&gt;2.5)  <a href="https://www.ruby-lang.org/en/downloads/">https://www.ruby-lang.org/en/downloads/</a></p><p><a href="https://blog.csdn.net/baidu_38432732/article/details/106573806">源码安装ruby</a></p><p><a href="https://blog.csdn.net/baidu_38432732/article/details/106573806">https://blog.csdn.net/baidu_38432732/article/details/106573806</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/ruby-3.0.3</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br><span class="line">esource ~/.zshrc</span><br><span class="line">ruby -v</span><br><span class="line">gem install colorls</span><br></pre></td></tr></table></figure><p>如果安装colorls失败，需要安装openssl，命令为<code>brew install openssl@1.1</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">./config --prefix=<span class="regexp">/usr/</span>local/opt/openssl/</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br><span class="line">cd  ~<span class="regexp">/Desktop/</span>ruby-<span class="number">2.7</span><span class="number">.5</span>/  </span><br><span class="line"></span><br><span class="line"><span class="comment">//下面功能都是生成makefile</span></span><br><span class="line">./configure --prefix=<span class="regexp">/usr/</span>local/opt/ruby-<span class="number">2.7</span><span class="number">.5</span> --<span class="keyword">with</span>-openssl-dir=<span class="regexp">/usr/</span>local/opt/openssl</span><br><span class="line">./configure --prefix=<span class="regexp">/usr/</span>local/opt/ruby-<span class="number">2.7</span><span class="number">.5</span> --<span class="keyword">with</span>-openssl-include=<span class="regexp">/usr/</span>local/opt/openssl/include/ --<span class="keyword">with</span>-openssl-lib=<span class="regexp">/usr/</span>local/opt/openssl/lib</span><br><span class="line"><span class="comment">//测试成功</span></span><br><span class="line">cd ./ext/openssl/</span><br><span class="line">ruby extconf.<span class="property">rb</span> --prefix=<span class="regexp">/usr/</span>local/opt/ruby-<span class="number">2.7</span><span class="number">.5</span> --<span class="keyword">with</span>-openssl-include=<span class="regexp">/usr/</span>local/opt/openssl/include/ --<span class="keyword">with</span>-openssl-lib=<span class="regexp">/usr/</span>local/opt/openssl/lib</span><br><span class="line"><span class="comment">//end</span></span><br><span class="line"> sudo make </span><br><span class="line"> sudo make install</span><br></pre></td></tr></table></figure><p>将下面代码添加进.zshrc文件中</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> RUBY_HOME=/usr/local/opt/ruby-2.7.5</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$RUBY_HOME</span>/bin:<span class="variable">$PATH</span></span><br><span class="line"><span class="built_in">export</span> LDFLAGS=“RUBY_HOME/lib”</span><br><span class="line"><span class="built_in">export</span> CPPFLAGS=“RUBY_HOME/include”</span><br></pre></td></tr></table></figure><h4 id="colorls别名配置文件">colorls别名配置文件</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># colorls别名start</span></span><br><span class="line"><span class="comment"># --sd 排序 </span></span><br><span class="line"><span class="comment"># --gs git状态 Shows git status for each entry</span></span><br><span class="line"><span class="comment"># -r(or)  --report 显示报告</span></span><br><span class="line"><span class="comment"># -d (or) --dirs : Shows only directories</span></span><br><span class="line"><span class="comment"># -f (or) --files : Shows only files</span></span><br><span class="line"><span class="comment"># -h (or) --help : Prints a very helpful help menu</span></span><br><span class="line"><span class="comment"># --sd (or) --sort-dirs or --group-directories-first : Shows directories first, followed by files</span></span><br><span class="line"><span class="built_in">alias</span> l=<span class="string">&#x27;colorls --sd --gs&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">&#x27;colorls -A --sd --sf --gs --group-directories-first&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;colorls -lh --gs --group-directories-first&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> lla=<span class="string">&#x27;colorls -lhA --sd --sf --gs --group-directories-first&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> lt=<span class="string">&quot;colorls --tree=1&quot;</span></span><br><span class="line"><span class="built_in">alias</span> lt2=<span class="string">&quot;colorls --tree=2&quot;</span></span><br><span class="line"><span class="built_in">alias</span> lsp=<span class="string">&#x27;colorls -pl&#x27;</span></span><br><span class="line"><span class="comment"># colorls别名end</span></span><br></pre></td></tr></table></figure><h2 id="其他插件">其他插件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(git history vscode sublime sudo)</span><br></pre></td></tr></table></figure><ul><li>vscode</li><li>Sublime</li><li>Sudo</li></ul><h2 id="Hyper">Hyper</h2><img src="https://dev.azure.com/conansteve/87be1d78-05d4-41bd-87b2-a023d463dcd2/_apis/git/repositories/075c6005-9f0d-4b8c-97a7-60d87486d3f4/items?path=%2F1648455784134_8713.png&versionDescriptor%5BversionOptions%5D=0&versionDescriptor%5BversionType%5D=0&versionDescriptor%5Bversion%5D=master&resolveLfs=true&%24format=octetStream&api-version=5.0" style="zoom:50%;" /><h3 id="安装方法">安装方法</h3><ol><li>通过Macwk网站安装</li><li>MacOS可通过homebrew安装 <code>brew install hyper</code></li><li><a href="https://hyper.is">官网下载</a></li></ol><h3 id="配置">配置</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">copyOnSelect:</span> <span class="literal">true</span>,<span class="regexp">//</span>自动复制被选择区域</span><br><span class="line"><span class="symbol">shell:</span> <span class="string">&#x27;zsh&#x27;</span>,</span><br><span class="line"><span class="symbol">fontFamily:</span> <span class="string">&#x27;Hack Nerd Font Mono, &quot;DejaVu Sans Mono&quot;, Consolas, &quot;Lucida Console&quot;, monospace&#x27;</span>,<span class="regexp">//</span>MacOS  <span class="symbol">https:</span>/<span class="regexp">/www.nerdfonts.com/font</span>-downloads</span><br><span class="line"><span class="string">&quot;editor.fontFamily&quot;</span>: <span class="string">&quot;Hack Nerd Font Mono,Lucida Console, &#x27; Lucida Console&#x27;, Lucida Console，&quot;</span>,  <span class="regexp">//windows</span></span><br></pre></td></tr></table></figure><p>这里我们会用到两个插件：</p><ul><li>hyper-snazzy：提供终端颜色主题</li><li>hyper-transparent-dynamic：提供终端窗口毛玻璃半透明效果</li></ul><p>具体配置代码如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins<span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;hyper-snazzy&quot;</span><span class="punctuation">,</span> <span class="string">&quot;hyper-transparent-dynamic&quot;</span><span class="punctuation">,</span> <span class="string">&quot;hyperpower&quot;</span><span class="punctuation">,</span><span class="string">&quot;hyper-pane&quot;</span><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h4 id="窗口透明度调整">窗口透明度调整</h4><p>同样是在 Hyper 的配置文件中，添加如下代码：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hyperTransparentDynamic<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    alpha<span class="punctuation">:</span> <span class="number">0.5</span> <span class="comment">// 默认 50% 透明度</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="comment">//节点config的子节点</span></span><br></pre></td></tr></table></figure><h3 id="主题">主题</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hyper i hyper-npm-theme</span><br><span class="line">hyper i verminal</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011530513.png" alt="image (1642×986) (hyper.is)"></p><h2 id="iterm2">iterm2</h2><p><a href="https://blog.csdn.net/ClownG/article/details/107849908">Mac终端工具iTerm2的多个ssh链接保存设置（类似Xshell的使用方法）</a></p><h2 id="别名配置">别名配置</h2><h3 id="通用必备配置">通用必备配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#git 别名</span></span><br><span class="line"><span class="built_in">alias</span> gta=<span class="string">&quot;git add .&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtam=<span class="string">&quot;git add .  &amp;&amp; git commit -m&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtb=<span class="string">&quot;git branch&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtbd=<span class="string">&quot;git branch -d&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtck=<span class="string">&quot;git checkout&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtcl=<span class="string">&quot;git clone&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtm=<span class="string">&quot;git commit -m&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtl=<span class="string">&quot;git log --graph --all&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtlo=<span class="string">&quot;git log --oneline --graph --all&quot;</span></span><br><span class="line"><span class="comment"># cancel last add</span></span><br><span class="line"><span class="built_in">alias</span> gtr=<span class="string">&quot;git reset HEAD&quot;</span></span><br><span class="line"><span class="comment"># cancel last commit and add,慎用，会删除本地文件的修改</span></span><br><span class="line"><span class="built_in">alias</span> gtrh=<span class="string">&quot;git reset --hard HEAD^&quot;</span></span><br><span class="line"><span class="comment"># cancel last commit</span></span><br><span class="line"><span class="built_in">alias</span> gtrs=<span class="string">&quot;git reset --soft HEAD^&quot;</span></span><br><span class="line"><span class="comment"># 取消提交，可以先gtrs，再gtr</span></span><br><span class="line"><span class="built_in">alias</span> gtps=<span class="string">&quot;git push&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gts=<span class="string">&quot;git status&quot;</span></span><br><span class="line"><span class="built_in">alias</span> gtst=<span class="string">&quot;git stash&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># convert web page to markdown</span></span><br><span class="line"><span class="built_in">alias</span> cm=<span class="string">&quot;clean-mark&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> src=<span class="string">&quot;source ~/.zshrc&quot;</span></span><br><span class="line"><span class="built_in">alias</span> strc=<span class="string">&quot;subl ~/.zshrc&quot;</span></span><br><span class="line"><span class="built_in">alias</span> als=<span class="string">&quot;alias&quot;</span></span><br><span class="line"><span class="built_in">alias</span> alsg=<span class="string">&quot;alias |grep&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># convert jupyter notebook to markdown </span></span><br><span class="line"><span class="built_in">alias</span> nb2md=<span class="string">&quot;jupyter nbconvert --to markdown&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># conda alias</span></span><br><span class="line"><span class="built_in">alias</span> cda=<span class="string">&quot;conda activate&quot;</span></span><br><span class="line"><span class="built_in">alias</span> cdd=<span class="string">&quot;conda deactivate&quot;</span></span><br><span class="line"><span class="built_in">alias</span> cdel=<span class="string">&quot;conda env list&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hexo theme</span></span><br><span class="line"><span class="built_in">alias</span> hxcg=<span class="string">&quot;hexo clean &amp;&amp; hexo g&quot;</span></span><br><span class="line"><span class="built_in">alias</span> hxcgs=<span class="string">&quot;hexo clean &amp;&amp; hexo g &amp;&amp; hexo server&quot;</span></span><br><span class="line"><span class="built_in">alias</span> hxs=<span class="string">&quot;hexo server&quot;</span></span><br><span class="line"><span class="built_in">alias</span> hxd=<span class="string">&quot;hexo deploy&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">alias</span> ztc=<span class="string">&quot;zerotier-cli&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># yt-dlp start</span></span><br><span class="line"><span class="built_in">alias</span> ytd=<span class="string">&quot;yt-dlp&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ytdF=<span class="string">&quot;yt-dlp -F&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ytdf=<span class="string">&quot;yt-dlp -o /mnt/sda1/Documents/Downloads/youtube/&#x27;%(title)s.mp4&#x27;&quot;</span></span><br><span class="line"><span class="built_in">alias</span> ytdl=<span class="string">&quot;yt-dlp -f &#x27;bv[ext=mp4]+ba[ext=m4a]&#x27; --embed-metadata --merge-output-format mp4 -o /mnt/sda1/Documents/Downloads/youtube/&#x27;%(title)s.mp4&#x27;&quot;</span></span><br><span class="line"><span class="comment"># yt-dlp end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决Termius中文乱码</span></span><br><span class="line"><span class="built_in">export</span> LANG=en_US.UTF-8</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>macOS独有</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">端口测试 telnet 192.68.1.101 80</span></span><br><span class="line">alias telnet=&quot;nc -vz -w 2 &quot;</span><br></pre></td></tr></table></figure><h3 id="其他配置">其他配置</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">普通别名，无法配置colorls时使用</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-a 显示所有文件及目录 (. 开头的隐藏文件也会列出)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d 只列出目录（不递归列出目录内的文件）。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-l 以长格式显示文件和目录信息，包括权限、所有者、大小、创建时间等。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-r 倒序显示文件和目录。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-t 将按照修改时间排序，最新的文件在最前面。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-A 同 -a ，但不列出 <span class="string">&quot;.&quot;</span> (目前目录) 及 <span class="string">&quot;..&quot;</span> (父目录)</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-F 在列出的文件名称后加一符号；例如可执行档则加 <span class="string">&quot;*&quot;</span>, 目录则加 <span class="string">&quot;/&quot;</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-R 递归显示目录中的所有文件和子目录。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-h 文件大小以人类易读的单位显示。</span></span><br><span class="line">alias l=&#x27;ls -CF&#x27;</span><br><span class="line">alias la=&#x27;ls -AF&#x27;</span><br><span class="line">alias lsa=&#x27;ls -AF&#x27;</span><br><span class="line">alias ll=&#x27;ls -lhF&#x27;</span><br><span class="line">alias lla=&#x27;ls -lhAF&#x27;</span><br><span class="line">alias lsp=&#x27;ls -plh&#x27;</span><br><span class="line">alias lt=&#x27;ls -lhtF&#x27;</span><br><span class="line">alias lat=&#x27;ls -lhatF&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">End</span></span><br></pre></td></tr></table></figure><h2 id="windows-terminal">windows terminal</h2><h2 id="Reference">Reference</h2><ol><li><a href="https://zhuanlan.zhihu.com/p/19556676">终极 Shell——ZSH</a></li><li><a href="https://www.dazhuanlan.com/franco109/topics/1314003">玩转终端软件 Hyper</a></li><li><a href="https://sspai.com/post/56081#!">打造高颜值终端——Hyper</a></li><li><a href="https://www.jianshu.com/p/43c1b6e40c69">zsh 命令自动补全插件 zsh-autosuggestions 安装和配置</a></li><li><a href="https://www.jianshu.com/p/15f0ffaa88d7">Linux 懒人工具 - autojump</a></li><li><a href="https://www.cnblogs.com/himonkey/p/11853487.html">Mac终端窗口配置oh-my-zsh</a></li><li><a href="https://www.jianshu.com/p/a61fea170d1a">Windows Terminal 美化配置</a></li><li><a href="https://blog.csdn.net/lzhujian/article/details/103330056">打造最强终端之一：Fish shell简明教程</a></li><li><a href="https://blog.csdn.net/qwe641259875/article/details/107201760">国内安装zsh教程</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常用字体配置</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-Font/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-Font/</url>
      
        <content type="html"><![CDATA[<h1>常用字体配置</h1><h2 id="Hack-Nerd-Regular">Hack Nerd Regular</h2><p>终端必备字体</p><h3 id="Typora">Typora</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">--monospace</span>: <span class="string">&#x27;Hack Nerd Font Mono&#x27;</span>, <span class="string">&quot;DejaVu Sans Mono&quot;</span>, <span class="string">&#x27;Consolas&#x27;</span>, <span class="string">&quot;Lucida Console&quot;</span>, monospace;</span><br></pre></td></tr></table></figure><h3 id="Hyper">Hyper</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fontFamily: <span class="string">&#x27;Hack Nerd Font Mono, &quot;DejaVu Sans Mono&quot;, Consolas, &quot;Lucida Console&quot;, monospace&#x27;</span>,</span><br></pre></td></tr></table></figure><h3 id="VS-Code">VS Code</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hack Nerd <span class="attribute">Font</span> Mono, Monaco, &#x27;Courier New&#x27;, monospace</span><br></pre></td></tr></table></figure><h2 id="Monaco">Monaco</h2><p>适合英文显示的字体，iterm2默认字体</p><h3 id="Typora-2">Typora</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">--font-family</span>: -apple-system, BlinkMacSystemFont, <span class="string">&quot;Segoe UI&quot;</span>, Helvetica, <span class="string">&quot;Apple Color Emoji&quot;</span>, Arial, sans-serif, <span class="string">&quot;Segoe UI Emoji&quot;</span>, <span class="string">&quot;Segoe UI Symbol&quot;</span>;</span><br><span class="line"><span class="attr">--monospace</span>: <span class="string">&#x27;Monaco&#x27;</span>, <span class="string">&quot;DejaVu Sans Mono&quot;</span>, <span class="string">&#x27;Consolas&#x27;</span>, <span class="string">&quot;Lucida Console&quot;</span>, monospace;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="built_in">var</span>(--font-family);</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--text-color);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="安卓手机字体修改">安卓手机字体修改</h2><h3 id="华为EMUI">华为EMUI</h3><blockquote><p>支持10.0、</p></blockquote><p>用“爱美化”app打包ttf字体为hwt。<br>选“华为主题”，ttf转华为hwt字体，新建主题，EMUI10，选择字体，填写作者，生成字体主题。再将download文件夹里面的hwt文件移动到，<br>我的手机—Huawei—Themes，<br>重启系统。<br>打开“主题”，我的，字体，选择字体，应用。<br>鸿蒙字体选择HarmonyOS_Sans_SC_Medium.ttf</p><h2 id="其它">其它</h2><p><a href="https://www.zhangxinxu.com/study/201703/font-family-chinese-english.html">字体中英文名称对照表</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>关系数据库的基本使用</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/Database/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/Database/</url>
      
        <content type="html"><![CDATA[<h1>MySQL</h1><h2 id="安装">安装</h2><p><a href="https://www.cnblogs.com/alan-lin/p/9966917.html">Windows 安装并配置 MySQL 5.6/5.7</a></p><p><a href="https://blog.csdn.net/wudinaniya/article/details/82455431">windows上同时安装两个版本的mysql数据库</a></p><p><a href="https://dev.mysql.com/downloads/mysql/">mac版mysql下载地址</a></p><h3 id="ubunut安装mysql">ubunut安装mysql</h3><p><a href="https://blog.csdn.net/ac_dao_di/article/details/48932729">手动安装mysql5.6</a></p><p><a href="https://www.cnblogs.com/livelab/p/12808150.html">Mysql8</a></p><p><a href="https://www.iplayio.cn/post/9225021">如何从命令行管理MySQL数据库和用户</a></p><p><a href="https://www.cnblogs.com/lzwangshubo/p/9977997.html">安装MariaDB</a></p><p><a href="https://blog.csdn.net/silence_xiang/article/details/103472888">Mysql-mysql8创建用户用户并授权-远程访问</a></p><p><a href="https://www.cnblogs.com/xiaojf/p/11107934.html">远程主机无法访问</a></p><p><a href="https://blog.csdn.net/yeya24/article/details/81836218">修改字符集</a></p><h2 id="管理Mysql">管理Mysql</h2><h3 id="创建用户">创建用户</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> if <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="string">&#x27;fan&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;12121212&#x27;</span>;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><h3 id="修改用户密码">修改用户密码</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;fanfan&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="授予数据库权限">授予数据库权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span><span class="operator">*</span>.<span class="operator">*</span><span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;fan&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>5.5本地访问需要单独添加localhost权限</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> fan<span class="variable">@localhost</span>; </span><br><span class="line">flush privileges; </span><br></pre></td></tr></table></figure><h3 id="访问数据库">访问数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 172.18.32.92 -u root -p</span><br></pre></td></tr></table></figure><h3 id="授予用户管理指定数据库权限">授予用户管理指定数据库权限</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> databaseName.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;zhuanzhi_shuqi&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure><h1>Reference</h1><p>[<a href="https://www.cnblogs.com/hxlinux/p/12900503.html">https://www.cnblogs.com/hxlinux/p/12900503.html</a>]</p><p><a href="https://www.cnblogs.com/yaradish/p/10078640.html">查看mysql数据库是否存在某张表及某张表是否存在某个字段</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>图数据库的基本使用</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/GraphDatabase/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/GraphDatabase/</url>
      
        <content type="html"><![CDATA[<h1>简介</h1><p>图数据与关系数据库对比</p><table><thead><tr><th><strong>分类</strong></th><th>模型</th><th>优势</th><th>劣势</th><th>举例</th></tr></thead><tbody><tr><td>关系数据库</td><td>表结构</td><td>数据高度结构化，一致性强，软件成熟度高</td><td>面向多跳的关联关系查询低效或不支持</td><td>MySql Oracle SqlServer</td></tr><tr><td>图数据库</td><td>图结构</td><td>针对关联关系的建模，操作非常高效</td><td>高度结构化的数据处理能力不及关系型数据库</td><td>Neo4j TuGraph OrientDB</td></tr></tbody></table><blockquote><p>面对海量数据的存储和处理问题，传统的关系数据库已经无法满足大部分的日常数据储存的需求。图数据库技术可以将关系信息储存为实体、灵活拓展数据模型。由于提供了对关联数据最直接的表达，以及图模型对异构数据天然的包容力。未来，图数据库技术必将成为最为热点的技术之一，为企业存储和分析大规模图数据提供强有力的支持。</p></blockquote><h1>Orient DB</h1><p><a href="https://orientdb.org/">官网org</a></p><p>官方<a href="http://orientdb.com/docs/3.0.x/">DOC</a></p><p><a href="https://www.tutorialspoint.com/orientdb/index.htm">English tutorial</a></p><p><a href="https://www.yiibai.com/orientdb/orientdb_overview.html">OrientDB 中文教程</a></p><p><a href="https://www.w3cschool.cn/orientdb/orientdb_installation.html">中文教程 2</a></p><h1>gremlim</h1><h2 id="简介">简介</h2><p>什么是Gremlin？</p><p>Gremlin是一种图数据遍历的接口封装或者框架，类似于关系数据库中的Mybatis，将对于书库的访问操作封装到一套接口当中，使应用开发人员不用关心底层数据库的操作。</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011535193.jpg" alt=""></p><h2 id="连接">连接</h2><p><a href="http://tinkerpop.apache.org/docs/current/reference/">doc</a></p><p><a href="http://tinkerpop-gremlin.cn/">gremlin中文文档</a></p><p><a href="https://help.aliyun.com/knowledge_detail/92204.html">gremlin安装</a></p><p><a href="https://blog.csdn.net/javeme/article/details/82631834">深入学习图数据库语言Gremlin 系列文章链接汇总</a></p><ul><li>通过配置文件连接任意图数据库</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">:remote connect tinkerpop.server conf/remote.yaml session</span><br><span class="line">:remote console</span><br><span class="line">connect remote:localhost/demodb admin admin</span><br></pre></td></tr></table></figure><ul><li>通过接口连接OrientDB</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g = org.apache.tinkerpop.gremlin.orientdb.OrientGraph.open(&quot;remote:localhost/mkg&quot;,&quot;admin&quot;,&quot;admin&quot;);</span><br><span class="line">gt = g.traversal()</span><br></pre></td></tr></table></figure><h2 id="管理">管理</h2><p><a href="https://blog.csdn.net/weixin_33895695/article/details/88678857?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-4.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-4.control">gremlin入门</a></p><p><a href="https://blog.csdn.net/weixin_42076409/article/details/80856911">gremlin语句详解</a></p><h1>管理</h1><p>OrientDB控制台模式：执行<code>sh console.sh</code> ，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connect remote:localhost/test admin admin</span><br></pre></td></tr></table></figure><p>然后执行SQL语句</p><h2 id="CRUD">CRUD</h2><ul><li>创建实体类</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> class Entity extends V</span><br><span class="line"><span class="keyword">create</span> property Entity.name String</span><br></pre></td></tr></table></figure><ul><li>插入记录</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> CLASS Customer </span><br><span class="line"><span class="keyword">CREATE</span> PROPERTY Customer.id <span class="type">integer</span> </span><br><span class="line"><span class="keyword">CREATE</span> PROPERTY Customer.name String </span><br><span class="line"><span class="keyword">CREATE</span> PROPERTY Customer.age <span class="type">integer</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Customer (id, name, age) <span class="keyword">VALUES</span> (<span class="number">01</span>,<span class="string">&#x27;satish&#x27;</span>, <span class="number">25</span>)</span><br></pre></td></tr></table></figure><ul><li>查询实体</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">from</span> V limit <span class="number">5</span> # <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name limit <span class="number">5</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">from</span> #<span class="number">34</span>:<span class="number">823</span>  # <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> id <span class="operator">=</span> <span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>删除实体记录</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> VERTEX <span class="keyword">from</span> x_class_name</span><br></pre></td></tr></table></figure><ul><li>删除边</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> edge where @<span class="keyword">class</span>=<span class="string">&#x27;belong_to&#x27;</span></span><br></pre></td></tr></table></figure><h1>实战</h1><p>将关系数据库数据导入图数据库</p><h1>PythonGremlin</h1><h2 id="Basic">Basic</h2><p>如何修改pythongremlin连接指定的数据库？</p><p>修改 ‘config’ 目录下的demodb.properties文件中的 ‘orient-db-name’的值即可</p><blockquote><p>注意：必须先将数据库关闭，再改文件，再重新启动数据库</p></blockquote><h2 id="CRUD-2">CRUD</h2><p><a href="https://www.it610.com/article/1280837636361043968.htm">python 操作gremlin</a></p><p><a href="https://pypi.org/project/gremlinpython/">gremlinpython包使用</a></p><p><a href="https://blog.csdn.net/jackandsnow/article/details/100572659">gremlin_python使用及增删查改方法封装</a></p><h2 id="Demo">Demo</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gremlinpython==3.5.0</span></span><br><span class="line"><span class="keyword">from</span> gremlin_python <span class="keyword">import</span> statics</span><br><span class="line"><span class="keyword">from</span> gremlin_python.structure.graph <span class="keyword">import</span> Graph</span><br><span class="line"><span class="keyword">from</span> gremlin_python.process.graph_traversal <span class="keyword">import</span> __</span><br><span class="line"><span class="keyword">from</span> gremlin_python.driver.driver_remote_connection <span class="keyword">import</span> DriverRemoteConnection</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> xlrd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">graph = Graph()</span><br><span class="line">connection = DriverRemoteConnection(<span class="string">&#x27;ws://localhost:8182/gremlin&#x27;</span>,<span class="string">&#x27;g&#x27;</span>, username=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;admin&#x27;</span>)</span><br><span class="line">g = graph.traversal().withRemote(connection)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process</span>():</span><br><span class="line">    read_xlsx()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">addV</span>(<span class="params">vertexType, name</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> == <span class="built_in">len</span>(g.V().hasLabel(vertexType).has(<span class="string">&quot;name&quot;</span>,name).valueMap().toList()):</span><br><span class="line">        vertHead = g.addV(vertexType).<span class="built_in">property</span>(<span class="string">&quot;name&quot;</span>,name).<span class="built_in">next</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">addE</span>(<span class="params">edgeType, vheadId, vTailId, properties=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    add edge</span></span><br><span class="line"><span class="string">    :param properties: property dict, like &#123;&#x27;p1&#x27;: &#x27;value1&#x27;, &#x27;p2&#x27;: &#x27;value2&#x27;&#125;</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    index_key = vheadId+vTailId</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> == <span class="built_in">len</span>(g.E().hasLabel(edgeType).has(<span class="string">&quot;index_key&quot;</span>,index_key).valueMap().toList()):</span><br><span class="line">        edge = g.V(vTailId).as_(<span class="string">&quot;t&quot;</span>).V(vheadId).addE(edgeType).to(<span class="string">&quot;t&quot;</span>).<span class="built_in">property</span>(<span class="string">&quot;index_key&quot;</span>,index_key)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> properties:</span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> properties.keys():</span><br><span class="line">                edge.<span class="built_in">property</span>(key, properties.get(key))        </span><br><span class="line">        edge.<span class="built_in">next</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_vertex_id</span>(<span class="params">vertexType, name</span>):</span><br><span class="line">    <span class="keyword">return</span> g.V().hasLabel(vertexType).has(<span class="string">&quot;name&quot;</span>,name).<span class="built_in">id</span>().<span class="built_in">next</span>()[<span class="string">&quot;@value&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_xlsx</span>():</span><br><span class="line">    data = xlrd.open_workbook(<span class="string">&quot;triple0707.xlsx&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#handle first sheet</span></span><br><span class="line">    table0 = data.sheets()[<span class="number">0</span>]</span><br><span class="line">    nrow0 = table0.nrows</span><br><span class="line">    <span class="keyword">for</span> row_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,nrow0-<span class="number">1</span>):</span><br><span class="line">        olympics = table0.cell_value(row_index,<span class="number">0</span>)</span><br><span class="line">        tech_name = table0.cell_value(row_index,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        addV(<span class="string">&quot;olympics&quot;</span>, olympics)</span><br><span class="line">        addV(<span class="string">&quot;technology&quot;</span>,tech_name)</span><br><span class="line">        vHeadId = get_vertex_id(<span class="string">&quot;olympics&quot;</span>, olympics)</span><br><span class="line">        vTailId = get_vertex_id(<span class="string">&quot;technology&quot;</span>, tech_name)</span><br><span class="line">        addE(<span class="string">&quot;apply&quot;</span>, vHeadId, vTailId)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#handle second sheet</span></span><br><span class="line">    table1 = data.sheets()[<span class="number">1</span>]</span><br><span class="line">    nrow1 = table1.nrows</span><br><span class="line">    <span class="keyword">for</span> row_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,nrow0-<span class="number">1</span>):</span><br><span class="line">        tech_name = table1.cell_value(row_index,<span class="number">0</span>)</span><br><span class="line">        olympics_aspect_2 = table1.cell_value(row_index,<span class="number">2</span>)</span><br><span class="line">        olympics_aspect_1 = table1.cell_value(row_index,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        addV(<span class="string">&quot;technology&quot;</span>,tech_name)</span><br><span class="line">        addV(<span class="string">&quot;olympics_aspect_2&quot;</span>, olympics_aspect_2)</span><br><span class="line">        addV(<span class="string">&quot;olympics_aspect_1&quot;</span>, olympics_aspect_1)</span><br><span class="line">        vHeadId = get_vertex_id(<span class="string">&quot;technology&quot;</span>, tech_name)</span><br><span class="line">        vTailId = get_vertex_id(<span class="string">&quot;olympics_aspect_2&quot;</span>, olympics_aspect_2)</span><br><span class="line">        addE(<span class="string">&quot;support&quot;</span>, vHeadId, vTailId)</span><br><span class="line"></span><br><span class="line">        vHeadId = vTailId</span><br><span class="line">        vTailId = get_vertex_id(<span class="string">&quot;olympics_aspect_1&quot;</span>, olympics_aspect_1)</span><br><span class="line">        addE(<span class="string">&quot;contain&quot;</span>, vHeadId, vTailId)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># handle third sheet</span></span><br><span class="line">    table2 = data.sheets()[<span class="number">2</span>]</span><br><span class="line">    nrow2 = table2.nrows</span><br><span class="line">    <span class="keyword">for</span> row_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,nrow2-<span class="number">1</span>):</span><br><span class="line">        tech_name = table2.cell_value(row_index,<span class="number">0</span>)</span><br><span class="line">        domain_name = table2.cell_value(row_index,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        addV(<span class="string">&quot;technology&quot;</span>, tech_name)</span><br><span class="line">        addV(<span class="string">&quot;technology_domain&quot;</span>,domain_name)</span><br><span class="line">        vHeadId = get_vertex_id(<span class="string">&quot;technology&quot;</span>, tech_name)</span><br><span class="line">        vTailId = get_vertex_id(<span class="string">&quot;technology_domain&quot;</span>, domain_name)</span><br><span class="line">        addE(<span class="string">&quot;belong_to&quot;</span>, vHeadId, vTailId)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># handle fourth sheet</span></span><br><span class="line">    table3 = data.sheets()[<span class="number">3</span>]</span><br><span class="line">    nrow3 = table3.nrows</span><br><span class="line">    <span class="keyword">for</span> row_index <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,nrow3-<span class="number">1</span>):</span><br><span class="line">        domain_name = table3.cell_value(row_index,<span class="number">0</span>)</span><br><span class="line">        olympics = table3.cell_value(row_index,<span class="number">2</span>)</span><br><span class="line">        weight = table3.cell_value(row_index,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">        addV(<span class="string">&quot;technology_domain&quot;</span>,domain_name)</span><br><span class="line">        addV(<span class="string">&quot;olympics&quot;</span>, olympics)</span><br><span class="line">        vHeadId = get_vertex_id(<span class="string">&quot;technology_domain&quot;</span>, domain_name)</span><br><span class="line">        vTailId = get_vertex_id(<span class="string">&quot;olympics&quot;</span>, olympics)</span><br><span class="line">        addE(<span class="string">&quot;support&quot;</span>, vHeadId, vTailId, properties=&#123;<span class="string">&quot;weight&quot;</span>:weight&#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    process()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    connection.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gremlinpython==3.5.0</span></span><br><span class="line"><span class="keyword">from</span> gremlin_python <span class="keyword">import</span> statics</span><br><span class="line"><span class="keyword">from</span> gremlin_python.structure.graph <span class="keyword">import</span> Graph</span><br><span class="line"><span class="keyword">from</span> gremlin_python.process.graph_traversal <span class="keyword">import</span> __</span><br><span class="line"><span class="keyword">from</span> gremlin_python.driver.driver_remote_connection <span class="keyword">import</span> DriverRemoteConnection</span><br><span class="line"></span><br><span class="line">graph = Graph()</span><br><span class="line">connection = DriverRemoteConnection(<span class="string">&#x27;ws://localhost:8182/gremlin&#x27;</span>,<span class="string">&#x27;g&#x27;</span>, username=<span class="string">&#x27;root&#x27;</span>, password=<span class="string">&#x27;admin&#x27;</span>)</span><br><span class="line">g = graph.traversal().withRemote(connection)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wiping_out_graph</span>():</span><br><span class="line">    <span class="built_in">print</span>(g.V().count().<span class="built_in">next</span>())</span><br><span class="line">    <span class="built_in">print</span>(g.E().count().<span class="built_in">next</span>())</span><br><span class="line">    g.V().drop().hasNext()</span><br><span class="line">    g.E().drop().hasNext()</span><br><span class="line">    <span class="built_in">print</span>(g.V().count().<span class="built_in">next</span>())</span><br><span class="line">    <span class="built_in">print</span>(g.E().count().<span class="built_in">next</span>())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;graph cleared!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">process</span>():</span><br><span class="line">    <span class="comment"># test_addV()</span></span><br><span class="line">    test_addE()</span><br><span class="line">    <span class="comment"># wiping_out_graph()</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;count of vertex:&quot;</span>+<span class="built_in">str</span>(g.V().count().<span class="built_in">next</span>()))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;count of edge:&quot;</span>+<span class="built_in">str</span>(g.E().count().<span class="built_in">next</span>()))</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_vertex</span>(<span class="params">label, filters = <span class="literal">None</span>, properties=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    add vertex</span></span><br><span class="line"><span class="string">    :param label: label, type: str</span></span><br><span class="line"><span class="string">    :param filters: filters , type: dict</span></span><br><span class="line"><span class="string">    :param properties: property dict, like &#123;&#x27;p1&#x27;: &#x27;value1&#x27;, &#x27;p2&#x27;: &#x27;value2&#x27;&#125;</span></span><br><span class="line"><span class="string">    :return: vertex, Vertex(id, label)</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    travel = g.V().hasLabel(label)</span><br><span class="line">    <span class="keyword">if</span> filters:</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> filters.keys():</span><br><span class="line">            travel = travel.has(key, filters.get(key))</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> == travel.count().<span class="built_in">next</span>():</span><br><span class="line">        travel = g.addV(label)</span><br><span class="line">        <span class="keyword">if</span> properties:</span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> properties.keys():</span><br><span class="line">                travel.<span class="built_in">property</span>(key, properties.get(key))</span><br><span class="line">        <span class="keyword">return</span> travel.<span class="built_in">next</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_edge</span>(<span class="params">label, vheadId, vTailId, properties=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    add edge</span></span><br><span class="line"><span class="string">    :param properties: property dict, like &#123;&#x27;p1&#x27;: &#x27;value1&#x27;, &#x27;p2&#x27;: &#x27;value2&#x27;&#125;</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    index_key = vheadId+vTailId</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> == g.E().hasLabel(label).has(<span class="string">&quot;index_key&quot;</span>,index_key).count().<span class="built_in">next</span>():</span><br><span class="line">        edge = g.V(vTailId).as_(<span class="string">&quot;t&quot;</span>).V(vheadId).addE(label).to(<span class="string">&quot;t&quot;</span>).<span class="built_in">property</span>(<span class="string">&quot;index_key&quot;</span>,index_key)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> properties:</span><br><span class="line">            <span class="keyword">for</span> key <span class="keyword">in</span> properties.keys():</span><br><span class="line">                edge.<span class="built_in">property</span>(key, properties.get(key))        </span><br><span class="line">        edge.<span class="built_in">next</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drop_vertex</span>(<span class="params">v_id=<span class="literal">None</span>, label=<span class="literal">None</span>, properties=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    drop all vertex or specific vertex</span></span><br><span class="line"><span class="string">    :param v_id: long vertex id or Vertex(id, label)</span></span><br><span class="line"><span class="string">    :param label: label, type: str</span></span><br><span class="line"><span class="string">    :param properties: property list, like [&#x27;p1&#x27;, &#x27;p2&#x27;, &#123;&#x27;p3&#x27;: &#x27;value&#x27;&#125;]</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    travel = g.V()</span><br><span class="line">    <span class="keyword">if</span> v_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        travel = travel.hasId(v_id).<span class="built_in">next</span>()</span><br><span class="line">    <span class="keyword">if</span> label:</span><br><span class="line">        travel = travel.hasLabel(label)</span><br><span class="line">    <span class="keyword">if</span> properties:</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> properties:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(p, <span class="built_in">dict</span>):</span><br><span class="line">                <span class="keyword">for</span> key <span class="keyword">in</span> p.keys():</span><br><span class="line">                    travel = travel.has(key, p.get(key))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                travel = travel.has(p)</span><br><span class="line">    travel.drop().hasNext()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drop_edge</span>(<span class="params">e_id=<span class="literal">None</span>, label=<span class="literal">None</span>, properties=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    drop all edges or specific edge</span></span><br><span class="line"><span class="string">    :param e_id: edge id, type str</span></span><br><span class="line"><span class="string">    :param label: label, type: str</span></span><br><span class="line"><span class="string">    :param properties: property list, like [&#x27;p1&#x27;, &#x27;p2&#x27;, &#123;&#x27;p3&#x27;: &#x27;value&#x27;&#125;]</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    travel = g.E()</span><br><span class="line">    <span class="keyword">if</span> e_id <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">        travel = travel.hasId(e_id)</span><br><span class="line">    <span class="keyword">if</span> label:</span><br><span class="line">        travel = travel.hasLabel(label)</span><br><span class="line">    <span class="keyword">if</span> properties:</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> properties:</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">isinstance</span>(p, <span class="built_in">dict</span>):</span><br><span class="line">                <span class="keyword">for</span> key <span class="keyword">in</span> p.keys():</span><br><span class="line">                    travel = travel.has(key, p.get(key))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                travel = travel.has(p)</span><br><span class="line">    travel.drop().hasNext()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_vertex_id</span>(<span class="params">label, properties=<span class="literal">None</span></span>):</span><br><span class="line">    travel = g.V().hasLabel(label)</span><br><span class="line">    <span class="keyword">if</span> properties:</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> properties.keys():</span><br><span class="line">            travel = travel.has(key, properties.get(key))</span><br><span class="line">    <span class="keyword">return</span> travel.<span class="built_in">id</span>().<span class="built_in">next</span>()[<span class="string">&quot;@value&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_addV</span>():</span><br><span class="line">    add_vertex(<span class="string">&quot;person&quot;</span>,filters=&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>&#125;, properties = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">15</span>, <span class="string">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span>&#125;)</span><br><span class="line">    add_vertex(<span class="string">&quot;person&quot;</span>,filters=&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>&#125;, properties = &#123;<span class="string">&quot;name&quot;</span>:<span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;age&quot;</span>:<span class="number">15</span>, <span class="string">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span>&#125;)</span><br><span class="line">    <span class="comment"># drop_vertex(label = &quot;person&quot;,properties=[&#123;&quot;name&quot;: &quot;Bob&quot;&#125;])</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_addE</span>():</span><br><span class="line">    vHeadId = get_vertex_id(<span class="string">&quot;person&quot;</span>, properties = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>&#125; )</span><br><span class="line">    vTailId = get_vertex_id(<span class="string">&quot;person&quot;</span>, properties = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>&#125; )</span><br><span class="line">    add_edge(<span class="string">&quot;friend&quot;</span>,vHeadId,vTailId)</span><br><span class="line">    <span class="comment"># drop_edge(e_id=&#x27;#137:0&#x27;)</span></span><br><span class="line">    <span class="comment"># drop_edge(label=&#x27;friend&#x27;,properties=[&#123;&quot;index_key&quot;:vHeadId+vTailId&#125;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># process()</span></span><br><span class="line"><span class="comment"># connection.close()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    process()</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    connection.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-02-01-Linux/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-02-01-Linux/</url>
      
        <content type="html"><![CDATA[<h2 id="unix系统发展分支图">unix系统发展分支图</h2><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011530839.png" alt=""></p><h2 id="shell-命令">shell 命令</h2><p><a href="https://www.runoob.com/linux/linux-command-manual.html">linux命令大全</a></p><p><a href="https://blog.csdn.net/sun___shy/article/details/80917092">windows商店安装ubuntu教程</a></p><p><a href="https://blog.csdn.net/saisai_in_csdn/article/details/106610039">wsl安装</a></p><p><a href="https://www.cnblogs.com/zhang-jun-jie/p/9266858.html">shell 脚本编程</a></p><h3 id="网络相关">网络相关</h3><ul><li>打开网卡：<code>ifup eth0</code></li><li>关闭网卡：<code>ifdown eth0</code></li></ul><h2 id="系统目录文件说明">系统目录文件说明</h2><h3 id="目录">目录</h3><p>系统开机运行服务：<code>/etc/init.d/</code><br>系统服务目录：<code>/etc/systemd/system/</code></p><h3 id="文件">文件</h3><p>系统开机后运行指令文件：<code>/etc/rc.local</code></p><h3 id="wget命令详解"><a href="https://www.cnblogs.com/sx66/p/11887022.html">wget命令详解</a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -O 保存文件名</span></span><br><span class="line">wget -O <span class="variable">$fileName</span> <span class="string">&#x27;$url&#x27;</span></span><br></pre></td></tr></table></figure><p>查看系统信息：<code> neofetch</code></p><h3 id="查看文件夹大小"><a href="https://blog.csdn.net/qq_27003337/article/details/108282745">查看文件夹大小</a></h3><p><a href="https://cloud.tencent.com/developer/article/2177646">linux查看某个文件夹的大小(ls命令、du命令详解)</a><br><a href="https://blog.csdn.net/qq_27003337/article/details/108282745">shell 查看文件夹/文件大小、目录/文件数量</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># du -sh $folderpath </span></span><br><span class="line"><span class="built_in">du</span> -sh ./.git</span><br></pre></td></tr></table></figure><h3 id="端口占用">端口占用</h3><ol><li>指定端口，例8080</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">netstat -tunlp |grep  8080</span><br><span class="line"></span><br><span class="line">lsof  -i:8080</span><br></pre></td></tr></table></figure><ol start="2"><li><p>查看服务器所有端口<br><code>netstat -ntlp</code></p></li><li><p>查看某进程端口占用，例Tomcat<br><code>ps -ef |grep tomcat</code></p></li></ol><h2 id="必装软件">必装软件</h2><p><a href="https://blog.csdn.net/qq_43126480/article/details/102957219">windows10 WSL初体验（含vim、makefile）_qq_43126480的博客-CSDN博客</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install neofetch</span><br><span class="line">sudo apt install zsh</span><br><span class="line">sudo apt-get install openssh-server  ip</span><br><span class="line">sudo apt-get install g++</span><br></pre></td></tr></table></figure><p>[sshserver](<a href="https://cloud.tencent.com/developer/article/1751149#:~:text=Ubuntu%E7%BC%BA%E7%9C%81%E6%B2%A1%E6%9C%89%E5%AE%89%E8%A3%85SSH">https://cloud.tencent.com/developer/article/1751149#:~:text=Ubuntu缺省没有安装SSH</a> Server，使用以下命令安装： sudo apt-get,install openssh-server 然后确认sshserver是否启动了：（或用“netstat -tlp”命令）)</p><p>更换git源</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo cp <span class="regexp">/etc/</span>apt<span class="regexp">/sources.list /</span>etc<span class="regexp">/apt/</span>sources.list<span class="number">.20211128</span></span><br><span class="line">sudo vim <span class="regexp">/etc/</span>apt/sources.list</span><br><span class="line">:set nu</span><br><span class="line">gg</span><br><span class="line">dG</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/sigmarising/article/details/84778296">Ubuntu 更换 apt 源为阿里云_sigmarising的博客-CSDN博客_ubuntu换源阿里云</a></p><h3 id="开机启动">开机启动</h3><p><a href="https://www.cnblogs.com/dhcn/p/11523914.html">ubuntu start</a></p><h3 id="ubuntu用户管理">ubuntu用户管理</h3><p><a href="https://blog.csdn.net/qq_31456593/article/details/79247366">用户管理</a></p><table><thead><tr><th>操作</th><th>命令</th></tr></thead><tbody><tr><td>添加用户，推荐使用</td><td><code>sudo adduser test</code></td></tr><tr><td>添加用户，不会创建目录，需要手动创建密码和目录</td><td><code>sudo useradd test</code>, <code>passwd test</code>, <code>useradd -d /home/test test</code></td></tr><tr><td>修改用户密码</td><td><code>passwd username </code></td></tr><tr><td>查看所有用户</td><td><code>sudo grep bash /etc/passwd</code></td></tr><tr><td>给用户添加管理员权限</td><td><code>adduser test sudo</code></td></tr></tbody></table><p><a href="https://cloud.tencent.com/developer/article/1649332">修改主机名称</a></p><p><code>/etc/passwd</code>文件说明：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wjx:x:1001:1001::/home/wjx:/bin/bash</span><br></pre></td></tr></table></figure><blockquote><p>从左到右依次为（用冒号分隔）：</p><ul><li>登录用户名</li><li>经过加密的口令或者口令占位符</li><li>UID（用户ID）</li><li>默认的GID（组ID）</li><li>GECOS信息：全名，办公室，手机号，座机号，其它</li><li>主目录</li><li>登录的shell</li></ul></blockquote><h4 id="idea">idea</h4><p><a href="https://www.jianshu.com/p/302dc10217c0">远程调试</a></p><h2 id="Others">Others</h2><h3 id="深度学习相关">深度学习相关</h3><p>Linux 查看显卡信息</p><p><code>lspci | grep -i vga</code></p><p><code>lspci | grep -i nvidia</code></p><p>查看 GPU 使用情况</p><p>静态查看 <code>nvidia-smi</code></p><p>周期性查看 <code>watch -n 10 nvidia-smi </code>命令行参数-n 后边跟的是执行命令的周期，以 s 为单位</p><p><a href="https://www.jianshu.com/p/deb91cc253ea">在Linux服务器上跑机器学习代码相关操作</a></p><h3 id="后台运行程序">后台运行程序</h3><p><a href="https://blog.csdn.net/weixin_43269020/article/details/83819687">后台跑代码</a></p><p>python <a href="http://test.py">test.py</a> &gt; test.log 2&gt;&amp;1 &amp;</p><p>nohup python <a href="http://src.py">src.py</a> &gt;src.log 2&gt;&amp;1 &amp;</p><p><strong>实现屏幕输出记录到日志文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup yourcommand 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p># 0 – stdin (standard input)，1 – stdout (standard output)，2 – stderr (standard error) ；</p><p># 2&gt;&amp;1是将标准错误（2）重定向到标准输出（&amp;1），标准输出（&amp;1）再被重定向输入到<a href="https://so.csdn.net/so/search?q=%E6%97%A5%E5%BF%97&amp;spm=1001.2101.3001.7020">日志</a>文件中。</p><p>如果希望将日志输出到别的文件中，可以增加一个文件路径参数。如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup yourcommand &gt; myout.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>其中myout.log是保存输出的文件名称；</p><p><a href="https://blog.csdn.net/cxu123321/article/details/108727075">参考</a></p><h3 id="关闭后台程序">关闭后台程序</h3><p><img src="https://img-blog.csdn.net/20180623103817648?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NoaVh1ZVRhbkxhbmc=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>ps -ef | grep (能识别你的进程名称的关键词)：会返回nohup启动的所有相关进程<br>或者 ps -ux |grep<br>kill -9 pid（pid为每一行的第二个id编码，表示的是该进程的父进程）</p><p><strong>实时监测日志输出内容命令：tail</strong></p><h3 id="发行版">发行版</h3><h4 id="idea-安装">idea 安装</h4><p><a href="https://www.cnblogs.com/doggod/p/11892899.html">idea安装</a></p><p><a href="https://blog.csdn.net/weixx3/article/details/81136822">Ubuntu18.04 安装 Idea 2018.2 Ultimate</a></p><p><a href="https://blog.csdn.net/weixin_31484477/article/details/81133590">ubuntu中PyCharm的安装与卸载</a></p><h4 id="deepwine">deepwine</h4><p><a href="https://www.cnblogs.com/mrwuzs/p/13200462.html">ubuntu20.04安装微信</a></p><p><a href="https://www.deep-os.com/?id=18">Deepin-wine的相关操作</a></p><p><a href="https://blog.csdn.net/w851685279/article/details/105892373/">调整微信分辨率</a></p><h4 id="java">java</h4><p><a href="https://www.cnblogs.com/powerwu/articles/12028350.html">install</a></p><p><a href="https://www.cnblogs.com/kxm87/p/9686097.html">Maven</a></p><h2 id="WSL">WSL</h2><p><a href="https://blog.csdn.net/qq_18625805/article/details/104779056">重置管理员密码</a></p><h5 id="问题">问题</h5><h2 id="Reference">Reference</h2><ul><li><a href="https://cloud.tencent.com/developer/article/1611042">adduser和useradd区别</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>知识图谱</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/KnowledgeGraph/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/KnowledgeGraph/</url>
      
        <content type="html"><![CDATA[<h1>基础</h1><h3 id="入门">入门</h3><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011540036.png" alt=""></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzU2OTA0NzE2NA==&amp;mid=2247520757&amp;idx=1&amp;sn=b2142d51162be1a7cd630623d3a5c7fc&amp;chksm=fc8670e6cbf1f9f06b2e32468e3109202268b74965e36c1c7a98cf6e5c4c99e195a9c3d483b8&amp;mpshare=1&amp;scene=1&amp;srcid=&amp;sharer_sharetime=1582011815888&amp;sharer_shareid=c73d81b0370cc4a939bc9898cb9ca485&amp;key=0b4875c6227cfa50ef3708eb15d4ec4cb98b5d8bbb54f86c9fa3b46820dfca11663e96eb4e6a4b178ec2250c4bb5748342c95a236af7465b5feec5d85dc84b967a3676828a7654dcddb04d4652ba5ab7f658154d844964b9ac321371a0f45b7c9801b19a418822c09207ee24c11a8418f9e67995d28a3ceac46b08e7d4d4335d&amp;ascene=1&amp;uin=MjkwMTY1ODIzMw==&amp;devicetype=Windows+10+x64&amp;version=6300002f&amp;lang=zh_CN&amp;exportkey=A+RxICSniseW5jejXRKFTRU=&amp;pass_ticket=0RH8B4gIIB4Lo+uaoUXRwutVMQCH1DZpMpAT7TQ6kCkstYyHUtZIs74ekPcxbpMW&amp;wx_header=0">综述</a></p><p><a href="https://mp.weixin.qq.com/s/bDsJFK3LFZjwaMxJiiBUcg">【综述专栏】什么是知识图谱｜知识图谱入门｜概述</a></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzIwMTc4ODE0Mw==&amp;mid=2247515135&amp;idx=1&amp;sn=e1b9a4f8155cc5f27113ec7d1004095a&amp;chksm=96ea647fa19ded69e43302da581c91486430acba9525925354f9b6e7a12a1d7a69beb0d5766b&amp;mpshare=1&amp;scene=1&amp;srcid=1214xRFBwrGRRe8mLwzm63yu&amp;sharer_sharetime=1607934829013&amp;sharer_shareid=17ccc67fa19a9e5072981fc1f40eec60&amp;key=53f955594eae8e1b1532bea5c139a3b43c773f9910ae9af3f3179769ea972f44786fbcb3e81ed3cc8536a698b542f30d0038950c0585b673ca310cdebdff06b09db173671f9f7772049afbc7278f495e298677c3a224105ccb3b3e256e90db69da2fc1359ae7e65c1980ecfda1d6265a4a0cc711db98ea618c29116249cfdd53&amp;ascene=1&amp;uin=MjkwMTY1ODIzMw==&amp;devicetype=Windows+10+x64&amp;version=63000039&amp;lang=zh_CN&amp;exportkey=A4CgOZJ0s9nCDDFN6Iw+dk4=&amp;pass_ticket=Q6YMzN1QllFrS0nE4D/7EGMoGjbyZHskrvM/O1f2U9Omx91MBQm3o8YWgsSjdgZB&amp;wx_header=0">行业知识图谱构建综述</a></p><p><a href="https://blog.csdn.net/weixin_44343544/article/details/107548092">知识图谱嵌入内容整理</a></p><p><a href="https://weizhixiaoyi.com/archives/463.html">知识图谱嵌入(KGE)主流模型简介</a></p><p><a href="https://blog.csdn.net/qq_40006058/article/details/89432773">推荐算法常用评价指标：NDCG、MAP、MRR、HR、ILS、ROC、AUC、F1等</a></p><h3 id="基础知识">基础知识</h3><h4 id="知识表示">知识表示</h4><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011540037.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011540038.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011540039.png" alt=""></p><h2 id="问答">问答</h2><p><a href="https://blog.csdn.net/broccoli2/article/details/102531077">什么是实体对齐、实体消歧、属性对齐？</a></p><h1>Others</h1>]]></content>
      
      
      <categories>
          
          <category> MachineLearning </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>维特比算法</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/ViterbiAlgorithm/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/ViterbiAlgorithm/</url>
      
        <content type="html"><![CDATA[<p>Viterbi:DP搜索最优状态序列<br>定义：Viterbi变量<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">δ_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>是在时间t时，模型沿着某一条路径到达<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,输出观察序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">O</mi><mo>=</mo><msub><mi>O</mi><mn>1</mn></msub><msub><mi>O</mi><mn>2</mn></msub><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msub><mi>O</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">Ο=O_1O_2···O_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">O</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的最大概率为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msub><mi>q</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow></munder><mi>P</mi><mo stretchy="false">(</mo><msub><mi>q</mi><mn>1</mn></msub><msub><mi>q</mi><mn>2</mn></msub><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msub><mi>q</mi><mi>t</mi></msub><mo>=</mo><msub><mi>S</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>O</mi><mn>1</mn></msub><msub><mi>O</mi><mn>2</mn></msub><mo separator="true">⋅</mo><mo separator="true">⋅</mo><mo separator="true">⋅</mo><msub><mi>O</mi><mi>t</mi></msub><mi mathvariant="normal">∣</mi><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">δ_t(i)=\max_{q_1q_2···q_{t-1}} P(q_1q_2···q_t=S_i, O_1O_2···O_t|i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.5918em;vertical-align:-0.8418em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.4em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">⋅⋅⋅</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2025em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8418em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">⋅⋅⋅</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></span></p><p><a href="https://blog.csdn.net/StarLib/article/details/106904606">维特比算法实现</a></p><p><a href="https://www.zhihu.com/question/20136144">如何通俗地讲解 viterbi 算法？</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">argmax</span>(<span class="params">vec</span>):</span><br><span class="line">    <span class="comment"># return the argmax as a python int</span></span><br><span class="line">    _, idx = torch.<span class="built_in">max</span>(vec, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> idx.item()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_sum_exp</span>(<span class="params">vec</span>):</span><br><span class="line">    max_score = vec[<span class="number">0</span>, argmax(vec)]</span><br><span class="line">    max_score_broadcast = max_score.view(<span class="number">1</span>, -<span class="number">1</span>).expand(<span class="number">1</span>, vec.size()[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> max_score + \</span><br><span class="line">           torch.log(torch.<span class="built_in">sum</span>(torch.exp(vec - max_score_broadcast)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Viterbi</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, s_to_idx, v_to_idx, tran_matrix, emit_matrix</span>):</span><br><span class="line">        self.s_to_idx = s_to_idx</span><br><span class="line">        self.v_to_idx = v_to_idx</span><br><span class="line">        self.tran_matrix = torch.Tensor(tran_matrix).transpose(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">        self.emit_matrix = torch.Tensor(emit_matrix).transpose(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">        self.state_size = <span class="built_in">len</span>(s_to_idx)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">viterbi</span>(<span class="params">self, init_state, v_seq</span>):</span><br><span class="line">        backpointers = []</span><br><span class="line">        <span class="comment"># 在对数空间初始化维特比变量</span></span><br><span class="line">        res = []</span><br><span class="line">        init_state = torch.Tensor(init_state)</span><br><span class="line">        <span class="keyword">for</span> i, s <span class="keyword">in</span> <span class="built_in">enumerate</span>(init_state):</span><br><span class="line">            v = self.v_to_idx[v_seq[<span class="number">0</span>]]</span><br><span class="line">            tmp = torch.log(s) + torch.log(self.emit_matrix[v][i])</span><br><span class="line">            res.append(tmp)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">del</span> init_state</span><br><span class="line">        init_vvars = torch.stack(res)</span><br><span class="line"></span><br><span class="line">        forward_var = init_vvars</span><br><span class="line">        <span class="keyword">for</span> v <span class="keyword">in</span> v_seq[<span class="number">1</span>:]:</span><br><span class="line">            bptrs_t = []</span><br><span class="line">            viterbivars_t = []</span><br><span class="line">            v_index = self.v_to_idx[v]</span><br><span class="line">            <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">range</span>(self.state_size):</span><br><span class="line">                next_tag_var = forward_var + torch.log(self.tran_matrix[s])</span><br><span class="line">                best_tag_id = argmax(next_tag_var)</span><br><span class="line">                bptrs_t.append(best_tag_id)</span><br><span class="line">                viterbivars_t.append(next_tag_var[best_tag_id])</span><br><span class="line">            forward_var = (torch.Tensor(viterbivars_t) + torch.log(self.emit_matrix[v_index]))</span><br><span class="line">            backpointers.append(bptrs_t)</span><br><span class="line">        <span class="comment"># 终结</span></span><br><span class="line">        terminal_var = forward_var</span><br><span class="line">        best_tag_id = argmax(terminal_var)</span><br><span class="line">        path_score = terminal_var[best_tag_id]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 回溯解码</span></span><br><span class="line">        best_path = [best_tag_id]</span><br><span class="line">        <span class="keyword">for</span> bptrs_t <span class="keyword">in</span> <span class="built_in">reversed</span>(backpointers):</span><br><span class="line">            best_tag_id = bptrs_t[best_tag_id]</span><br><span class="line">            best_path.append(best_tag_id)</span><br><span class="line"></span><br><span class="line">        best_path.reverse()</span><br><span class="line">        <span class="keyword">return</span> torch.exp(path_score), best_path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">toIdx</span>(<span class="params">l: <span class="type">List</span></span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;e: i <span class="keyword">for</span> i, e <span class="keyword">in</span> <span class="built_in">enumerate</span>(l)&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    states = [<span class="string">&quot;健康&quot;</span>, <span class="string">&quot;发烧&quot;</span>] <span class="comment"># tags</span></span><br><span class="line">    observations = [<span class="string">&quot;正常&quot;</span>, <span class="string">&quot;冷&quot;</span>, <span class="string">&quot;头晕&quot;</span>]<span class="comment"># </span></span><br><span class="line">    tran_matrix = torch.Tensor([[<span class="number">0.7</span>, <span class="number">0.3</span>], [<span class="number">0.4</span>, <span class="number">0.6</span>]])  <span class="comment"># A_ij tagsNum*tagsNum 状态转移矩阵</span></span><br><span class="line">    emit_matrix = torch.Tensor([[<span class="number">0.5</span>, <span class="number">0.4</span>, <span class="number">0.1</span>], [<span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.6</span>]]) <span class="comment">#tagsNum* obsStates 观测状态矩阵</span></span><br><span class="line">    init_state = [<span class="number">0.6</span>, <span class="number">0.4</span>]</span><br><span class="line">    observation_seq = [<span class="string">&quot;正常&quot;</span>, <span class="string">&quot;冷&quot;</span>, <span class="string">&quot;头晕&quot;</span>]</span><br><span class="line">    viterbi = Viterbi(toIdx(states), toIdx(observations), tran_matrix, emit_matrix)</span><br><span class="line">    maxpro, path = viterbi.viterbi(init_state, observation_seq)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;最大概率为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(maxpro))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;最大概率下路径为：&quot;</span>)</span><br><span class="line">    pt = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> path:</span><br><span class="line">        pt += states[i] + <span class="string">&quot;-&gt;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(pt)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/algorithm/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/algorithm/</url>
      
        <content type="html"><![CDATA[<h1>经典算法</h1><p><a href="https://zhuanlan.zhihu.com/p/126124250">动态规划</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>决策树</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/decision-tree/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/decision-tree/</url>
      
        <content type="html"><![CDATA[<h1>决策树</h1><p>决策树是一种机器学习的方法。决策树的生成算法有ID3, C4.5和C5.0等。决策树是一种树形结构，其中每个内部节点表示一个属性上的判断，每个分支代表一个判断结果的输出，最后每个叶节点代表一种分类结果。</p><p>决策树是一种十分常用的分类方法，需要监管学习（有教师的Supervised Learning），监管学习就是给出一堆样本，每个样本都有一组属性和一个分类结果，也就是分类结果已知，那么通过学习这些样本得到一个决策树，这个决策树能够对新的数据给出正确的分类。这里通过一个简单的例子来说明决策树的构成思路：</p><p>给出如下的一组数据，一共有十个样本（学生数量），每个样本有分数，出勤率，回答问题次数，作业提交率四个属性，最后判断这些学生是否是好学生。最后一列给出了人工分类结果。</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011543972.png" alt=""></p><p>然后用这一组附带分类结果的样本可以训练出多种多样的决策树，这里为了简化过程，我们假设决策树为二叉树，且类似于下图：</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011543697.png" alt=""></p><p>通过学习上表的数据，可以设置A，B，C，D，E的具体值，而A，B，C，D，E则称为阈值。当然也可以有和上图完全不同的树形，比如下图这种的：</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011545723.png" alt=""></p><p>所以决策树的生成主要分以下两步，这两步通常通过学习已经知道分类结果的样本来实现。</p><ol><li>节点的分裂：一般当一个节点所代表的属性无法给出判断时，则选择将这一节点分成2个子节点（如不是二叉树的情况会分成n个子节点）</li><li>阈值的确定：选择适当的阈值使得分类错误率最小 （Training Error）。</li></ol><p>比较常用的决策树有ID3，C4.5和CART（Classification And Regression Tree），CART的分类效果一般优于其他决策树。下面介绍具体步骤。</p><p>ID3: 由增熵（Entropy）原理来决定那个做父节点，那个节点需要分裂。对于一组数据，熵越小说明分类结果越好。熵定义如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>y</mi><mo>=</mo><mo>−</mo><mo>∑</mo><mo stretchy="false">[</mo><msub><mi>p</mi><msub><mi>x</mi><mi>i</mi></msub></msub><mo>∗</mo><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><msub><mi>p</mi><msub><mi>x</mi><mi>i</mi></msub></msub></msubsup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">Entropy=−\sum [p_{x_i}∗log_2^{p_{x_i}}]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6em;vertical-align:-0.55em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-symbol large-op" style="position:relative;top:0em;">∑</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.17em;vertical-align:-0.2663em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9037em;"><span style="top:-2.4337em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.3023em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6595em;"></span><span class="mord mathnormal mtight">i</span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3147em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3678em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2663em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></p><p>其中p(x_i) 为x_i出现的概率。假如是2分类问题，当A类和B类各占50%的时候，</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>y</mi><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mn>0.5</mn><mo>∗</mo><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mn>0.5</mn></msubsup><mo>+</mo><mn>0.5</mn><mo>∗</mo><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mn>0.5</mn></msubsup><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">Entropy=−(0.5∗log_2^{0.5}+0.5*log_2^{0.5})=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0.5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>当只有A类，或只有B类的时候，</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>p</mi><mi>y</mi><mo>=</mo><mo>−</mo><mtext>（</mtext><mn>1</mn><mo>∗</mo><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mn>1</mn></msubsup><mo>+</mo><mn>0</mn><mtext>）</mtext><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">Entropy=−（1∗log_2^1+0）=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">−</span><span class="mord cjk_fallback">（</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>所以当Entropy最大为1的时候，是分类效果最差的状态，当它最小为0的时候，是完全分类的状态。因为熵等于零是理想状态，一般实际情况下，熵介于0和1之间。</p><p>熵的不断最小化，实际上就是提高分类正确率的过程。<br>比如上表中的4个属性：单一地通过以下语句分类：</p><ol><li>分数小于70为【不是好学生】：分错1个</li><li>出勤率大于70为【好学生】：分错3个</li><li>问题回答次数大于9为【好学生】：分错2个</li><li>作业提交率大于80%为【好学生】：分错2个</li></ol><p>最后发现 分数小于70为【不是好学生】这条分错最少，也就是熵最小，所以应该选择这条为父节点进行树的生成，当然分数也可以选择大于71，大于72等等，出勤率也可以选择小于60，65等等，总之会有很多类似上述1~4的条件，最后选择分类错最少即熵最小的那个条件。而当分裂父节点时道理也一样，分裂有很多选择，针对每一个选择，与分裂前的分类错误率比较，留下那个提高最大的选择，即熵减最大的选择。</p><p>C4.5：通过对ID3的学习，可以知道ID3存在一个问题，那就是越细小的分割分类错误率越小，所以ID3会越分越细，比如以第一个属性为例：设阈值小于70可将样本分为2组，但是分错了1个。如果设阈值小于70，再加上阈值等于95，那么分错率降到了0，但是这种分割显然只对训练数据有用，对于新的数据没有意义，这就是所说的过度学习（Overfitting）。</p><p>分割太细了，训练数据的分类可以达到0错误率，但是因为新的数据和训练数据不同，所以面对新的数据分错率反倒上升了。决策树是通过分析训练数据，得到数据的统计信息，而不是专为训练数据量身定做。</p><p>就比如给男人做衣服，叫来10个人做参考，做出一件10个人都能穿的衣服，然后叫来另外5个和前面10个人身高差不多的，这件衣服也能穿。但是当你为10个人每人做一件正好合身的衣服，那么这10件衣服除了那个量身定做的人，别人都穿不了。</p><p>所以为了避免分割太细，c4.5对ID3进行了改进，C4.5中，优化项要除以分割太细的代价，这个比值叫做信息增益率，显然分割太细分母增加，信息增益率会降低。除此之外，其他的原理和ID3相同。</p><p>CART：分类回归树<br>CART是一个二叉树，也是回归树，同时也是分类树，CART的构成简单明了。<br>CART只能将一个父节点分为2个子节点。CART用GINI指数来决定如何分裂：<br>GINI指数：总体内包含的类别越杂乱，GINI指数就越大（跟熵的概念很相似）。</p><p>a. 比如出勤率大于70%这个条件将训练数据分成两组：大于70%里面有两类：【好学生】和【不是好学生】，而小于等于70%里也有两类：【好学生】和【不是好学生】。</p><p>b. 如果用分数小于70分来分：则小于70分只有【不是好学生】一类，而大于等于70分有【好学生】和【不是好学生】两类。</p><p>比较a和b，发现b的凌乱程度比a要小，即GINI指数b比a小，所以选择b的方案。以此为例，将所有条件列出来，选择GINI指数最小的方案，这个和熵的概念很类似。</p><p>CART还是一个回归树，回归解析用来决定分布是否终止。理想地说每一个叶节点里都只有一个类别时分类应该停止，但是很多数据并不容易完全划分，或者完全划分需要很多次分裂，必然造成很长的运行时间，所以CART可以对每个叶节点里的数据分析其均值方差，当方差小于一定值可以终止分裂，以换取计算成本的降低。</p><p>CART和ID3一样，存在偏向细小分割，即过度学习（过度拟合的问题），为了解决这一问题，对特别长的树进行剪枝处理，直接剪掉。</p><p>以上的决策树训练的时候，一般会采取Cross-Validation法：比如一共有10组数据：</p><p>第一次. 1到9做训练数据， 10做测试数据<br>第二次. 2到10做训练数据，1做测试数据<br>第三次. 1，3到10做训练数据，2做测试数据，以此类推<br>做10次，然后大平均错误率。这样称为 10 folds Cross-Validation。<br>比如 3 folds Cross-Validation 指的是数据分3份，2份做训练，1份做测试。</p><p>转载自：<a href="https://zhuanlan.zhihu.com/p/30059442">https://zhuanlan.zhihu.com/p/30059442</a></p>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytorch</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-02-01-pytorch/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/2022-02-01-pytorch/</url>
      
        <content type="html"><![CDATA[<h1>环境安装</h1><h2 id="windows">windows</h2><p><a href="https://www.cnblogs.com/zhouzhiyao/p/11784055.html">PyTorch环境配置及安装</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install pytorch torchvision torchaudio torchtext cudatoolkit=10.1 -c pytorch</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/ha_ha_ha233/article/details/87475799">windows下安装anaconda+pytorch1.0+cuda10+配置pycharm</a></p><p><a href="https://www.cnblogs.com/arxive/p/11198420.html">windows10安装cuda</a></p><blockquote><p>显卡驱动版本一定要大于cudatoolkit版本<br><a href="https://blog.csdn.net/wanzhen4330/article/details/81704474">Ubuntu16.04下cuda和cudnn的卸载和升级和环境配置</a><br>用pip卸载，conda卸载不干净<br>查看pytorch对应的cuda版本</p></blockquote><h2 id="Mac：">Mac：</h2><p><a href="https://blog.csdn.net/qq_38105596/article/details/100926386">Mac版本安装Anaconda及使用教程</a></p><p><a href="https://www.jb51.net/article/208315.htm">Macbook air m1安装python/anaconda全过程(图文)</a></p><p><a href="https://blog.csdn.net/weixin_42438346/article/details/120351207">Mac M1安装anaconda与pycharm与pytorch与jupyter</a></p><p><code>torch.version.cuda</code></p><h1>基础知识</h1><p><a href="https://blog.csdn.net/qq_42380515/article/details/87885996">batch_size的理解</a></p><p><a href="https://blog.csdn.net/u011501388/article/details/84062483">PyTorch之前向传播函数forward</a></p><h2 id="参考资料">参考资料</h2><p><a href="https://www.jianshu.com/u/b3c66a77e742">简书笔记01</a></p><h1>接口</h1><p><a href="https://blog.csdn.net/xiexu911/article/details/80820028">torch.unsqueeze()</a></p><p><a href="https://blog.csdn.net/zyq12345678/article/details/90268668">Dataloader重要参数与内部机制</a></p><h2 id="torch-nn">torch.nn</h2><p><a href="https://blog.csdn.net/u011501388/article/details/84062483">PyTorch之前向传播函数forward</a></p><p><a href="https://zhuanlan.zhihu.com/p/340453841">touch.nn.module</a></p><p><a href="https://blog.csdn.net/u011501388/article/details/84062483">forward</a></p><p><a href="https://blog.csdn.net/dss_dssssd/article/details/82980222">torch.nn.Sequential()</a></p><p><a href="https://www.jianshu.com/p/d8b77cc02410">torch.nn.Parameter()</a></p><blockquote><p>就是将Tensor变成Variable</p></blockquote><p><a href="https://www.jianshu.com/p/63e7acc5e890">nn.Embedding</a></p><p>输入维度：batchSize * SeqLen</p><p>输出维度：batchSize * SeqLen * EmbeddingDim</p><p><a href="https://blog.csdn.net/m0_45478865/article/details/104455978">torch.nn.LSTM()详解</a></p><p>输入维度</p><p><a href="https://www.jianshu.com/p/45a26d278473">PyTorch中的nn.Conv1d与nn.Conv2d</a></p><h2 id="torch-optim-lr-scheduler">torch.optim.lr_scheduler</h2><p><a href="https://blog.csdn.net/weixin_42305378/article/details/108740926">lr_scheduler.StepLR调整学习率机制</a></p><p><a href="https://blog.csdn.net/qyhaill/article/details/103043637">torch.optim.lr_scheduler：调整学习率</a></p><h2 id="优化器">优化器</h2><p><a href="https://zhuanlan.zhihu.com/p/32698042">简单认识Adam优化器</a></p><h2 id="loss">loss</h2><h3 id="nllloss">nllloss</h3><p><a href="https://blog.csdn.net/qq_22210253/article/details/85229988">Pytorch详解NLLLoss和CrossEntropyLoss</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch, torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"></span><br><span class="line">torch.random.manual_seed(<span class="number">2020</span>)</span><br><span class="line"><span class="built_in">input</span> = torch.randn(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">input</span>)</span><br><span class="line"></span><br><span class="line">sm = nn.Softmax(dim =<span class="number">0</span>)</span><br><span class="line">x0=sm(<span class="built_in">input</span>)</span><br><span class="line"><span class="built_in">print</span>(x0)</span><br><span class="line"></span><br><span class="line">sm = nn.Softmax(dim =<span class="number">1</span>)</span><br><span class="line">x1=sm(<span class="built_in">input</span>)</span><br><span class="line"><span class="built_in">print</span>(x1)</span><br><span class="line"></span><br><span class="line">x2 = torch.log(x1)</span><br><span class="line"><span class="built_in">print</span>(x2)</span><br><span class="line"></span><br><span class="line">target = torch.tensor([<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(-(x2[<span class="number">0</span>,<span class="number">0</span>]+x2[<span class="number">1</span>,<span class="number">2</span>]+x2[<span class="number">2</span>,<span class="number">1</span>]+x2[<span class="number">3</span>,<span class="number">2</span>])/<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(F.nll_loss(x2, target))</span><br><span class="line"><span class="built_in">print</span>(F.nll_loss(x2, target, size_average = <span class="literal">False</span>))</span><br><span class="line"><span class="built_in">print</span>(F.nll_loss(x2, target, reduction = <span class="string">&#x27;sum&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># CrossEntropyLoss就是把以上Softmax–Log–NLLLoss合并成一步</span></span><br><span class="line">loss = nn.CrossEntropyLoss()</span><br><span class="line"><span class="built_in">print</span>(loss(<span class="built_in">input</span>, target))</span><br></pre></td></tr></table></figure><h2 id="transformers">transformers</h2><p><a href="https://huggingface.co/transformers/">官方文档</a></p><p><a href="https://blog.csdn.net/weixin_38533896/article/details/86028509">Pytorch：transforms的二十二个方法</a></p><h1>包</h1><h2 id="Stanford-parser">Stanford parser</h2><p><a href="https://blog.csdn.net/u010454729/article/details/88358932">NLP工具——stanford Parser使用手册</a></p><p><a href="https://blog.csdn.net/l919898756/article/details/81670228">2</a></p><p><a href="https://blog.csdn.net/qq_41733192/article/details/106589613">（Java）利用Stanford parser与多线程获取语句中名词集合工具实现</a></p><p><a href="https://www.cnblogs.com/supakito/archive/2012/12/12/2814121.html">Stanford Parser 标记含义</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> stanfordcorenlp <span class="keyword">import</span> StanfordCoreNLP</span><br><span class="line">path = <span class="string">&#x27;../stanford-corenlp-4.2.2&#x27;</span></span><br><span class="line">nlp = StanfordCoreNLP(path, lang=<span class="string">&#x27;en&#x27;</span>)</span><br><span class="line">s = <span class="string">&#x27;Stanford University is located in California. It is a great university, founded in 1891.&#x27;</span></span><br><span class="line"> </span><br><span class="line">token = nlp.word_tokenize(s)</span><br><span class="line">postag = nlp.pos_tag(s)</span><br><span class="line">ner = nlp.ner(s)</span><br><span class="line">parse = nlp.parse(s)</span><br><span class="line">dependencyParse = nlp.dependency_parse(s)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; &#x27;</span>.join(token))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;|&#x27;</span>.join([<span class="string">&#x27;,&#x27;</span>.join(i) <span class="keyword">for</span> i <span class="keyword">in</span> postag]))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;|&#x27;</span>.join([<span class="string">&#x27;,&#x27;</span>.join(i) <span class="keyword">for</span> i <span class="keyword">in</span> ner]))</span><br><span class="line"><span class="built_in">print</span>(parse)</span><br><span class="line"><span class="keyword">for</span> i, begin, end <span class="keyword">in</span> dependencyParse:</span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&#x27;-&#x27;</span>.join([<span class="built_in">str</span>(begin), token[begin-<span class="number">1</span>]]), <span class="string">&#x27;-&#x27;</span>.join([<span class="built_in">str</span>(end),token[end-<span class="number">1</span>]]))</span><br><span class="line"></span><br><span class="line">nlp.close()</span><br></pre></td></tr></table></figure><h2 id="torchcrf">torchcrf</h2><p><a href="https://www.jianshu.com/p/cc4c3ae9b762">pytorch-crf的使用</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> torchcrf <span class="keyword">import</span> CRF</span><br><span class="line">pip install pytorch-crf==<span class="number">0.4</span><span class="number">.0</span></span><br></pre></td></tr></table></figure><h1>训练</h1><p><a href="https://zhuanlan.zhihu.com/p/102697821">torch.nn.DataParallel</a></p><p>Cuda out of memory</p><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.environ[&quot;CUDA_VISIBLE_DEVICES&quot;] = &#x27;3,4,5&#x27;</span><br></pre></td></tr></table></figure></blockquote><p><a href="https://blog.csdn.net/zw__chen/article/details/82806900">Pytorch（五）入门：DataLoader 和 Dataset</a></p><p><a href="https://blog.csdn.net/pearl8899/article/details/109567745">多GPU训练</a></p><h6 id="Batch">Batch</h6><p>batch size过小，花费时间多，同时梯度震荡严重，不利于收敛；batch size过大，不同batch的梯度方向没有任何变化，容易陷入局部极小值。</p><h1>经典模型</h1><h1>评估</h1><p><a href="https://www.cnblogs.com/jclian91/p/12459688.html">NLP（二十三）序列标注算法评估模块seqeval的使用 - 山阴少年 - 博客园 (cnblogs.com)</a></p><p>Macro-F1: macro f1需要先计算出每一个类别的准召及其f1 score，然后通过求均值得到在整个样本上的f1 score.</p><p>Micro-F1: micro f1不需要区分类别，直接使用总体样本的准召计算f1 score.</p><p>Weighted-F1: 在macro f1基础上，考虑 每一类别 的个数，进行加权平均。</p><p><a href="https://blog.csdn.net/Zhou_Dao/article/details/105332981">micro-f1 &amp; macro-f1 &amp; weighted-f1</a></p><h1>常用</h1><p><a href="https://blog.csdn.net/qq_42189368/article/details/109361785">Anaconda设置CUDA版本和系统默认版本共存</a></p><p><a href="https://www.jianshu.com/p/840ba135df30">pandas</a></p><p><a href="https://www.cnblogs.com/Jomini/p/8636129.html">获取当前目录路径和文件</a></p><p><a href="https://www.cnblogs.com/luminousjj/p/9359543.html">python标准库之glob介绍</a></p><p><a href="https://www.cnblogs.com/insane-Mr-Li/p/9092619.html">读取excel文件库xlrd</a></p><p><a href="https://www.cnblogs.com/TestSu/p/10084488.html">写excel库xlwt</a></p><p><a href="https://blog.csdn.net/qq_38161040/article/details/89553356">Python操作excel：用xlwt设置excel单元格背景颜色，给字体加粗</a></p><p><a href="https://www.cnblogs.com/unnameable/p/7366437.html">读写csv</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">ine_num=<span class="number">2</span></span><br><span class="line">file_path = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file_path, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    reader = csv.reader(f)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(reader))    </span><br><span class="line">    i=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> reader:</span><br><span class="line">        i+=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(row)</span><br><span class="line">        <span class="keyword">if</span> i==ine_num:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h1>TEMP</h1><p><a href="https://zhuanlan.zhihu.com/p/389738863">torch.Tensor.detach()</a></p><p><a href="https://blog.csdn.net/xinjieyuan/article/details/105208352">torch.cat()</a></p><p><a href="https://baijiahao.baidu.com/s?id=1653421414340022957&amp;wfr=spider&amp;for=pc">从ReLU到GELU，一文概览神经网络的激活函数</a></p><h1>项目实战</h1><h2 id="文本分类">文本分类</h2><p><a href="https://flyhigher.top/develop/1989.html">NLP 找门：用朴素贝叶斯进行文本分类</a></p><p><a href="https://www.cnblogs.com/wwj99/p/12283799.html">BERT文本分类</a></p><p><a href="https://blog.csdn.net/sinat_20829389/article/details/110730570?utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.essearch_pc_relevant&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.essearch_pc_relevant">PyTorch环境下对BERT进行Fine-tuning</a></p><p><a href="https://www.cnblogs.com/jiangxinyang/p/10210813.html">文本分类tensorflow</a></p><h2 id="Others">Others</h2>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>transformers篇-BertTokenizer.encode_plus()方法</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/BertTokenizer.encode_plus/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/BertTokenizer.encode_plus/</url>
      
        <content type="html"><![CDATA[<h3 id="🖥定义">🖥定义</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">encode_plus</span>(<span class="params"></span></span><br><span class="line"><span class="params">    self,</span></span><br><span class="line"><span class="params">    text: <span class="type">Union</span>[TextInput, PreTokenizedInput, EncodedInput],</span></span><br><span class="line"><span class="params">    text_pair: <span class="type">Optional</span>[<span class="type">Union</span>[TextInput, PreTokenizedInput, EncodedInput]] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    add_special_tokens: <span class="built_in">bool</span> = <span class="literal">True</span>,</span></span><br><span class="line"><span class="params">    padding: <span class="type">Union</span>[<span class="built_in">bool</span>, <span class="built_in">str</span>, PaddingStrategy] = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    truncation: <span class="type">Union</span>[<span class="built_in">bool</span>, <span class="built_in">str</span>, TruncationStrategy] = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    max_length: <span class="type">Optional</span>[<span class="built_in">int</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    stride: <span class="built_in">int</span> = <span class="number">0</span>,</span></span><br><span class="line"><span class="params">    is_split_into_words: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    pad_to_multiple_of: <span class="type">Optional</span>[<span class="built_in">int</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    return_tensors: <span class="type">Optional</span>[<span class="type">Union</span>[<span class="built_in">str</span>, TensorType]] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    return_token_type_ids: <span class="type">Optional</span>[<span class="built_in">bool</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    return_attention_mask: <span class="type">Optional</span>[<span class="built_in">bool</span>] = <span class="literal">None</span>,</span></span><br><span class="line"><span class="params">    return_overflowing_tokens: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    return_special_tokens_mask: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    return_offsets_mapping: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    return_length: <span class="built_in">bool</span> = <span class="literal">False</span>,</span></span><br><span class="line"><span class="params">    verbose: <span class="built_in">bool</span> = <span class="literal">True</span>,</span></span><br><span class="line"><span class="params">    **kwargs</span></span><br><span class="line"><span class="params"></span>) -&gt; BatchEncoding:</span><br></pre></td></tr></table></figure><h3 id="🖥作用">🖥作用</h3><p>用于将文本转化为bert的输入编码</p><h3 id="🖥参数说明">🖥参数说明</h3><p><code>text</code> 需要tokenize的文本</p><p><code>max_length</code> 接受文本的最大长度，默认512</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">encoded_inputs = self.encode_plus(text,</span><br><span class="line">                                  text_pair=text_pair,</span><br><span class="line">                                  max_length=max_length,</span><br><span class="line">                                  add_special_tokens=add_special_tokens,</span><br><span class="line">                                  stride=stride,</span><br><span class="line">                                  truncation_strategy=truncation_strategy,</span><br><span class="line">                                  return_tensors=return_tensors,</span><br><span class="line">                                  **kwargs)</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> encoded_inputs[<span class="string">&quot;input_ids&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="🖥常用">🖥常用</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">encoded_input = tokenizer.encode_plus(_, max_length=<span class="number">512</span>, add_special_tokens=<span class="literal">True</span>, pad_to_max_length=<span class="literal">True</span>, return_tensors=<span class="string">&quot;pt&quot;</span>,  truncation=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h3 id="🖥返回值">🖥返回值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">encode_input[<span class="string">&quot;input_ids&quot;</span>].shape=[<span class="number">1</span>, max_length]<span class="keyword">or</span>[<span class="number">2</span>, max_length]</span><br></pre></td></tr></table></figure><h1>Reference</h1><p><a href="https://blog.csdn.net/qq_33293040/article/details/105439750">Transformers包tokenizer.encode()方法源码阅读笔记</a></p>]]></content>
      
      
      <categories>
          
          <category> Pytorch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>torch.nn.LSTM()详解</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/torch.nn.lstm/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/torch.nn.lstm/</url>
      
        <content type="html"><![CDATA[<h3 id="输入的参数列表包括">输入的参数列表包括:</h3><ul><li><code>input_size</code> 输入数据的特征维数，通常就是<code>embedding_dim</code>(词向量的维度)</li><li><code>hidden_size</code> LSTM中隐层的维度，<code>bidirectional</code> =True时，<code>hidden_size</code> 减半</li><li><code>num_layers</code> 循环神经网络的层数</li><li><code>bias</code> 用不用偏置，default=True</li><li><code>batch_first</code> 这个要注意，通常我们输入的数据shape=(<code>batch_size</code>, <code>seq_length</code>, <code>embedding_dim</code>),而<code>batch_first</code>默认是False,所以我们的输入数据最好送进LSTM之前将<code>batch_size</code>与<code>seq_length</code>这两个维度调换</li><li><code>dropout</code> 默认是0，代表不用dropout</li><li><code>bidirectional</code>默认是false，代表不用双向LSTM</li></ul><h3 id="输入数据包括input-h-0-c-0">输入数据包括input,(h_0,c_0):</h3><ul><li><code>input</code>就是shape=(<code>seq_length</code>, <code>batch_size</code>, <code>input_size</code>)的张量</li><li><code>h_0</code>是shape=(<code>num_layers</code>*<code>num_directions</code>, <code>batch_size</code>, <code>hidden_size</code>)的张量，它包含了在当前这个batch_size中每个句子的初始隐藏状态。其中num_layers就是LSTM的层数。如果<code>bidirectional</code>=True, num_directions=2,否则就是１，表示只有一个方向。如果<code>bidirectional</code>=True，<code>hidden_size</code> //2</li><li><code>c_0</code>和<code>h_0</code>的形状相同，它包含的是在当前这个batch_size中的每个句子的初始细胞状态。<code>h_0</code>,<code>c_0</code>如果不提供，那么默认是０。</li></ul><h3 id="输出数据包括output-h-n-c-n">输出数据包括output,(h_n, c_n):</h3><ul><li><code>output</code>的shape=(<code>seq_length</code>, <code>batch_size</code>, <code>num_directions</code>*<code>hidden_size</code>),<br>它包含的是LSTM的最后一时间步的输出特征(h_t),ｔ是batch_size中每个句子的长度。</li><li><code>h_n.shape</code>==(num_directions * num_layers, batch, hidden_size)</li><li><code>c_n.shape</code>==<code>h_n.shape</code></li><li>h_n包含的是句子的最后一个单词（也就是最后一个时间步）的隐藏状态，c_n包含的是句子的最后一个单词的细胞状态，所以 <strong>它们都与句子的长度seq_length无关</strong>。</li><li><code>output[-1]</code>与<code>h_n</code>是相等的，(<strong>只有当<code>bidirectional</code>=False时才相等，否则<code>output[-1]</code>是<code>h_n</code>拼接起来的)</strong>，因为<code>output[-1]</code>包含的正是<code>batch_size</code>个句子中每一个句子的最后一个单词的隐藏状态，注意LSTM中的隐藏状态其实就是输出，cell state细胞状态才是LSTM中一直隐藏的，记录着信息</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">batch_size=<span class="number">3</span></span><br><span class="line">hidden_size=<span class="number">5</span></span><br><span class="line">embedding_dim=<span class="number">6</span></span><br><span class="line">seq_length=<span class="number">4</span></span><br><span class="line">num_layers=<span class="number">1</span></span><br><span class="line">num_directions=<span class="number">1</span></span><br><span class="line">vocab_size=<span class="number">20</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">input_data=np.random.uniform(<span class="number">0</span>,<span class="number">19</span>,size=(batch_size,seq_length))</span><br><span class="line">input_data=torch.from_numpy(input_data).long()</span><br><span class="line">embedding_layer=torch.nn.Embedding(vocab_size,embedding_dim)</span><br><span class="line">lstm_layer=torch.nn.LSTM(input_size=embedding_dim,hidden_size=hidden_size,num_layers=num_layers,</span><br><span class="line">                        bias=<span class="literal">True</span>,batch_first=<span class="literal">False</span>,dropout=<span class="number">0.5</span>,bidirectional=<span class="literal">False</span>)</span><br><span class="line">lstm_input=embedding_layer(input_data)</span><br><span class="line"><span class="keyword">assert</span> lstm_input.shape==(batch_size,seq_length,embedding_dim)</span><br><span class="line">lstm_input.transpose_(<span class="number">1</span>,<span class="number">0</span>)</span><br><span class="line"><span class="keyword">assert</span> lstm_input.shape==(seq_length,batch_size,embedding_dim)</span><br><span class="line">output,(h_n,c_n)=lstm_layer(lstm_input)</span><br><span class="line"><span class="keyword">assert</span> output.shape==(seq_length,batch_size,hidden_size)</span><br><span class="line"><span class="keyword">assert</span> h_n.shape==c_n.shape==(num_layers*num_directions,batch_size,hidden_size)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200223114310501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ1NDc4ODY1,size_16,color_FFFFFF,t_70" alt="https://img-blog.csdnimg.cn/20200223114310501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L20wXzQ1NDc4ODY1,size_16,color_FFFFFF,t_70"></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011539699.png" alt=""></p><h1>参考资料</h1><ol><li><a href="https://blog.csdn.net/m0_45478865/article/details/104455978">torch.nn.LSTM()详解</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>硬件检测</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/HardwareCheck/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%A1%AC%E4%BB%B6/HardwareCheck/</url>
      
        <content type="html"><![CDATA[<h1>硬件检测</h1><h2 id="硬盘速度">硬盘速度</h2><h3 id="MacOS">MacOS</h3><ul><li>DiskSpeedTest</li></ul><h3 id="windows">windows</h3><ul><li><p>ASSSD</p></li><li><p>CrystalDisk</p></li></ul><p><a href="https://www.laobuluo.com/6188.html">十大磁盘检测工具</a></p><p><a href="https://drivers.softpedia.com/dyn-search.php?search_term=Z97-D3H">D3H驱动下载</a></p><p><a href="https://drivers.softpedia.com/get/BIOS/?utm_source=spd&amp;utm_campaign=postdl_redir">驱动下载</a></p><p><a href="http://www.xitongcheng.com/jiaocheng/dnrj_article_52835.html">更新驱动教程</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>jupyter入门</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/Jupyter/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6/Jupyter/</url>
      
        <content type="html"><![CDATA[<h3 id="入门">入门</h3><p><a href="https://www.jianshu.com/p/91365f343585">Jupyter Notebook介绍、安装及使用教程</a></p><h3 id="安装">安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">conda install jupyter notebook</span><br></pre></td></tr></table></figure><h3 id="进入笔记">进入笔记</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure><h3 id="增删虚拟环境">增删虚拟环境</h3><blockquote><p><a href="https://blog.csdn.net/wj1066/article/details/72891667">Jupyter Notebook 增加kernel的方法</a><br><a href="https://blog.csdn.net/liuestcjun/article/details/101981269">Jupyter Notebook导入和删除虚拟环境</a><br><a href="https://blog.csdn.net/liminwang0311/article/details/86565111">在Jupyter Notebook中选择特定的虚拟环境</a></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda install -n pytorch ipykernel</span><br><span class="line">conda activate pytorch</span><br><span class="line">python -m ipykernel install --user --name pytorch --display-name pytorch3.7</span><br></pre></td></tr></table></figure><p>删除 <code>jupyter kernelspec remove pytorch</code></p><p>显示列表 <code>jupyter kernelspec list</code></p><h1>Reference</h1><p><a href="https://blog.csdn.net/weixin_41923658/article/details/103356336?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param">关于 Jupyter Notebook 中 No module named ‘torch’ 的解决办法</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vim常用命令详解</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/2022-02-01-vim/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/LinuxCmd/2022-02-01-vim/</url>
      
        <content type="html"><![CDATA[<h2 id="📝凡凡总结">📝凡凡总结</h2><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h3 id="常用易忘操作">常用易忘操作</h3><h4 id="选择文本">选择文本</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>ggVG</td><td>选中全部的文本</td></tr><tr><td>v</td><td>从光标当前位置开始，光标所经过的地方会被选中，再按一下v结束</td></tr><tr><td>V</td><td>选中整行，从光标当前行开始，光标经过的行都会被选中，再按一下Ｖ结束</td></tr><tr><td>Ctrl + v</td><td>从光标当前位置开始，选中光标起点和终点所构成的矩形区域，再按一下Ｃtrl + v结束</td></tr></tbody></table><h4 id="特殊移动操作">特殊移动操作</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>0</td><td>移至行首</td></tr><tr><td>$</td><td>移至行尾</td></tr><tr><td>gg</td><td>移至全文首行</td></tr><tr><td>G</td><td>移至全文末行</td></tr><tr><td>nG</td><td>移至第n行</td></tr><tr><td>ctrl + g</td><td>查看当前行数</td></tr><tr><td>ctrl+O</td><td>后退一次的光标位置</td></tr><tr><td>ctrl+I</td><td>前进一次的光标位置</td></tr></tbody></table><h4 id="删除操作">删除操作:</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>dd</td><td>删除(剪切)整行</td></tr><tr><td>ndd</td><td>删除向下n行</td></tr><tr><td>x</td><td>删除光标处字符</td></tr><tr><td>dnw</td><td>删除n个单词</td></tr><tr><td>de</td><td>从光标删到词末</td></tr><tr><td>d$</td><td>从光标删到行末</td></tr></tbody></table><h4 id="复制粘贴">复制粘贴</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>y</td><td>复制 （默认是复制到&quot;寄存器）</td></tr><tr><td>p</td><td>粘贴 （默认从&quot;寄存器取出内容粘贴）</td></tr><tr><td>+y</td><td>复制到系统剪贴板(也就是vim的+寄存器）</td></tr><tr><td>+p</td><td>从系统剪贴板粘贴</td></tr></tbody></table><h4 id="显示行号">显示行号</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>:set nu</td><td>显示行号</td></tr></tbody></table><h4 id="退出">退出</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>ZZ</td><td>直接保存修改并退出</td></tr><tr><td>:wq</td><td>回车，保存退出</td></tr><tr><td>:q</td><td>回车，不保存退出</td></tr></tbody></table><h4 id="翻页">翻页</h4><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>Page Up</td><td>上翻页</td></tr><tr><td>Page Down</td><td>下翻页</td></tr></tbody></table><ul><li>16进制编辑</li></ul>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切换16进制</span></span><br><span class="line">:%!xxd</span><br><span class="line"><span class="comment"># 改变回来</span></span><br><span class="line">:%!xxd -r</span><br></pre></td></tr></table></figure><h2 id="菜鸟教程">菜鸟教程</h2><h2 id="Linux-vi-vim">Linux vi/vim</h2><p>所有的 Unix Like 系统都会内建 vi 文书编辑器，其他的文书编辑器则不一定会存在。</p><p>但是目前我们使用比较多的是 vim 编辑器。</p><p>vim 具有程序编辑的能力，可以主动的以字体颜色辨别语法的正确性，方便程序设计。</p><p>相关文章：<a href="https://www.runoob.com/w3cnote/all-vim-cheatsheat.html">史上最全Vim快捷键键位图 — 入门到进阶</a></p><hr><h3 id="什么是-vim？">什么是 vim？</h3><p>Vim 是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p><p>简单的来说， vi 是老式的字处理器，不过功能已经很齐全了，但是还是有可以进步的地方。 vim 则可以说是程序开发者的一项很好用的工具。</p><p>连 vim 的官方网站 (<a href="https://www.vim.org/">https://www.vim.org/</a>) 自己也说 vim 是一个程序开发工具而不是文字处理软件。</p><p>vim 键盘图：</p><p><img src="https://www.runoob.com/wp-content/uploads/2015/10/vi-vim-cheat-sheet-sch.gif" alt="img"></p><hr><h3 id="vi-vim-的使用">vi/vim 的使用</h3><p>基本上 vi/vim 共分为三种模式，分别是<strong>命令模式（Command mode）</strong>，<strong>输入模式（Insert mode）<strong>和</strong>底线命令模式（Last line mode）</strong>。 这三种模式的作用分别是：</p><h4 id="命令模式：">命令模式：</h4><p>用户刚刚启动 vi/vim，便进入了命令模式。</p><p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p><p>以下是常用的几个命令：</p><ul><li><strong>i</strong> 切换到输入模式，以输入字符。</li><li><strong>x</strong> 删除当前光标所在处的字符。</li><li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li></ul><p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p><p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p><h4 id="输入模式">输入模式</h4><p>在命令模式下按下i就进入了输入模式。</p><p>在输入模式中，可以使用以下按键：</p><ul><li><strong>字符按键以及Shift组合</strong>，输入字符</li><li><strong>ENTER</strong>，回车键，换行</li><li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li><li><strong>DEL</strong>，删除键，删除光标后一个字符</li><li><strong>方向键</strong>，在文本中移动光标</li><li><strong>HOME</strong>/<strong>END</strong>，移动光标到行首/行尾</li><li><strong>Page Up</strong>/<strong>Page Down</strong>，上/下翻页</li><li><strong>Insert</strong>，切换光标为输入/替换模式，光标将变成竖线/下划线</li><li><strong>ESC</strong>，退出输入模式，切换到命令模式</li></ul><h4 id="底线命令模式">底线命令模式</h4><p>在命令模式下按下:（英文冒号）就进入了底线命令模式。</p><p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p><p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p><ul><li>q 退出程序</li><li>w 保存文件</li></ul><p>按ESC键可随时退出底线命令模式。</p><p>简单的说，我们可以将这三个模式想成底下的图标来表示：</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204021859468.png" alt=""></p><hr><h3 id="vi-vim-使用实例">vi/vim 使用实例</h3><h4 id="使用-vi-vim-进入一般模式">使用 vi/vim 进入一般模式</h4><p>如果你想要使用 vi 来建立一个名为 runoob.txt 的文件时，你可以这样做：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim runoob.txt</span><br></pre></td></tr></table></figure><p>直接输入 <strong>vi 文件名</strong> 就能够进入 vi 的一般模式了。请注意，记得 vi 后面一定要加文件名，不管该文件存在与否！</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204021900098.png" alt=""></p><h4 id="按下-i-进入输入模式-也称为编辑模式-，开始编辑文字">按下 i 进入输入模式(也称为编辑模式)，开始编辑文字</h4><p>在一般模式之中，只要按下 i, o, a 等字符就可以进入输入模式了！</p><p>在编辑模式当中，你可以发现在左下角状态栏中会出现 –INSERT- 的字样，那就是可以输入任意字符的提示。</p><p>这个时候，键盘上除了 <strong>Esc</strong> 这个按键之外，其他的按键都可以视作为一般的输入按钮了，所以你可以进行任何的编辑。</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204021900532.png" alt=""></p><h4 id="按下-ESC-按钮回到一般模式">按下 ESC 按钮回到一般模式</h4><p>好了，假设我已经按照上面的样式给他编辑完毕了，那么应该要如何退出呢？是的！没错！就是给他按下 <strong>Esc</strong> 这个按钮即可！马上你就会发现画面左下角的 – INSERT – 不见了！</p><h4 id="在一般模式中按下-wq-储存后离开-vi">在一般模式中按下 <strong>:wq</strong> 储存后离开 vi</h4><p>OK，我们要存档了，存盘并离开的指令很简单，输入 <strong>:wq</strong> 即可保存离开！</p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204021900443.png" alt=""></p><p>OK! 这样我们就成功创建了一个 runoob.txt 的文件。</p><h3 id="vi-vim-按键说明">vi/vim 按键说明</h3><p>除了上面简易范例的 i, Esc, :wq 之外，其实 vim 还有非常多的按键可以使用。</p><h4 id="第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等">第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等</h4><table><thead><tr><th style="text-align:left">移动光标的方法</th><th></th></tr></thead><tbody><tr><td style="text-align:left">h 或 向左箭头键(←)</td><td>光标向左移动一个字符</td></tr><tr><td style="text-align:left">j 或 向下箭头键(↓)</td><td>光标向下移动一个字符</td></tr><tr><td style="text-align:left">k 或 向上箭头键(↑)</td><td>光标向上移动一个字符</td></tr><tr><td style="text-align:left">l 或 向右箭头键(→)</td><td>光标向右移动一个字符</td></tr><tr><td style="text-align:left">如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 “30j” 或 “30↓” 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！</td><td></td></tr><tr><td style="text-align:left">[Ctrl] + [f]</td><td>屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)</td></tr><tr><td style="text-align:left">[Ctrl] + [b]</td><td>屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)</td></tr><tr><td style="text-align:left">[Ctrl] + [d]</td><td>屏幕『向下』移动半页</td></tr><tr><td style="text-align:left">[Ctrl] + [u]</td><td>屏幕『向上』移动半页</td></tr><tr><td style="text-align:left">+</td><td>光标移动到非空格符的下一行</td></tr><tr><td style="text-align:left">-</td><td>光标移动到非空格符的上一行</td></tr><tr><td style="text-align:left">n<space></td><td>那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离。</td></tr><tr><td style="text-align:left">0 或功能键[Home]</td><td>这是数字『 0 』：移动到这一行的最前面字符处 (常用)</td></tr><tr><td style="text-align:left">$ 或功能键[End]</td><td>移动到这一行的最后面字符处(常用)</td></tr><tr><td style="text-align:left">H</td><td>光标移动到这个屏幕的最上方那一行的第一个字符</td></tr><tr><td style="text-align:left">M</td><td>光标移动到这个屏幕的中央那一行的第一个字符</td></tr><tr><td style="text-align:left">L</td><td>光标移动到这个屏幕的最下方那一行的第一个字符</td></tr><tr><td style="text-align:left">G</td><td>移动到这个档案的最后一行(常用)</td></tr><tr><td style="text-align:left">nG</td><td>n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu)</td></tr><tr><td style="text-align:left">gg</td><td>移动到这个档案的第一行，相当于 1G 啊！ (常用)</td></tr><tr><td style="text-align:left">n<Enter></td><td>n 为数字。光标向下移动 n 行(常用)</td></tr><tr><td style="text-align:left">搜索替换</td><td></td></tr><tr><td style="text-align:left">/word</td><td>向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)</td></tr><tr><td style="text-align:left">?word</td><td>向光标之上寻找一个字符串名称为 word 的字符串。</td></tr><tr><td style="text-align:left">n</td><td>这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！</td></tr><tr><td style="text-align:left">N</td><td>这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。</td></tr><tr><td style="text-align:left">使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！</td><td></td></tr><tr><td style="text-align:left">:n1,n2s/word1/word2/g</td><td>n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用)</td></tr><tr><td style="text-align:left"><strong>:1,$s/word1/word2/g</strong> 或 <strong>:%s/word1/word2/g</strong></td><td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</td></tr><tr><td style="text-align:left"><strong>:1,$s/word1/word2/gc</strong> 或 <strong>:%s/word1/word2/gc</strong></td><td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</td></tr><tr><td style="text-align:left">删除、复制与贴上</td><td></td></tr><tr><td style="text-align:left">x, X</td><td>在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用)</td></tr><tr><td style="text-align:left">nx</td><td>n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。</td></tr><tr><td style="text-align:left">dd</td><td>剪切游标所在的那一整行(常用)，用 p/P 可以粘贴。</td></tr><tr><td style="text-align:left">ndd</td><td>n 为数字。剪切光标所在的向下 n 行，例如 20dd 则是剪切 20 行(常用)，用 p/P 可以粘贴。</td></tr><tr><td style="text-align:left">d1G</td><td>删除光标所在到第一行的所有数据</td></tr><tr><td style="text-align:left">dG</td><td>删除光标所在到最后一行的所有数据</td></tr><tr><td style="text-align:left">d$</td><td>删除游标所在处，到该行的最后一个字符</td></tr><tr><td style="text-align:left">d0</td><td>那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符</td></tr><tr><td style="text-align:left">yy</td><td>复制游标所在的那一行(常用)</td></tr><tr><td style="text-align:left">nyy</td><td>n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用)</td></tr><tr><td style="text-align:left">y1G</td><td>复制游标所在行到第一行的所有数据</td></tr><tr><td style="text-align:left">yG</td><td>复制游标所在行到最后一行的所有数据</td></tr><tr><td style="text-align:left">y0</td><td>复制光标所在的那个字符到该行行首的所有数据</td></tr><tr><td style="text-align:left">y$</td><td>复制光标所在的那个字符到该行行尾的所有数据</td></tr><tr><td style="text-align:left">p, P</td><td>p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)</td></tr><tr><td style="text-align:left">J</td><td>将光标所在行与下一行的数据结合成同一行</td></tr><tr><td style="text-align:left">c</td><td>重复删除多个数据，例如向下删除 10 行，[ 10cj ]</td></tr><tr><td style="text-align:left">u</td><td>复原前一个动作。(常用)</td></tr><tr><td style="text-align:left">[Ctrl]+r</td><td>重做上一个动作。(常用)</td></tr><tr><td style="text-align:left">这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！</td><td></td></tr><tr><td style="text-align:left">.</td><td>不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)</td></tr></tbody></table><h4 id="第二部分：一般模式切换到编辑模式的可用的按钮说明">第二部分：一般模式切换到编辑模式的可用的按钮说明</h4><table><thead><tr><th style="text-align:left">进入输入或取代的编辑模式</th><th></th></tr></thead><tbody><tr><td style="text-align:left">i, I</td><td>进入输入模式(Insert mode)： i 为『从目前光标所在处输入』， I 为『在目前所在行的第一个非空格符处开始输入』。 (常用)</td></tr><tr><td style="text-align:left">a, A</td><td>进入输入模式(Insert mode)： a 为『从目前光标所在的下一个字符处开始输入』， A 为『从光标所在行的最后一个字符处开始输入』。(常用)</td></tr><tr><td style="text-align:left">o, O</td><td>进入输入模式(Insert mode)： 这是英文字母 o 的大小写。o 为在目前光标所在的下一行处输入新的一行； O 为在目前光标所在的上一行处输入新的一行！(常用)</td></tr><tr><td style="text-align:left">r, R</td><td>进入取代模式(Replace mode)： r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用)</td></tr><tr><td style="text-align:left">上面这些按键中，在 vi 画面的左下角处会出现『–INSERT–』或『–REPLACE–』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！</td><td></td></tr><tr><td style="text-align:left">[Esc]</td><td>退出编辑模式，回到一般模式中(常用)</td></tr></tbody></table><h4 id="第三部分：一般模式切换到指令行模式的可用的按钮说明">第三部分：一般模式切换到指令行模式的可用的按钮说明</h4><table><thead><tr><th style="text-align:left">指令行的储存、离开等指令</th><th></th></tr></thead><tbody><tr><td style="text-align:left">:w</td><td>将编辑的数据写入硬盘档案中(常用)</td></tr><tr><td style="text-align:left">:w!</td><td>若文件属性为『只读』时，强制写入该档案。不过，到底能不能写入， 还是跟你对该档案的档案权限有关啊！</td></tr><tr><td style="text-align:left">:q</td><td>离开 vi (常用)</td></tr><tr><td style="text-align:left">:q!</td><td>若曾修改过档案，又不想储存，使用 ! 为强制离开不储存档案。</td></tr><tr><td style="text-align:left">注意一下啊，那个惊叹号 (!) 在 vi 当中，常常具有『强制』的意思～</td><td></td></tr><tr><td style="text-align:left">:wq</td><td>储存后离开，若为 :wq! 则为强制储存后离开 (常用)</td></tr><tr><td style="text-align:left">ZZ</td><td>这是大写的 Z 喔！如果修改过，保存当前文件，然后退出！效果等同于(保存并退出)</td></tr><tr><td style="text-align:left">ZQ</td><td>不保存，强制退出。效果等同于 <strong>:q!</strong>。</td></tr><tr><td style="text-align:left">:w [filename]</td><td>将编辑的数据储存成另一个档案（类似另存新档）</td></tr><tr><td style="text-align:left">:r [filename]</td><td>在编辑的数据中，读入另一个档案的数据。亦即将 『filename』 这个档案内容加到游标所在行后面</td></tr><tr><td style="text-align:left">:n1,n2 w [filename]</td><td>将 n1 到 n2 的内容储存成 filename 这个档案。</td></tr><tr><td style="text-align:left">:! command</td><td>暂时离开 vi 到指令行模式下执行 command 的显示结果！例如 『:! ls /home』即可在 vi 当中察看 /home 底下以 ls 输出的档案信息！</td></tr><tr><td style="text-align:left">vim 环境的变更</td><td></td></tr><tr><td style="text-align:left">:set nu</td><td>显示行号，设定之后，会在每一行的前缀显示该行的行号</td></tr><tr><td style="text-align:left">:set nonu</td><td>与 set nu 相反，为取消行号！</td></tr></tbody></table><p>特别注意，在 vi/vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。</p><p>举例来说，要删除 50 行，则是用 『50dd』 对吧！ 数字加在动作之前，如我要向下移动 20 行呢？那就是『20j』或者是『20↓』即可。</p><hr><ol start="5"><li><p>插入操作:<br>o: 当前行下方插入空行并进入插入模式 O: 当前行上方插入一行并进入插入模式 A: 当前光标所在行尾处插入 a: 当前光标后一位处插入 i: 当前光标处插入</p></li><li><p>修改操作:<br>r : 替换光标所在处字符 R: 连续替换光标所在处字符 cw: 修改单词到词尾 c$: 修改内容到行尾 ndd + p: 成行的剪切+粘贴 :s/old/new: 将所在行的第一个old换成new :s/old/new/g: 将所在行的所有old换成new :%s/old/new/g: 将所在文本的所有old换成new :%s/old/new/gc: 将所在文本的所有old换成new并逐一请示</p></li><li><p>撤销/恢复操作:<br>u: 撤销一步操作 U: 撤销所在行的操作 ctrl + r: 恢复(可撤销掉撤销操作)</p></li><li><p>查询操作:<br>%: 旋停在括号上可用, 配对括号定位 /待查单词: 显示所有待查单词, 从第一个目标单词开始 ?待查单词: 显示所有待查单词, 与 /逆向 n: /式中为向后查找相同的单词 N: /式中为向前查找相同的单词 /待查单词c: 仅本次查询忽略大小写 :set ic: 查询忽略大小写(ignore case) :set noic: 恢复查询大小写敏感模式 :set hls is: 查询高亮 :nohlsearch: 取消高亮</p></li><li><p>vim内暂时使用shell命令(借助末行模式)<br>:!ls : 暂时查看当前vim运行目录下的文件 :w BACKUP: 当前文件内容另备份于BACKUP :r OTHERS: 将文件OTHERS中内容插入到光标旋停行 :help w: 分屏查看帮助文档, :q!可以退出帮助文档</p></li><li><p>可视功能v的用法<br>v + h j k l选中区域 + y + p : 复制粘贴 v + h j k l选中区域 + d + p : 剪切粘贴 v + h j k l选中区域 + :w BACKUP: 将选中文本内容保存于BACKUP中</p></li><li><p>创建启动脚本vimrc</p></li><li><p>开始编辑 vimrc 文件，具体命令取决于您所使用的操作系统：<br>:edit ~/.vimrc 这是 Unix 系统所使用的命令<br>:edit $VIM/_vimrc 这是 MS-Windows 系统所使用的命令</p></li><li><p>接着读取 vimrc 示例文件的内容：<br>:r $VIMRUNTIME/vimrc_example.vim</p></li><li><p>保存文件，命令为：<br>:write<br>下次您启动 Vim 时，编辑器就会有了语法高亮的功能。<br>您可以把您喜欢的各种设置添加到这个 vimrc 文件中。<br>要了解更多信息请输入 :help vimrc-intro</p></li></ol><ul><li>摘自vimtutor第七讲第二节<br>其他内容:</li></ul><ol><li>输入 :help 或者按 <F1> 键或 <Help> 键可以打开帮助窗口。</li><li>输入 :help cmd 可以找到关于 cmd 命令的帮助。</li><li>输入 CTRL-W CTRL-W 可以使您在窗口之间跳转。</li><li>输入 :q 以关闭帮助窗口</li><li>您可以创建一个 vimrc 启动脚本文件用来保存您偏好的设置。</li><li>当输入 : 命令时，按 CTRL-D 可以查看可能的补全结果。按 <TAB> 可以使用一个补全。</li></ol><p><strong>在命令状态下对当前行用== （连按=两次）, 或对多行用n==（n是自然数）表示自动缩进从当前行起的下面n行。你可以试试把代码缩进任意打乱再用n==排版，相当于一般IDE里的code format。使用gg=G可对整篇代码进行排版。</strong></p><h5 id="vim-选择文本，删除，复制，粘贴">vim 选择文本，删除，复制，粘贴</h5><p>文本的选择，对于编辑器来说，是很基本的东西，也经常被用到，总结如下：</p><p>v   从光标当前位置开始，光标所经过的地方会被选中，再按一下v结束。</p><p>V   从光标当前行开始，光标经过的行都会被选中，再按一下Ｖ结束。</p><p>Ctrl + v  从光标当前位置开始，选中光标起点和终点所构成的矩形区域，再按一下Ｃtrl + v结束。</p><p>ggVG 选中全部的文本， 其中gg为跳到行首，V选中整行，G末尾</p><p>选中后就可以用编辑命令对其进行编辑，如<br>d  删除</p><p>y  复制 （默认是复制到&quot;寄存器）</p><p>p  粘贴 （默认从&quot;寄存器取出内容粘贴）</p><p>&quot;+y   复制到系统剪贴板(也就是vim的+寄存器）</p><p>&quot;+p  从系统剪贴板粘贴</p><h5 id="vim命令总结">vim命令总结</h5><h6 id="删除">删除</h6><p>1.删除字符<br>要删除一个字符，只需要将光标移到该字符上按下&quot;x&quot;。</p><p>2.删除一行<br>删除一整行内容使用&quot;dd&quot;命令。删除后下面的行会移上来填补空缺。</p><p>3.删除换行符<br>在Vim中你可以把两行合并为一行，也就是说两行之间的换行符被删除了：命令是&quot;J&quot;。</p><p>4.撤销<br>如果你误删了过多的内容。显然你可以再输入一遍，但是命令&quot;u&quot; 更简便，它可以撤消上一次的操作。</p><p>5.重做<br>如果你撤消了多次，你还可以用CTRL-R(重做)来反转撤消的动作。换句话说，它是对撤消的撤消。撤消命令还有另一种形式，&quot;U&quot;命令，它一次撤消对一行的全部操作。第二次使用该命令则会撤消前一个&quot;U&quot;的操作。用&quot;u&quot;和CTRL-R你可以找回任何一个操作状态。</p><p>6.追加<br>&quot;i&quot;命令可以在当前光标之前插入文本。<br>&quot;a&quot;命令可以在当前光标之后插入文本。<br>&quot;o&quot;命令可以在当前行的下面另起一行，并使当前模式转为Insert模式。<br>&quot;O&quot;命令(注意是大写的字母O)将在当前行的上面另起一行。</p><p>7.使用命令计数<br>假设你要向上移动9行。这可以用&quot;kkkkkkkkk&quot;或&quot;9k&quot;来完成。事实上，很多命令都可以接受一个数字作为重复执行同一命令的次数。比如刚才的例子，要在行尾追加三个感叹号，当时用的命令是&quot;a!!!&quot;。另一个办法是用&quot;3a!“命令。3说明该命令将被重复执行3次。同样，删除3个字符可以用&quot;3x”。指定的数字要紧挨在它所要修饰的命令前面。</p><p>8.退出<br>要退出Vim，用命令&quot;ZZ&quot;。该命令保存当前文件并退出Vim。</p><p>9.放弃编辑<br>丢弃所有的修改并退出，用命令&quot;:q!“。用”:e!&quot;命令放弃所有修改并重新载入该文件的原始内容。</p><p>10.以Word为单位的移动<br>使用&quot;w&quot;命令可以将光标向前移动一个word的首字符上；比如&quot;3w&quot;将光标向前移动3个words。&quot;b&quot;命令则将光标向后移动到前一个word的首字符上。<br>“e&quot;命令会将光标移动到下一个word的最后一个字符。命令&quot;ge”，它将光标移动到前一个word的最后一个字符上。、</p><p>11.移动到行首或行尾<br>&quot;<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">&quot;</mi><mtext>命令将光标移动到当前行行尾。如果你的键盘上有一个键，它的作用也一样。</mtext><msup><mi mathvariant="normal">&quot;</mi><mi mathvariant="normal">&quot;</mi></msup><mtext>命令将光标移动到当前行的第一个非空白字符上。</mtext><mi mathvariant="normal">&quot;</mi><mn>0</mn><mi mathvariant="normal">&quot;</mi><mtext>命令则总是把光标移动到当前行的第一个字符上。键也是如此。</mtext><mi mathvariant="normal">&quot;</mi></mrow><annotation encoding="application/x-tex">&quot;命令将光标移动到当前行行尾。如果你的键盘上有一个键，它的作用也一样。&quot;^&quot;命令将光标移动到当前行的第一个非空白字符上。&quot;0&quot;命令则总是把光标移动到当前行的第一个字符上。键也是如此。&quot;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord">&quot;</span><span class="mord cjk_fallback">命令将光标移动到当前行行尾。如果你的键盘上有一个键，它的作用也一样。</span><span class="mord"><span class="mord">&quot;</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">&quot;</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">命令将光标移动到当前行的第一个非空白字符上。</span><span class="mord">&quot;0&quot;</span><span class="mord cjk_fallback">命令则总是把光标移动到当前行的第一个字符上。键也是如此。</span><span class="mord">&quot;</span></span></span></span>&quot;命令还可接受一个计数，如&quot;1<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">&quot;</mi><mtext>会将光标移动到当前行行尾，</mtext><mi mathvariant="normal">&quot;</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">&quot;会将光标移动到当前行行尾，&quot;2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">&quot;</span><span class="mord cjk_fallback">会将光标移动到当前行行尾，</span><span class="mord">&quot;2</span></span></span></span>&quot;则会移动到下一行的行尾，如此类推。“0&quot;命令却不能接受类似这样的计数，命令”^&quot;前加上一个计数也没有任何效果。</p><p>12.移动到指定字符上<br>命令&quot;fx&quot;在当前行上查找下一个字符x（向右方向），可以带一个命令计数&quot;F&quot;命令向左方向搜索。“tx&quot;命令形同&quot;fx&quot;命令，只不过它不是把光标停留在被搜索字符上，而是在它之前的一个字符上。提示：“t&quot;意为&quot;To”。该命令的反方向版是&quot;Tx”。这4个命令都可以用&quot;;“来重复。以”,&quot;也是重复同样的命令，但是方向与原命令的方向相反。</p><p>13.以匹配一个括号为目的移动<br>用命令&quot;%“跳转到与当前光标下的括号相匹配的那一个括号上去。如果当前光标在”(“上，它就向前跳转到与它匹配的”)“上，如果当前在”)“上，它就向后自动跳转到匹配的”(&quot;上去.</p><p>14.移动到指定行<br>用&quot;G&quot;命令指定一个命令计数，这个命令就会把光标定位到由命令计数指定的行上。比如&quot;33G&quot;就会把光标置于第33行上。没有指定命令计数作为参数的话, &quot;G&quot;会把光标定位到最后一行上。“gg&quot;命令是跳转到第一行的快捷的方法。<br>另一个移动到某行的方法是在命令”%&quot;之前指定一个命令计数比如&quot;50%&quot;将会把光标定位在文件的中间. &quot;90%“跳到接近文件尾的地方。<br>命令&quot;H”,“M”,“L”,分别将光标跳转到第一行，中间行，结尾行部分。</p><p>15.告诉你当前的位置<br>使用CTRL-G命令。“set number&quot;在每行的前面显示一个行号。相反关闭行号用命令”:set nonumber&quot;。&quot;:set ruler&quot;在Vim窗口的右下角显示当前光标位置。</p><p>16.滚屏<br>CTRL-U显示文本的窗口向上滚动了半屏。CTRL-D命令将窗口向下移动半屏。一次滚动一行可以使用CTRL-E(向上滚动)和CTRL-Y(向下滚动)。要向前滚动一整屏使用命令CTRL-F。另外CTRL-B是它的反向版。&quot;zz&quot;命令会把当前行置为屏幕正中央，&quot;zt&quot;命令会把当前行置于屏幕顶端，&quot;zb&quot;则把当前行置于屏幕底端.</p><p>17.简单搜索<br>&quot;/string&quot;命令可用于搜索一个字符串。要查找上次查找的字符串的下一个位置,使用&quot;n&quot;命令。如果你知道你要找的确切位置是目标字符串的第几次出现，还可以在&quot;n&quot;之前放置一个命令计数。&quot;3n&quot;会去查找目标字符串的第3次出现。<br>&quot;?“命令与”/“的工作相同，只是搜索方向相反.“N&quot;命令会重复前一次查找，但是与最初用”/“或”?“指定的搜索方向相反。<br>如果查找内容忽略大小写，则用命令&quot;set ignorecase”, 返回精确匹配用命令&quot;set noignorecase” 。</p><p>18.在文本中查找下一个word<br>把光标定位于这个word上然后按下&quot;<em>“键。Vim将会取当前光标所在的word并将它作用目标字符串进行搜索。”#“命令是”</em>&quot;的反向版。还可以在这两个命令前加一个命令计数:&quot;3*&quot;查找当前光标下的word的第三次出现。</p><p>19.查找整个word<br>如果你用&quot;/the&quot;来查找Vim也会匹配到&quot;there&quot;。要查找作为独立单词的&quot;the&quot;使用如下命令：“/the&gt;”。“&gt;“是一个特殊的记法，它只匹配一个word的结束处。近似地，”&lt;” 匹配到一个word的开始处。这样查找作为一个word的&quot;the&quot;就可以用:“/”。</p><p>20.高亮显示搜索结果<br>开启这一功能用&quot;:set hlsearch&quot;，关闭这一功能：“:set nohlsearch”。如果只是想去掉当前的高亮显示，可以使用下面的命令：“:nohlsearch”(可以简写为noh)。</p><p>21.匹配一行的开头与结尾<br>^ 字符匹配一行的开头。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>字符匹配一行的末尾。所以</mtext><mi mathvariant="normal">&quot;</mi><mi mathvariant="normal">/</mi><mi>w</mi><mi>a</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">字符匹配一行的末尾。  所以&quot;/was</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">字符匹配一行的末尾。所以</span><span class="mord">&quot;/</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span></span></span></span>&quot;只匹配位于一行末尾的单词was，所以&quot;/^was&quot;只匹配位于一行开始的单词was。</p><p>22.匹配任何的单字符<br>.这个字符可以匹配到任何字符。比如&quot;c.m&quot;可以匹配任何前一个字符是c，后一个字符是m的情况，不管中间的字符是什么。</p><p>23.匹配特殊字符<br>放一个反斜杠在特殊字符前面。如果你查找&quot;ter。“，用命令”/ter\。&quot;</p><p>24.使用标记<br>当你用&quot;G&quot;命令从一个地方跳转到另一个地方时，Vim会记得你起跳的位置。这个位置在Vim中是一个标记。使用命令&quot; <code>&quot;可以使你跳回到刚才的出发点。 </code>命令可以在两点之间来回跳转。CTRL-O命令是跳转到你更早些时间停置光标的位置(提示:O意为older). CTRL-I则是跳回到后来停置光标的更新的位置(提示：I在键盘上位于O前面)。<br>注:使用CTRL-I 与按下键一样。</p><p>25.具名标记<br>命令&quot;ma&quot;将当前光标下的位置名之为标记&quot;a&quot;。从a到z一共可以使用26个自定义的标记。要跳转到一个你定义过的标记，使用命令&quot; <code>marks &quot;marks就是定义的标记的名字。命令&quot; 'a &quot;使你跳转到a所在行的行首，&quot; </code>a “会精确定位a所在的位置。命令：”:marks&quot;用来查看标记的列表。<br>命令delm！删除所有标记。</p><p>26.操作符命令和位移<br>“dw&quot;命令可以删除一个word，“d4w&quot;命令是删除4个word，依此类推。类似有&quot;d2e”、“d$”。此类命令有一个固定的模式：操作符命令+位移命令。首先键入一个操作符命令。比如&quot;d&quot;是一个删除操作符。接下来是一个位移命。比如&quot;w”。这样任何移动光标命令所及之处，都是命令的作用范围。</p><p>27.改变文本<br>操作符命令是&quot;c&quot;，改变命令。它的行为与&quot;d&quot;命令类似，不过在命令执行后会进入Insert模式。比如&quot;cw&quot;改变一个word。或者，更准确地说，它删除一个word并让你置身于Insert模式。<br>&quot;cc&quot;命令可以改变整行。不过仍保持原来的缩进。<br>&quot;c<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">&quot;</mi><mtext>改变当前光标到行尾的内容。快捷命令：</mtext><mi>x</mi><mtext>代表</mtext><mi>d</mi><mi>l</mi><mo stretchy="false">(</mo><mtext>删除当前光标下的字符</mtext><mo stretchy="false">)</mo><mi>X</mi><mtext>代表</mtext><mi>d</mi><mi>h</mi><mo stretchy="false">(</mo><mtext>删除当前光标左边的字符</mtext><mo stretchy="false">)</mo><mi>D</mi><mtext>代表</mtext><mi>d</mi></mrow><annotation encoding="application/x-tex">&quot;改变当前光标到行尾的内容。 快捷命令：x 代表dl(删除当前光标下的字符)      X 代表dh(删除当前光标左边的字符)      D 代表d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">&quot;</span><span class="mord cjk_fallback">改变当前光标到行尾的内容。快捷命令：</span><span class="mord mathnormal">x</span><span class="mord cjk_fallback">代表</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord cjk_fallback">删除当前光标下的字符</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">代表</span><span class="mord mathnormal">d</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord cjk_fallback">删除当前光标左边的字符</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord cjk_fallback">代表</span><span class="mord mathnormal">d</span></span></span></span>(删除到行尾的内容)<br>C 代表c$(修改到行尾的内容)<br>s 代表cl(修改一个字符)<br>S 代表cc(修改一整行)<br>命令&quot;3dw&quot;和&quot;d3w&quot;都是删除3个word。第一个命令&quot;3dw&quot;可以看作是删除一个word的操作执行3次；第二个命令&quot;d3w&quot;是一次删除3个word。这是其中不明显的差异。事实上你可以在两处都放上命令记数，比如，&quot;3d2w&quot;是删除两个word，重复执行3次，总共是6个word。</p><p>28.替换单个字符<br>&quot;r&quot;命令不是一个操作符命令。它等待你键入下一个字符用以替换当前光标下的那个字符。“r&quot;命令前辍以一个命令记数是将多个字符都替换为即将输入的那个字符。要把一个字符替换为一个换行符使用&quot;r”。它会删除一个字符并插入一个换行符。在此处使用命令记数只会删除指定个数的字符：&quot;4r&quot;将把4个字符替换为一个换行符。</p><p>29.重复改动<br>&quot;.“命令会重复上一次做出的改动。”.“命令会重复你做出的所有修改，除了&quot;u&quot;命令CTRL-R和以冒号开头的命令。”.&quot;需要在Normal模式下执行，它重复的是命令，而不是被改动的内容，</p><p>30.Visual模式<br>按&quot;v&quot;可以进入Visual模式。移动光标以覆盖你想操纵的文本范围。同时被选中的文本会以高亮显示。最后键入操作符命令。</p><p>31.移动文本<br>以&quot;d&quot;或&quot;x&quot;这样的命令删除文本时，被删除的内容还是被保存了起来。你还可以用p命令把它取回来。&quot;P&quot;命令是把被去回的内容放在光标之前，&quot;p&quot;则是放在光标之后。对于以&quot;dd&quot;删除的整行内容，&quot;P&quot;会把它置于当前行的上一行。&quot;p&quot;则是至于当前行的后一行。也可以对命令&quot;p&quot;和&quot;P&quot;命令使用命令记数。它的效果是同样的内容被取回指定的次数。这样一来&quot;dd&quot;之后的&quot;3p&quot;就可以把被删除行的3 份副本放到当前位置。<br>命令&quot;xp&quot;将光标所在的字符与后一个字符交换。</p><p>**32.**<strong>复制文本（VIM编辑器内复制）</strong><br>&quot;y&quot;操作符命令会把文本复制到一个寄存器3中。然后可以用&quot;p&quot;命令把它取回。因为&quot;y&quot;是一个操作符命令，所以你可以用&quot;yw&quot;来复制一个word. 同样可以使用命令记数。如下例中用&quot;y2w&quot;命令复制两个word，&quot;yy&quot;命令复制一整行，“Y&quot;也是复制整行的内容，复制当前光标至行尾的命令是&quot;y$”。</p><p>33.文本对象<br>“diw” 删除当前光标所在的word(不包括空白字符) “daw” 删除当前光标所在的word(包括空白字符)</p><p>34.快捷命令<br>x 删除当前光标下的字符(&quot;dl&quot;的快捷命令)<br>X 删除当前光标之前的字符(&quot;dh&quot;的快捷命令)<br>D 删除自当前光标至行尾的内容(&quot;d$&quot;的快捷命令)<br>dw 删除自当前光标至下一个word的开头<br>db 删除自当前光标至前一个word的开始<br>diw 删除当前光标所在的word(不包括空白字符)<br>daw 删除当前光标所在的word(包括空白字符)<br>dG 删除当前行至文件尾的内容<br>dgg 删除当前行至文件头的内容<br>如果你用&quot;c&quot;命令代替&quot;d&quot;这些命令就都变成更改命令。使用&quot;y&quot;就是yank命令，如此类推。</p><p>35.编辑另一个文件<br>用命令&quot;:edit foo.txt&quot;，也可简写为&quot;:e foo.txt&quot;。</p><p>36.文件列表<br>可以在启动Vim时就指定要编辑多个文件，用命令&quot;vim one.c two.c three.c&quot;。Vim将在启动后只显示第一个文件，完成该文件的编辑后，可以用令：“:next&quot;或”:n&quot;要保存工作成果并继续下一个文件的编辑，命令：“:wnext&quot;或”:wn&quot;可以合并这一过程。</p><p>37.显示当前正在编辑的文件<br>用命令&quot;:args&quot;。</p><p>38.移动到另一个文件<br>用命令&quot;:previous&quot; “:prev&quot;回到上一个文件,合并保存步骤则是”:wprevious&quot; “:wprev”。要移到最后一个文件&quot;:last&quot;,到第一个&quot;:first&quot;.不过没有&quot;:wlast&quot;或者&quot;:wfirst&quot;这样的命令。可以在&quot;:next&quot;和&quot;:previous&quot;命令前面使用一个命令计数。</p><p>39.编辑另一个文件列表<br>不用重新启动Vim，就可以重新定义一个文件列表。命令&quot;:args five.c six.c seven.h&quot;定义了要编辑的三个文件。</p><p>39.自动存盘<br>命令&quot;:set autowrite&quot;,“set aw”。自动把内容写回文件: 如果文件被修改过，在每个:next、:rewind、:last、:first、:previous、:stop、:suspend、:tag、:!、:make、CTRL-] 和 CTRL-^命令时进行。<br>命令&quot;:set autowriteall&quot;,“set awa”。和 ‘autowrite’ 类似，但也适用于&quot;:edit&quot;、“:enew”、“:quit”、“:qall”、“:exit”、“:xit”、“:recover” 和关闭 Vim 窗口。置位本选项也意味着 Vim 的行为就像打开 ‘autowrite’ 一样。</p><p>40.切换到另一文件<br>要在两个文件间快速切换，使用CTRL-^。</p><p>41.文件标记<br>以大写字母命名的标记。它们是全局标记，它们可以用在任何文件中。比如，正在编辑&quot;fab1.<a href="http://lib.csdn.net/base/javaee">Java</a>&quot;,用命令&quot;50%mF&quot;在文件的中间设置一个名为F的标记。然后在&quot;fab2.java&quot;文件中，用命令&quot;GnB&quot;在最后一行设置名为B的标记。在可以用&quot;F&quot;命令跳转到文件&quot;fab1.java&quot;的半中间。或者编辑另一个文件，“'B&quot;命令会再把你带回文件&quot;fab2.java&quot;的最后一行。<br>要知道某个标记所代表的位置是什么，可以将该标记的名字作为&quot;marks&quot;命令的参数”:marks M&quot;或者连续跟上几个参数&quot;:marks MJK&quot;<br>可以用CTRL-O和CTRL-I可以跳转到较早的位置和靠后的某位置。</p><p>42.查看文件<br>仅是查看文件，不向文件写入内容，可以用只读形式编辑文件。用命令：<br>vim -R file。如果是想强制性地避免对文件进行修改，可以用命令：<br>vim -M file。</p><p>43.更改文件名<br>将现有文件存成新的文件，用命令&quot;:sav(eas) move.c&quot;。如果想改变当前正在编辑的文件名，但不想保存该文件，就可以用命令：“:f(ile) move.c”。</p><p>44.分割一个窗口<br>打开一个新窗口最简单的办法就是使用命令：“:split”。CTRL-W 命令可以切换当前活动窗口。</p><p>45.关闭窗口<br>用命令：“close”.可以关闭当前窗口。实际上,任何退出文件编辑的命令&quot;:quit&quot;和&quot;ZZ&quot;都会关闭窗口，但是用&quot;:close&quot;可以阻止你关闭最后一个Vim，以免以意外地整个关闭了Vim。</p><p>46.关闭除当前窗口外的所有其他窗口<br>用命令：“:only”,关闭除当前窗口外的所有其它窗口。如果这些窗口中有被修改过的，你会得到一个错误信息，同时那个窗口会被留下来。</p><p>47.为另一个文件分隔出一个窗口<br>命令&quot;:split two.c&quot;可以打开第二个窗口同时在新打开的窗口中开始编辑作为<br>参数的文件。如果要打开一个新窗口并开始编辑一个空的缓冲区，使用命令:“:new”。</p><p>48.垂直分割<br>用命令&quot;:vsplit或：:vsplit two.c&quot;。同样有一个对应的&quot;:vnew&quot;命令，用于垂直分隔窗口并在其中打开一个新的空缓冲区。</p><p>49.切换窗口<br>CTRL-W h 到左边的窗口<br>CTRL-W j 到下面的窗口<br>CTRL-W k 到上面的窗口<br>CTRL-W l 到右边的窗口<br>CTRL-W t 到顶部窗口<br>CTRL-W b 到底部窗口</p><p>50.针对所有窗口操作的命令<br>“:qall&quot;放弃所有操作并退出，”:wall&quot;保存所有，&quot;:wqall&quot;保存所有并退出。</p><p>51.为每一个文件打开一个窗口<br>使用&quot;-o&quot;选项可以让Vim为每一个文件打开一个窗口：<br>“vim -o one.txt two.txt three.txt”。</p><p>52.使用vimdiff查看不同<br>“vimdiff main.c~ main.c”,另一种进入diff模式的办法可以在Vim运行中操作。编辑文件&quot;main.c&quot;，然后打开另一个分隔窗口显示其不同:<br>“:edit main.c”<br>“:vertical diffpatch main.c.diff”。<br>53.页签<br>命令&quot;:tabe(dit) thatfile&quot;在一个窗口中打开&quot;thatfile&quot;，该窗口占据着整个的Vim显示区域。命令&quot;:tab split/new&quot;结果是新建了一个拥有一个窗口的页签。以用&quot;gt&quot;命令在不同的页签间切换。</p><h4 id="个人总结">个人总结</h4><p>说明：以下黑色为vi和vim均有的一般功能，而红色为Vim（Vi Improved）所特有功能。Vim一般的Unix和<a href="http://lib.csdn.net/base/linux">Linux</a>下均有安装。<br>🖊 三种状态<br>Command： 任何输入都会作为编辑命令，而不会出现在屏幕上，任何输入都引起立即反映<br>Insert： 任何输入的数据都置于编辑寄存器，按ESC，可跳回command方式<br>Escape： 以“：”或者“/”为前导的指令，出现在屏幕的最下一行，任何输入都被当成特别指令。<br>🖊 离开vi<br>:q!  离开vi，并放弃刚在缓冲区内编辑的内容。<br>:wq  将缓冲区内的资料写入磁盘中，并离开vi。<br>:x  同wq。<br>（注意—— :X 是文件加密，一定要与:x存盘退出相区别）<br>🖊 进入输入模式<br>a (append) 由游标之后加入资料。<br>A  由该行之末加入资料。<br>i (insert)  由游标之前加入资料。<br>I  由该行之首加入资料。<br>o (open)  新增一行於该行之下供输入资料之用。<br>O  新增一行於该行之上供输入资料之用。<br>🖊 删除与修改<br>x  删除游标所在该字元。<br>X  删除游标所在之前一字元。<br>r  用接於此指令之后的字元取代(replace)游标所在字元。如：ra将游标所在字元以 a 取代之。<br>R  进入取代状态，直到《ESC》为止。<br>s  删除游标所在之字元，并进入输入模式直到《ESC》。<br>S  删除游标所在之该行资料，并进入输入模式直到《ESC》。<br>🖊光标的移动<br>m<a-z> 设置书签<a-z><br>‘<a-z> 移至书签<a-z>处<br>0  移至该行之首<br>$  移至该行之末。<br>e  移动到下个字的最後一个字母<br>w  移动到下个字的第一个字母。<br>b  移动到上个字的第一个字母。<br>^  移至该行的第一个字元处。<br>H  移至视窗的第一行。<br>M  移至视窗的中间那行。<br>L  移至视窗的最后一行。<br>G  移至该文件的最后一行。<br>+  移至下一列的第一个字元处。<br>- 移至上一列的第一个字元处。<br>:n  移至该文件的第 n 列。<br>n+  移至游标所在位置之后的第 n 列。<br>n-  移至游标所在位置之前的第 n 列。<br><Ctrl><g> 显示该行之行号、文件名称、文件中最末行之行号、游标所在行号占总行号之百分比。</p><p>（Vim） 光标移动基本用法小解：<br>(这只要组合上边的功能就可以明白了，不用再一一讲解了吧！)<br>ge   b  w     e<br>←  ←  —→    --→<br>This is-a line, with special/separated/words (and some more).<br>←- ←--  -----------------→   —→<br>GE  B    W   E</p><p>🖊 视窗的移动<br><Ctrl><f> 视窗往下卷一页。<br><Ctrl><b> 视窗往上卷一页。<br><Ctrl><d> 视窗往下卷半页。<br><Ctrl><u> 视窗往上卷半页。<br><Ctrl><e> 视窗往下卷一行。<br><Ctrl><y> 视窗往上卷一行。<br>🖊 剪切、复制、删除<br>Operator + Scope = command<br>🖊 Operator<br>d  剪切<br>y  复制。<br>p  粘帖，与 d 和 y 配和使用。可将最后d或y的资料放置於游标所在位置之行列下。<br>c  修改，类似delete与insert的组和。删除一个字组、句子等之资料，并插入新建资料。<br><em>🖊</em> Scope<br>e  由游标所在位置至该字串的最后一个字元。<br>w  由游标所在位置至下一个字串的第一个字元。<br>b  由游标所在位置至前一个字串的第一个字元。<br>$  由游标所在位置至该行的最后一个字元。<br>0  由游标所在位置至该行的第一个字元。<br> 整行动作<br>dd  删除整行。<br>D  以行为单位，删除游标后之所有字元。<br>cc  修改整行的内容。<br>yy  使游标所在该行复制到记忆体缓冲区。<br> 取消前一动作(Undo)<br>u  恢复最后一个指令之前的结果。<br>U  恢复游标该行之所有改变。<br>(vim) u  可以多次撤消指令，一次撤消一个操作，直至本次操作开始为止。<br>(vim) Ctrl+r 可以恢复撤消前内容，按多次可恢复多次。<br> 查找与替换<br>/字串  往游标之后寻找该字串。<br>?字串  往游标之前寻找该字串。<br>n  往下继续寻找下一个相同的字串。<br>N  往上继续寻找下一个相同的字串。<br>%  查找“(”，“)”，“{”，“}”的配对符。<br>s  搜寻某行列范围。<br>g  搜寻整个编辑缓冲区的资料。<br>:1,$s/old/new/g 将文件中所有的『old』改成『new』。<br>:10,20s/^/ / 将第10行至第20行资料的最前面插入5个空白。<br>(vim)<br>/字符串  后边输入查询内容可保存至缓冲区中，可用↑↓进行以往内容选择。<br>另外：将光标移动在选定单词下方按*，则可以选中此单词作为查询字符，可以避免输入一长串字符的麻烦。<br>🖊 (vim) 大小写替换<br>首先用按v开启选择功能，然后用↑↓←→键来选定所要替换的字符，若是小写变大写，则按U;反之按u;<br>如果是选择单词，则可以在按v后，按w，最后按U/u,这样就可以将字符随意的改变大小写了，而不用删除后重新敲入。</p><p>🖊 资料的连接<br>J  句子的连接。将游标所在之下一行连接至游标该行的后面。<br>🖊 环境的设定<br>:set all 可设置的环境变量列表<br>:set  环境变量的当前值<br>:set nu  设定资料的行号。<br>:set nonu 取消行号设定。<br>:set ai  自动内缩。<br>:set noai  取消自动内缩。<br>(vim)<br>:set ruler 会在屏幕右下角显示当前光标所处位置，并随光移动而改变，占用屏幕空间较小，使用也比较方便，推荐使用。<br>:set hlsearch 在使用查找功能时，会高亮显示所有匹配的内容。<br>:set nohlsearch 关闭此功能。<br>:set incsearch 使Vim在输入字符串的过程中，光标就可定位显示匹配点。<br>:set nowrapscan 关闭查找自动回环功能，即查找到文件结尾处，结束查找；默认状态是自动回环</p><p>🖊ex指令<br>🖊读写资料<br>:10,20w test 将第10行至第20行的资料写入test文件。<br>:10,20w&gt;&gt;test 将第10行至第20行的资料加在test文件之后。<br>:r test  将test文件的资料读入编辑缓冲区的最后。<br>:e [filename] 编辑新的文件。<br>:e! [filename] 放弃当前修改的文件，编辑新的文件。<br>:sh  进入shell环境，使用exit退出，回到编辑器中。</p><p>:!cmd 运行命令cmd后，返回到编辑器中。<br>🖊 删除、复制及搬移<br>:10,20d  删除第10行至第20行的资料。<br>:10d  删除第10行的资料。<br>:%d  删除整个编辑缓冲区。<br>:10,20co30 将第10行至第20行的资料复制至第30行之后。<br>:10,20mo30 将第10行至第20行的资料搬移至第30行之后。</p><h6 id="删除行">删除行</h6><p>####### <strong>如何在VIM中删除某一行：</strong></p><p>在VIM的命令模式下，使用dd，即可删除光标所在的行。</p><p>####### <strong>如何在VIM中删除多行：</strong></p><p>比如要删除8-17行，在VIM模式下，输入:8,17d，即可将8-17行全部删除。</p><p>####### <strong>如何在VIM中显示行号：</strong></p><p>在VIM命令模式下，输入:set nu。</p><p>####### <strong>误删后如何恢复：</strong></p><p>在VIM命令模式下，输入u。（与u相反的操作 <strong>Ctrl-r</strong>）</p><h2 id="Reference">Reference</h2><ol><li><a href="https://www.runoob.com/linux/linux-vim.html">菜鸟教程</a></li><li><a href="https://www.cnblogs.com/cheng88/p/10487870.html">https://www.cnblogs.com/cheng88/p/10487870.html</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Linux命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MacOS在命令行中打开Sublime Text 3</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/effience/MacOS%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E6%89%93%E5%BC%80Sublime%20Text%203/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Tools/effience/MacOS%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E6%89%93%E5%BC%80Sublime%20Text%203/</url>
      
        <content type="html"><![CDATA[<h1>配置</h1><p>在终端中输入命令来创建软链接：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sv <span class="string">&quot;/Applications/Sublime Text.app/Contents/SharedSupport/bin/subl&quot;</span> /usr/local/bin/subl</span><br></pre></td></tr></table></figure><p>如果Sublime Text是版本v2，则使用如下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ln</span> -sv <span class="string">&quot;/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl&quot;</span> /usr/local/bin/subl</span><br></pre></td></tr></table></figure><p>然后</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> ~/.zshrc</span><br></pre></td></tr></table></figure><h1>使用</h1><p>在命令行执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subl text.cpp</span><br></pre></td></tr></table></figure><p>就可以直接打开文件啦。</p><h1>Reference</h1><ol><li><a href="https://gist.github.com/martinbuberl/5823ed247d279d1a2d06">Launch Sublime Text from the command line on OSX</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>C++基础知识</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2022-02-01-C++/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/C++/2022-02-01-C++/</url>
      
        <content type="html"><![CDATA[<h2 id="基础">基础</h2><h3 id="技巧">技巧</h3><ul><li>无内存申请交换</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h2 id="STL">STL</h2><h3 id="string">string</h3><p><a href="https://blog.csdn.net/vir_lee/article/details/80645066">进制转换</a></p><blockquote><p>atoi(char) 头文件 #include <cstdlib><br><code>atoi(line.c_str())</code>记住要转为C风格字符串<br><code>char* itoa (int value,char*string,int radix);</code></p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">string <span class="title">reverse</span><span class="params">(string s, <span class="type">int</span> radix_1, <span class="type">int</span> radix_2)</span></span>&#123;<span class="comment">//将radix1进制数转换成radix2进制数</span></span><br><span class="line"><span class="type">char</span> * stop=<span class="literal">NULL</span>; </span><br><span class="line"><span class="type">long</span> a = <span class="built_in">strtol</span>(s.<span class="built_in">c_str</span>(), &amp;stop,radix_1); </span><br><span class="line"><span class="type">char</span> buff[<span class="number">20</span>];</span><br><span class="line"><span class="built_in">memset</span>(buff,<span class="number">0</span>,<span class="built_in">sizeof</span>(<span class="type">char</span>)*<span class="number">20</span>);</span><br><span class="line"><span class="built_in">ltoa</span>(a, buff, radix_2);</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">string</span>(buff);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">string s=<span class="string">&quot;0xAA&quot;</span>;</span><br><span class="line">cout&lt;&lt;<span class="built_in">reverse</span>(s, <span class="number">16</span>,<span class="number">10</span>)&lt;&lt;endl;</span><br><span class="line">cout&lt;&lt;<span class="built_in">reverse</span>(<span class="string">&quot;AA&quot;</span>, <span class="number">16</span>,<span class="number">10</span>)&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Hello World&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="基本操作">基本操作</h4><p><a href="http://c.biancheng.net/view/2236.html">C++ string详解，C++字符串详解</a><br><a href="https://www.jianshu.com/p/7b0e25d6c2c8">C++ string的常用操作</a><br><a href="https://blog.csdn.net/qq_37954088/article/details/82286530">C++string类的常用方法</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="built_in">empty</span>()</span><br><span class="line">s.<span class="built_in">size</span>()</span><br><span class="line"><span class="function">string&amp; <span class="title">insert</span> <span class="params">(<span class="type">size_t</span> pos, <span class="type">const</span> string&amp; str)</span></span>;</span><br><span class="line"><span class="function">string&amp; <span class="title">erase</span> <span class="params">(<span class="type">size_t</span> pos = <span class="number">0</span>, <span class="type">size_t</span> len = npos)</span></span>;</span><br><span class="line"><span class="function"><span class="type">char</span> &amp;<span class="title">at</span><span class="params">(<span class="type">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">isnt <span class="title">find</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *s, <span class="type">int</span> pos = <span class="number">0</span>)</span> <span class="type">const</span></span>;<span class="comment">//从pos开始查找字符串s在当前串中的位置</span></span><br><span class="line"><span class="comment">//子字符串</span></span><br><span class="line"></span><br><span class="line"><span class="function">string &amp;<span class="title">replace</span><span class="params">(<span class="type">int</span> p0, <span class="type">int</span> n0,<span class="type">const</span> <span class="type">char</span> *s)</span></span>;<span class="comment">//删除从p0开始的n0个字符，然后在p0处插入串s</span></span><br><span class="line"><span class="function">string &amp;<span class="title">replace</span><span class="params">(<span class="type">int</span> p0, <span class="type">int</span> n0,<span class="type">const</span> <span class="type">char</span> *s, <span class="type">int</span> n)</span></span>;<span class="comment">//删除p0开始的n0个字符，然后在p0处插入</span></span><br><span class="line"><span class="function">string &amp;<span class="title">replace</span><span class="params">(<span class="type">int</span> p0, <span class="type">int</span> n0,<span class="type">int</span> n, <span class="type">char</span> c)</span></span>;<span class="comment">//删除p0开始的n0个字符，然后在p0处插入n个字符c</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>读写一行字符串：<code>getline(cin, line)</code></p><ul><li>去除空格trim</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">string&amp; <span class="title">trim</span><span class="params">(string &amp;s)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="built_in">empty</span>()) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    s.<span class="built_in">erase</span>(<span class="number">0</span>,s.<span class="built_in">find_first_not_of</span>(<span class="string">&quot; &quot;</span>));</span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">find_last_not_of</span>(<span class="string">&quot; &quot;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> a=s.<span class="built_in">find</span>(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(a&lt;<span class="number">0</span>) <span class="keyword">return</span> s;</span><br><span class="line">    <span class="type">int</span> b=s.<span class="built_in">find_first_not_of</span>(<span class="string">&quot; &quot;</span>, a);</span><br><span class="line">    <span class="keyword">while</span>(b&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>()+a+<span class="number">1</span>,s.<span class="built_in">begin</span>()+b);</span><br><span class="line">        a=s.<span class="built_in">find</span>(<span class="string">&quot;  &quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(a&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        b=s.<span class="built_in">find_first_not_of</span>(<span class="string">&quot; &quot;</span>,a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="处理string中的字符">处理string中的字符</h4><p>头文件：<code>#include &lt;cctype&gt;</code></p><blockquote><p>是否是字符数字：<code> isalnum(c)</code><br>是否是字母：<code>isalpha(c)</code><br>是否是小写字母：<code>islower(c)</code><br>是否是大写字母：<code>isupper(c)</code><br>是否是数字：<code>isdigit(c)</code><br>是否是16进制数字：<code>isxdigit(c)</code><br>转小写字母：<code>tolower(c)</code><br>转大写字母：<code>toupper(c)</code><br>是否是标点符号：<code>ispunct(c)</code></p></blockquote><h5 id="Demo-code">Demo code</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string input;</span><br><span class="line">    <span class="built_in">getline</span>(cin,input);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;sentence：&quot;</span>+input&lt;&lt;endl;</span><br><span class="line">    string s=<span class="string">&quot;Hello World!!!&quot;</span>;</span><br><span class="line">    <span class="type">int</span> cnt_punct=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> c :s)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">ispunct</span>(c))</span><br><span class="line">        &#123;</span><br><span class="line">            ++cnt_punct;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt_punct&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>string.split()</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Stringsplit</span><span class="params">(<span class="type">const</span> string&amp; str, <span class="type">const</span> <span class="type">char</span> split, vector&lt;string&gt;&amp; res)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="string">&quot;&quot;</span>)      <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//在字符串末尾也加入分隔符，方便截取最后一段</span></span><br><span class="line">    string strs = str + split;</span><br><span class="line">    <span class="type">size_t</span> pos = strs.<span class="built_in">find</span>(split);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 若找不到内容则字符串搜索函数返回 npos</span></span><br><span class="line">    <span class="keyword">while</span> (pos != strs.npos)</span><br><span class="line">    &#123;</span><br><span class="line">        string temp = strs.<span class="built_in">substr</span>(<span class="number">0</span>, pos);</span><br><span class="line">        res.<span class="built_in">push_back</span>(temp);</span><br><span class="line">        <span class="comment">//去掉已分割的字符串,在剩下的字符串中进行分割</span></span><br><span class="line">        strs = strs.<span class="built_in">substr</span>(pos + <span class="number">1</span>, strs.<span class="built_in">size</span>());</span><br><span class="line">        pos = strs.<span class="built_in">find</span>(split);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用字符串分割</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Stringsplit</span><span class="params">(<span class="type">const</span> string&amp; str, <span class="type">const</span> string&amp; splits, vector&lt;string&gt;&amp; res)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="string">&quot;&quot;</span>)      <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//在字符串末尾也加入分隔符，方便截取最后一段</span></span><br><span class="line">    string strs = str + splits;</span><br><span class="line">    <span class="type">size_t</span> pos = strs.<span class="built_in">find</span>(splits);</span><br><span class="line">    <span class="type">int</span> step = splits.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 若找不到内容则字符串搜索函数返回 npos</span></span><br><span class="line">    <span class="keyword">while</span> (pos != strs.npos)</span><br><span class="line">    &#123;</span><br><span class="line">        string temp = strs.<span class="built_in">substr</span>(<span class="number">0</span>, pos);</span><br><span class="line">        res.<span class="built_in">push_back</span>(temp);</span><br><span class="line">        <span class="comment">//去掉已分割的字符串,在剩下的字符串中进行分割</span></span><br><span class="line">        strs = strs.<span class="built_in">substr</span>(pos + step, strs.<span class="built_in">size</span>());</span><br><span class="line">        pos = strs.<span class="built_in">find</span>(splits);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;string&gt; strList;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;This-is-a-test&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">Stringsplit</span>(str, <span class="string">&#x27;-&#x27;</span>, strList);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : strList)</span><br><span class="line">        cout &lt;&lt; s &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    vector&lt;string&gt; strList2;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;This%20is%20a%20test&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">Stringsplit</span>(str2, <span class="string">&quot;%20&quot;</span>, strList2);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> s : strList2)</span><br><span class="line">        cout &lt;&lt; s &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="List-双向链表">List 双向链表</h3><p><a href="http://c.biancheng.net/view/6892.html">C++ list（STL list）容器完全攻略（超级详细）</a></p><h3 id="array">array</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    array&lt;<span class="type">int</span>, 4&gt; values&#123;&#125;;</span><br><span class="line">    <span class="comment">//初始化 values 容器为 &#123;0,1,2,3&#125;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; values.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">        values.<span class="built_in">at</span>(i) = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//使用 get() 重载函数输出指定位置元素</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">get</span>&lt;<span class="number">3</span>&gt;(values) &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//如果容器不为空，则输出容器中所有的元素</span></span><br><span class="line">    <span class="keyword">if</span> (!values.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> val = values.<span class="built_in">begin</span>(); val &lt; values.<span class="built_in">end</span>(); val++) &#123;</span><br><span class="line">            cout &lt;&lt; *val &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/6688.html">C++ array(STL array)容器用法详解</a></p><h3 id="vector">vector</h3><p><a href="http://c.biancheng.net/view/6749.html">C++ STL vector容器详解</a></p><ul><li>尾部添加元素：<code>push_back()</code></li><li>插入：<code>insert(this.end(), new.begin(),new.end())</code></li><li><code>pop_back()</code>移出序列尾部的元素。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; primes &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>&#125;;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vals,sub;</span><br><span class="line">    vals.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    vals.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    vals.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    sub.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    sub.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    vals.<span class="built_in">insert</span>(vals.<span class="built_in">begin</span>()+<span class="number">1</span>,sub.<span class="built_in">begin</span>(), sub.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> a:vals) cout&lt;&lt;a&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="queue">queue</h3><p>queue 和 stack 有一些成员函数相似，但在一些情况下，工作方式有些不同：</p><ul><li><p>front()：返回 queue 中第一个元素的引用。如果 queue 是常量，就返回一个常引用；如果 queue 为空，返回值是未定义的。</p></li><li><p>back()：返回 queue 中最后一个元素的引用。如果 queue 是常量，就返回一个常引用；如果 queue 为空，返回值是未定义的。</p></li><li><p>push(const T&amp; obj)：在 queue 的尾部添加一个元素的副本。这是通过调用底层容器的成员函数 push_back() 来完成的。</p></li><li><p>push(T&amp;&amp; obj)：以移动的方式在 queue 的尾部添加元素。这是通过调用底层容器的具有右值引用参数的成员函数 push_back() 来完成的。</p></li><li><p>pop()：删除 queue 中的第一个元素。</p></li><li><p>size()：返回 queue 中元素的个数。</p></li><li><p>empty()：如果 queue 中没有元素的话，返回 true。</p></li><li><p>emplace()：用传给 emplace() 的参数调用 T 的构造函数，在 queue 的尾部生成对象。</p></li><li><p>swap(queue<T> &amp;other_q)：将当前 queue 中的元素和参数 queue 中的元素交换。它们需要包含相同类型的元素。也可以调用全局函数模板 swap() 来完成同样的操作。</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;<span class="type">double</span>&gt; values &#123;<span class="number">1.5</span>, <span class="number">2.5</span>, <span class="number">3.5</span>, <span class="number">4.5</span>&#125;; </span><br><span class="line">    <span class="function">queue&lt;<span class="type">double</span>&gt; <span class="title">numbers</span><span class="params">(values)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        numbers.<span class="built_in">push</span>(i); <span class="comment">//队尾添加元素</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!numbers.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt;numbers.<span class="built_in">front</span>() &lt;&lt; <span class="string">&quot; &quot;</span>; <span class="comment">// 查询队首</span></span><br><span class="line">        numbers.<span class="built_in">pop</span>();  <span class="comment">// 弹出队首</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/479.html">C++ queue(STL queue)用法详</a><strong><a href="http://c.biancheng.net/view/479.html">解</a></strong></p><h3 id="priority-queue">priority_queue</h3><p><a href="https://www.jianshu.com/p/081cec94e823">STL | priority_queue（优先队列）基本用法</a></p><blockquote><ul><li>Container：必须是用数组实现的容器，比如 vector, deque，但不能用 list。STL里面默认用的是 vector。</li><li>Compare：比较方式默认用使用less<T>，operator &lt;（小于号）。</li><li>所以如果你把后面俩个参数缺省的话，优先队列就是<strong>大顶堆</strong>，队头元素最大。</li></ul></blockquote><p><a href="https://blog.csdn.net/charles1e/article/details/53698576">C++ priority_queue(优先队列)使用</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">empty</span>()  <span class="comment">//如果优先队列为空，则返回真 </span></span><br><span class="line"><span class="built_in">pop</span>()    <span class="comment">//删除第一个元素 </span></span><br><span class="line"><span class="built_in">push</span>()  <span class="comment">//插入一个元素 </span></span><br><span class="line"><span class="built_in">size</span>()  <span class="comment">//返回优先队列中拥有的元素的个数 </span></span><br><span class="line"><span class="built_in">top</span>()  <span class="comment">//返回优先队列中有最高优先级的元素</span></span><br></pre></td></tr></table></figure><p>三种自定义比较函数方式</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//一、lamda表达式</span></span><br><span class="line">priority_queue&lt;ListNode*, vector&lt;ListNode*&gt;, function&lt;<span class="type">bool</span>(ListNode*, ListNode*)&gt;&gt; <span class="built_in">pq</span>(</span><br><span class="line">            [] (ListNode* a, ListNode* b) &#123; <span class="keyword">return</span> a-&gt;val &gt; b-&gt;val; &#125;);</span><br><span class="line">            </span><br><span class="line"><span class="comment">// 二、重载 &lt; 运算符，实现大顶堆</span></span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>&lt;(ListNode* a, ListNode* b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a.val&lt;b.val; </span><br><span class="line">&#125;</span><br><span class="line">priority_queue&lt;ListNode*&gt; pq;</span><br><span class="line">priority_queue&lt;ListNode*, vector&lt;ListNode*&gt;, less&lt;ListNode*&gt; &gt; pq;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三、仿函数，实现大顶堆 </span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">cmp</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span> <span class="params">(ListNode* a,ListNode* b )</span></span></span><br><span class="line"><span class="function">    </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> a-&gt;x&lt;b-&gt;x; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;; </span><br><span class="line">priority_queue&lt;ListNode*,vector&lt;ListNode*&gt;,cmp&gt;que; </span><br></pre></td></tr></table></figure><h3 id="deque-双边队列">deque 双边队列</h3><p><a href="http://c.biancheng.net/view/6860.html">C++ STL deque容器（详解版）</a></p><h3 id="stack">stack</h3><p>下面是 stack 容器可以提供的一套完整操作：</p><ul><li><p>top()：返回一个栈顶元素的引用，类型为 T&amp;。如果栈为空，返回值未定义。</p></li><li><p>push(const T&amp; obj)：可以将对象副本压入栈顶。这是通过调用底层容器的 push_back() 函数完成的。</p></li><li><p>push(T&amp;&amp; obj)：以移动对象的方式将对象压入栈顶。这是通过调用底层容器的有右值引用参数的 push_back() 函数完成的。</p></li><li><p>pop()：弹出栈顶元素。</p></li><li><p>size()：返回栈中元素的个数。</p></li><li><p>empty()：在栈中没有元素的情况下返回 true。</p></li><li><p>emplace()：用传入的参数调用构造函数，在栈顶生成对象。</p></li><li><p>swap(stack<T> &amp; other_stack)：将当前栈中的元素和参数中的元素交换。参数所包含元素的类型必须和当前栈的相同。对于 stack 对象有一个特例化的全局函数 swap() 可以使用。</p></li></ul><h4 id="Demo-code-2">Demo code</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    list&lt;string&gt; ls&#123;<span class="string">&quot;java&quot;</span>,<span class="string">&quot;python&quot;</span>,<span class="string">&quot;go&quot;</span>,<span class="string">&quot;c++&quot;</span>&#125;;</span><br><span class="line">    stack&lt;string,list&lt;string&gt;&gt; <span class="built_in">st</span>(ls);</span><br><span class="line">    st.<span class="built_in">emplace</span>(<span class="string">&quot;ruby&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span>(!st.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;st.<span class="built_in">top</span>()&lt;&lt;endl;</span><br><span class="line">        st.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/478.html">C++ stack(STL stack)用法详解</a></p><h3 id="map">map</h3><p><a href="http://c.biancheng.net/view/7173.html">C++ STL map容器详解</a><br>底层用的红黑树，会自动按照key排序，如果不需要排序，建议使用<code>unordered_map</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    map&lt;string, <span class="type">int</span>&gt; myMap&#123; &#123;<span class="string">&quot;c&quot;</span>,<span class="number">10</span>&#125;,&#123;<span class="string">&quot;d&quot;</span>,<span class="number">20</span>&#125; &#125;;</span><br><span class="line">    map&lt;string, <span class="type">int</span>&gt;<span class="built_in">newMap</span>(++myMap.<span class="built_in">begin</span>(), myMap.<span class="built_in">end</span>());</span><br><span class="line">    myMap.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="string">&quot;java&quot;</span>,<span class="number">30</span>));    </span><br><span class="line">    myMap.<span class="built_in">emplace</span>(<span class="built_in">pair</span>&lt;string, <span class="type">int</span>&gt;(<span class="string">&quot;go&quot;</span>, <span class="number">5</span>));<span class="comment">//在当前 map 容器中的指定位置处构造新键值对。其效果和插入键值对一样，但效率更高。</span></span><br><span class="line">    myMap.<span class="built_in">emplace</span>(<span class="built_in">make_pair</span>(<span class="string">&quot;C++&quot;</span>,<span class="number">40</span>));</span><br><span class="line">    <span class="keyword">auto</span> itera = myMap.<span class="built_in">find</span>(<span class="string">&quot;java&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(itera!= myMap.<span class="built_in">end</span>())&#123;</span><br><span class="line">        cout&lt;&lt;itera-&gt;second;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> p : myMap)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;p.first&lt;&lt;<span class="string">&quot;\t&quot;</span>&lt;&lt;p.second&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="multimap">multimap</h3><p><a href="http://c.biancheng.net/view/7190.html">C++ STL multimap容器用法完全攻略（超详细）</a></p><h3 id="unordered-map">unordered_map</h3><p><a href="http://c.biancheng.net/view/7231.html">C++ STL unordered_map容器用法详解</a></p><h3 id="set">set</h3><p><a href="http://c.biancheng.net/view/7192.html">C++ STL set容器完全攻略（超级详细）</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    set&lt;string&gt; sets&#123;<span class="string">&quot;c++&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;go&quot;</span>&#125;;</span><br><span class="line">    sets.<span class="built_in">insert</span>(<span class="string">&quot;python&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> a : sets)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;a&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    sets.<span class="built_in">erase</span>();  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>insert()向 set 容器中插入元素。</li><li>erase()删除 set 容器中存储的元素。</li><li>clear()清空 set 容器中所有的元素，即令 set 容器的 size() 为 0。</li><li>count(val)在当前 set 容器中，查找值为 val 的元素的个数，并返回。注意，由于 set 容器中各元素的值是唯一的，因此该函数的返回值最大为 1。</li></ul><h3 id="unordered-set">unordered_set</h3><p><a href="http://c.biancheng.net/view/7250.html">C++ STL unordered_set容器完全攻略</a></p><h3 id="泛型算法">泛型算法</h3><p>#include <algorithm></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">swap(a,b)</span><br></pre></td></tr></table></figure><p>reverse()</p><p>sort()</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    array&lt;<span class="type">int</span>,7&gt; a&#123;<span class="number">0</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    array&lt;<span class="type">int</span>,4&gt; b&#123;<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">sort</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:a)</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">sort</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>(),[](<span class="type">int</span> a, <span class="type">int</span> b) -&gt; <span class="type">bool</span> &#123; <span class="keyword">return</span> a &gt; b; &#125;);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:a)</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">reverse</span>(a.<span class="built_in">begin</span>(),a.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:a)</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/607.html">C++ unique(STL unique)算法详解</a></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    <span class="comment">// int a[] = &#123;1,2,3,7,6,3,4&#125;;</span></span><br><span class="line">    array&lt;<span class="type">int</span>,7&gt; a&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">sizeof</span>(a)/<span class="built_in">sizeof</span>(<span class="type">int</span>)&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">sort</span>(<span class="built_in">begin</span>(a), <span class="built_in">end</span>(a));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:a)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">auto</span> end_iter = <span class="built_in">unique</span>(<span class="built_in">begin</span>(a), <span class="built_in">end</span>(a));</span><br><span class="line">    <span class="built_in">copy</span>(<span class="built_in">begin</span>(a), <span class="built_in">end</span>(a), ostream_iterator&lt;<span class="type">int</span>&gt;&#123;cout, <span class="string">&quot; &quot;</span>&#125;);</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t:a)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/ylaoda/p/11412081.html">常用算法</a></p><h3 id="Lamda">Lamda</h3><p><a href="https://blog.csdn.net/asdasdde/article/details/116268964">C++——Lambda函数</a><br><a href="http://c.biancheng.net/view/3741.html">C++11 lambda表达式精讲</a></p><p><a href="https://www.cnblogs.com/DswCnblog/p/5629165.html">C++11 lambda表达式</a></p><p>min_element()</p><p>partition()</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">partition(nums.<span class="keyword">begin</span>(), nums.<span class="keyword">end</span>(), [](<span class="keyword">const</span> int n)&#123; <span class="keyword">return</span> n&amp;<span class="number">1</span>; &#125;);</span><br></pre></td></tr></table></figure><h2 id="STL算法">STL算法</h2><h3 id="sort">sort</h3><p>它有三个参数sort(begin, end, cmp)，<br>其中begin为指向待sort()的数组的第一个元素的指针，<br>end为指向待sort()的数组的最后一个元素的下一个位置的指针，<br>cmp参数为排序准则，cmp参数可以不写，如果不写的话，默认从小到大进行排序。如果我们想从大到小排序可以将cmp参数写为<code>greater&lt;int&gt;()</code>就是对int数组进行排序</p><blockquote><p>注意：sort默认是由小到大排序，而<code>priority_queue</code>是默认大根堆,弹出顺序是从大到小。两者第三个参数都是排序规则，默认也都是less,但是参数类型不一样，sort()是<code>less&lt;int&gt;()</code>，<code>priority_queue</code>是<code>less&lt;int&gt;</code>。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义规则</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> x % <span class="number">10</span> &gt; y % <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="type">int</span> num[<span class="number">10</span>] = &#123;<span class="number">6</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">sort</span>(num,num+<span class="number">10</span>,<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"><span class="comment">// sort(num,num+10, [](int a, int b)&#123;return a%10&gt;b%10;&#125;);</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">cout&lt;&lt;num[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125;<span class="comment">//输出结果:9 8 7 6 5 4 3 2 1 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="面试宝典">面试宝典</h2><p><a href="https://blog.csdn.net/qq_35034604/article/details/107959429">史上最全的C++面试宝典（合集）</a></p><p><a href="https://blog.csdn.net/y601500359/article/details/105262815">C/C++面试宝典2020版(最新版)</a></p><h2 id="待定">待定</h2><p><a href="https://blog.csdn.net/weixin_44223786/article/details/123871922">c++机试中的输入输出问题</a></p><h3 id="HelloWorld">HelloWorld</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;HelloWorld!&quot;</span>&lt;&lt;endl;    </span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="输入输出">输入输出</h3><ul><li>多个输入，每行一个输入，无空格</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    <span class="comment">//c++写法</span></span><br><span class="line">    <span class="keyword">while</span>(cin &gt;&gt; n)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//c语言写法</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;d) != EOF)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>有空格</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string input;</span><br><span class="line">    <span class="comment">// Hello World!</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">getline</span>(cin,input))</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;sentence：&quot;</span>+input&lt;&lt;endl;</span><br><span class="line">        vector&lt;string&gt;  strs;</span><br><span class="line">              </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Hello World&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="CFree">CFree</h2><p><a href="http://c.biancheng.net/view/470.html">下载地址</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Java基础知识</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/Java/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Java/Java/</url>
      
        <content type="html"><![CDATA[<h1>环境配置</h1><h2 id="Maven">Maven</h2><p><a href="https://archive.apache.org/dist/maven/maven-3/">Maven download</a></p><h1>basic Language</h1><p>HelloWorld</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HelloChina</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="泛型">泛型</h2><p><a href="https://www.cnblogs.com/liuyongyu/p/12457195.html">和的区别</a></p><h2 id="常见类">常见类</h2><p><a href="https://baijiahao.baidu.com/s?id=1653790035315010634&amp;wfr=spider&amp;for=pc">ThreadLocal</a></p><h1>Framework</h1><h2 id="spring-boot">spring boot</h2><p><a href="https://blog.csdn.net/diaoling1990/article/details/82356747">新建项目</a></p><h2 id="Groovy">Groovy</h2><p><a href="https://www.jianshu.com/p/e8dec95c4326">Groovy 语言快速入门</a></p><h1>常见问题</h1><p><a href="https://blog.csdn.net/qq8693/article/details/86166953">SpringBoot+MyBatis整合中的坑以及Property ‘sqlSessionFactory’ or ‘sqlSessionTemplate’ are required错误详解</a></p><h1>Reference</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python入门</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/Python/</url>
      
        <content type="html"><![CDATA[<h1>入门</h1><h2 id="参考资料">参考资料</h2><p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017024645952992">廖雪峰python教程</a></p><p><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/index.html">cookbook</a></p><p><a href="http://c.biancheng.net/view/2380.html">答疑</a></p><h2 id="基础">基础</h2><ul><li><a href="https://www.cnblogs.com/rgxx/p/10899440.html">f-string格式化</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">k=<span class="number">123.45</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;123:5.1f&quot;</span>)</span><br></pre></td></tr></table></figure><p>[Python 中下划线的 5 种含义 | 菜鸟教程 (<a href="http://runoob.com">runoob.com</a>)](<a href="https://www.runoob.com/w3cnote/python-5-underline.html#:~:text=%E4%B8%8B%E5%88%92%E7%BA%BF%E5%89%8D%E7%BC%80%E7%9A%84%E5%90%AB%E4%B9%89%E6%98%AF%E5%91%8A%E7%9F%A5%E5%85%B6%E4%BB%96%E7%A8%8B%E5%BA%8F%E5%91%98%EF%BC%9A%E4%BB%A5%E5%8D%95%E4%B8%AA%E4%B8%8B%E5%88%92%E7%BA%BF%E5%BC%80%E5%A4%B4%E7%9A%84%E5%8F%98%E9%87%8F%E6%88%96%E6%96%B9%E6%B3%95%E4%BB%85%E4%BE%9B%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%E3%80%82">https://www.runoob.com/w3cnote/python-5-underline.html#:~:text=下划线前缀的含义是告知其他程序员：以单个下划线开头的变量或方法仅供内部使用。</a> 该约定在PEP 8中有定义。 这不是Python强制规定的。 Python不像Java那样在&quot;私有&quot;和&quot;公共&quot;变量之间有很强的区别。 这就像有人提出了一个小小的下划线警告标志，说： “嘿，这不是真的要成为类的公共接口的一部分。 不去管它就好。,” 如果你实例化此类，并尝试访问在__init__构造函数中定义的foo和_bar属性，会发生什么情况？ 让我们来看看： 你会看到_bar中的单个下划线并没有阻止我们&quot;进入&quot;类并访问该变量的值。 这是因为Python中的单个下划线前缀仅仅是一个约定 - 至少相对于变量和方法名而言。 但是，前导下划线的确会影响从模块中导入名称的方式。)</p><h2 id="常用">常用</h2><h3 id="time">time</h3><ul><li><a href="https://www.cnblogs.com/qi-yuan-008/p/12418822.html">python求时间差</a></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, date</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">elapse_s</span>(<span class="params">func</span>):</span><br><span class="line"><span class="meta">    @functools.wraps(<span class="params">func</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">        time1 = datetime.now()</span><br><span class="line">        temp = func(*args, **kw)</span><br><span class="line">        time2 = datetime.now()</span><br><span class="line">        elapse = (time2-time1).microseconds/<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;time2&#125;</span>-FunctionName:<span class="subst">&#123;func.__name__:&#125;</span>-Elapse:<span class="subst">&#123;elapse:<span class="number">.3</span>f&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> temp</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">elapse_l</span>(<span class="params">func</span>):</span><br><span class="line"><span class="meta">    @functools.wraps(<span class="params">func</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kw</span>):</span><br><span class="line">        time1 = datetime.now()</span><br><span class="line">        temp = func(*args, **kw)</span><br><span class="line">        time2 = datetime.now()</span><br><span class="line">        elapse = (time2-time1).microseconds/<span class="number">1000</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;time2&#125;</span>-FunctionName:<span class="subst">&#123;func.__name__:&#125;</span>-Elapse:<span class="subst">&#123;elapse:<span class="number">.3</span>f&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> temp</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@elapse_s</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;-----Test-----&#x27;</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">seconds2time</span>(<span class="params">seconds</span>):</span><br><span class="line">    m, s = <span class="built_in">divmod</span>(seconds, <span class="number">60</span>)</span><br><span class="line">    h, m = <span class="built_in">divmod</span>(m, <span class="number">60</span>)</span><br><span class="line">    d, h = <span class="built_in">divmod</span>(h, <span class="number">24</span>)</span><br><span class="line">    <span class="keyword">if</span> d&gt;<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;d:%d&#125;</span>day <span class="subst">&#123;h:%d&#125;</span>:<span class="subst">&#123;m:%02d&#125;</span>:<span class="subst">&#123;s:%02d&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;h:%d&#125;</span>:<span class="subst">&#123;m:%02d&#125;</span>:<span class="subst">&#123;s:%02d&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(seconds2time(<span class="number">245030.235</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1>问答</h1>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>matplotlib</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/matplotlib/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/matplotlib/</url>
      
        <content type="html"><![CDATA[<h2 id="绘制曲线图">绘制曲线图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">train_losses, train_accuracy = [], []</span><br><span class="line">val_losses, val_accuracy = [], []</span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">20</span>):</span><br><span class="line">    epoch_loss, epoch_accuracy = fit(epoch, model, train_loader, phase=<span class="string">&#x27;training&#x27;</span>)</span><br><span class="line">    val_epoch_loss, val_epoch_accuracy = fit(epoch, model, test_loader, phase=<span class="string">&#x27;validation&#x27;</span>)</span><br><span class="line">    train_losses.append(epoch_loss)</span><br><span class="line">    train_accuracy.append(epoch_accuracy)</span><br><span class="line">    val_losses.append(val_epoch_loss)</span><br><span class="line">    val_accuracy.append(val_epoch_accuracy)</span><br><span class="line"></span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(train_losses) + <span class="number">1</span>), train_losses, marker=<span class="string">&quot;o&quot;</span>, color=<span class="string">&quot;blue&quot;</span>, label=<span class="string">&#x27;training loss&#x27;</span>)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(val_losses) + <span class="number">1</span>), val_losses, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;validation loss&#x27;</span>)</span><br><span class="line">plt.legend() </span><br><span class="line">plt.show()</span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(train_accuracy) + <span class="number">1</span>), train_accuracy, <span class="string">&#x27;bo&#x27;</span>, label=<span class="string">&#x27;train accuracy&#x27;</span>)</span><br><span class="line">plt.plot(<span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(val_accuracy) + <span class="number">1</span>), val_accuracy, <span class="string">&#x27;r&#x27;</span>, label=<span class="string">&#x27;val accuracy&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/weixin_40683253/article/details/87376085">Matplotlib - 折线图 plot() 所有用法详解</a></p><p><a href="https://blog.csdn.net/sinat_36219858/article/details/79800460">matplotlib.pyplot.plot()参数详解</a></p><p><a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.plot.html">官方资料</a></p><h3 id="绘制正余弦">绘制正余弦</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">x_len = <span class="number">50</span></span><br><span class="line">train_losses = [math.sin(i/x_len*<span class="number">2</span>*math.pi) <span class="keyword">for</span> i in <span class="keyword">range</span>(x_len)]</span><br><span class="line">val_losses = [math.cos(i/x_len*<span class="number">2</span>*math.pi) <span class="keyword">for</span> i in <span class="keyword">range</span>(x_len)]</span><br><span class="line"></span><br><span class="line">plt.plot(<span class="keyword">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(train_losses) + <span class="number">1</span>), train_losses,marker=<span class="string">&quot;o&quot;</span>, color=<span class="string">&quot;blue&quot;</span>, lineStyle=<span class="string">&quot;-&quot;</span>, label=<span class="string">&#x27;training loss&#x27;</span>)</span><br><span class="line">plt.plot(<span class="keyword">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(val_losses) + <span class="number">1</span>), val_losses, color=<span class="string">&quot;red&quot;</span>, label=<span class="string">&#x27;validation loss&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python环境配置</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/python-env-configurate/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/python-env-configurate/</url>
      
        <content type="html"><![CDATA[<h2 id="一、anaconda">一、anaconda</h2><p><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">anaconda清华镜像下载地址</a><br><a href="https://mirrors.bfsu.edu.cn/anaconda/pkgs/free/">anaconda北京外国语法学镜像下载地址</a></p><p><a href="https://blog.csdn.net/ha_ha_ha233/article/details/87475799">Anaconda安装</a></p><p><a href="http://www.360doc.com/content/18/1209/11/11881101_800396689.shtml">conda和pip比较</a></p><p><strong>创建Python虚拟环境</strong></p><p>使用 conda create -n your_env_name python=X.X（2.7、3.6等） anaconda 命令创建python版本为X.X、名字为your_env_name的虚拟环境。your_env_name文件可以在Anaconda安装目录envs文件下找到。</p><p><code>conda create -n cs python=3.7</code></p><h3 id="安装">安装</h3><h4 id="macOS">macOS</h4><p>推荐用homebrew安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install conda</span><br></pre></td></tr></table></figure><h4 id="ubuntu">ubuntu</h4><p><a href="https://zhuanlan.zhihu.com/p/349345180">linux安装anaconda</a></p><h3 id="常用功能代码">常用功能代码</h3><p><a href="https://www.jianshu.com/p/7265011ba3f2">conda 创建/删除/重命名 环境</a></p><p><strong>查看已有环境</strong></p><p><code>conda env list</code></p><p><strong>切换环境：</strong></p><ul><li><p>windows: <code>conda activate xxx(env name)</code></p></li><li><p>linux: <code>source activate xxx(env name)</code></p></li></ul><p><strong>查看当前环境安装包</strong>：</p><p><code>conda list</code></p><p><strong>查看包版本</strong></p><p><code>conda list PackageName</code></p><p><strong>复制环境</strong></p><p><code>conda create -n NEWNAME --clone OLDNAME</code></p><p><strong>删除环境</strong></p><p><code>conda remove -n NAME --all</code></p><p><strong>卸载安装包</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">conda uninstall XXX</span><br><span class="line">conda remove XXX</span><br><span class="line">pip uninstall  XXX</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/wanttifa/article/details/92845377">更新卸载制定包</a></p><h2 id="二、virtualenv">二、virtualenv</h2><p><a href="https://blog.csdn.net/weixin_41521681/article/details/98070414">python虚拟环境： conda create与 virtualenv对比</a></p><p><strong>安装virtualenv</strong></p><p>​<code>pip install virtualenv</code></p><p><strong>创建虚拟环境</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir myproject</span><br><span class="line">cd myproject</span><br><span class="line">virtualenv venv</span><br></pre></td></tr></table></figure><blockquote><p>创建了一个名为myproject的文件夹，然后这里边创建虚拟环境venv。</p></blockquote><p>在创建virtualenv时增加–no-site-packages 选项的virtualenv就不会读取系统包，如下：</p><p><code>virtualenv nowamagic_venv --no-site-packages</code></p><p>–distribute选项使virtualenv使用新的基于发行版的包管理系统而不是 setuptools 获得的包。 你现在需要知道的就是 --distribute 选项会自动在新的虚拟环境中安装 pip ，这样就不需要手动安装了。 当你成为一个更有经验的Python开发者，你就会明白其中细节。</p><p><code>virtualenv --distribute nowamagic_venv</code></p><p><strong>激活虚拟环境</strong></p><p>Linux: <code> venv/bin/activate</code> 或者<code>source $ENV_BASE_DIR/$ENVIRONMENT_NAME/bin/activate</code></p><p>没有实验，所以暂时写两种方法，如果此时进入到venv虚拟环境文件夹下，可以source bin/activate</p><p>Windows:$ <code>venv\scripts\activate</code></p><p><strong>退出环境</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 编程语言 </category>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>隐马尔科夫模型HMM（四）维特比算法解码隐藏状态序列</title>
      <link href="/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/HMM/%E9%9A%90%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E6%A8%A1%E5%9E%8BHMM%EF%BC%88%E5%9B%9B%EF%BC%89%E7%BB%B4%E7%89%B9%E6%AF%94%E7%AE%97%E6%B3%95%E8%A7%A3%E7%A0%81%E9%9A%90%E8%97%8F%E7%8A%B6%E6%80%81%E5%BA%8F%E5%88%97/"/>
      <url>/2022/02/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/HMM/%E9%9A%90%E9%A9%AC%E5%B0%94%E7%A7%91%E5%A4%AB%E6%A8%A1%E5%9E%8BHMM%EF%BC%88%E5%9B%9B%EF%BC%89%E7%BB%B4%E7%89%B9%E6%AF%94%E7%AE%97%E6%B3%95%E8%A7%A3%E7%A0%81%E9%9A%90%E8%97%8F%E7%8A%B6%E6%80%81%E5%BA%8F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<p>隐马尔科夫模型HMM（四）维特比算法解码隐藏状态序列</p><p>在本篇我们会讨论HMM模型最后一个问题的求解，即即给定模型和观测序列，求给定观测序列条件下，最可能出现的对应的隐藏状态序列。在阅读本篇前，建议先阅读这个系列的第一篇以熟悉HMM模型。</p><p>HMM模型的解码问题最常用的算法是维特比算法，当然也有其他的算法可以求解这个问题。同时维特比算法是一个通用的求序列最短路径的动态规划算法，也可以用于很多其他问题，比如之前讲到的<a href="http://www.cnblogs.com/pinard/p/6677078.html">文本挖掘的分词原理</a>中我们讲到了单独用维特比算法来做分词。</p><p>本文关注于用维特比算法来解码HMM的的最可能隐藏状态序列。</p><p>在HMM模型的解码问题中，给定模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi mathvariant="normal">Π</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda = (A, B, \Pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Π</span><span class="mclose">)</span></span></span></span>和观测序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>=</mo><mo stretchy="false">{</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>o</mi><mi>T</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">O =\{o_1,o_2,...o_T\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>，求给定观测序列O条件下，最可能出现的对应的状态序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">{</mo><msubsup><mi>i</mi><mn>1</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><msubsup><mi>i</mi><mn>2</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msubsup><mi>i</mi><mi>T</mi><mo>∗</mo></msubsup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I^*= \{i_1^*,i_2^*,...i_T^*\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>,即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msup><mi>I</mi><mo>∗</mo></msup><mi mathvariant="normal">∣</mi><mi>O</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(I^*|O)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mclose">)</span></span></span></span>要最大化。</p><p>一个可能的近似解法是求出观测序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span>在每个时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>最可能的隐藏状态<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>i</mi><mi>t</mi><mo>∗</mo></msubsup></mrow><annotation encoding="application/x-tex">i_t^*</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9357em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>然后得到一个近似的隐藏状态序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">{</mo><msubsup><mi>i</mi><mn>1</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><msubsup><mi>i</mi><mn>2</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msubsup><mi>i</mi><mi>T</mi><mo>∗</mo></msubsup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I^*= \{i_1^*,i_2^*,...i_T^*\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>。要这样近似求解不难，利用<a href="http://www.cnblogs.com/pinard/p/6955871.html">隐马尔科夫模型HMM（二）前向后向算法评估观察序列概率</a>中第五节的定义：在给定模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi></mrow><annotation encoding="application/x-tex">\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span>和观测序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span>时，在时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>处于状态<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>的概率是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>γ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gamma_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05556em;">γ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0556em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>，这个概率可以通过HMM的前向算法与后向算法计算。这样我们有：$$i_t^* = arg \max_{1 \leq i \leq N}[\gamma_t(i)], ; t =1,2,…T$$</p><p>近似算法很简单，但是却不能保证预测的状态序列是整体是最可能的状态序列，因为预测的状态序列中某些相邻的隐藏状态可能存在转移概率为0的情况。</p><p>而维特比算法可以将HMM的状态序列作为一个整体来考虑，避免近似算法的问题，下面我们来看看维特比算法进行HMM解码的方法。</p><p>既然是动态规划算法，那么就需要找到合适的局部状态，以及局部状态的递推公式。在HMM中，维特比算法定义了两个局部状态用于递推。</p><p>第一个局部状态是在时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>隐藏状态为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>所有可能的状态转移路径<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>i</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>i</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>i</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">i_1,i_2,...i_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>中的概率最大值。记为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>:$$\delta_t(i) = \max_{i_1,i_2,…i_{t-1}};P(i_t=i, i_1,i_2,…i_{t-1},o_t,o_{t-1},…o_1|\lambda),; i =1,2,…N$$</p><p>由<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>的定义可以得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span></span></span></span>的递推表达式：$$\begin{align} \delta_{t+1}(i) &amp; = \max_{i_1,i_2,…i_{t}};P(i_{t+1}=i, i_1,i_2,…i_{t},o_{t+1},o_{t},…o_1|\lambda) \ &amp; = \max_{1 \leq j \leq N};[\delta_t(j)a_{ji}]b_i(o_{t+1})\end{align}$$</p><p>第二个局部状态由第一个局部状态递推得到。我们定义在时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>隐藏状态为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>的所有单个状态转移路径<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>i</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>i</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>i</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i_1,i_2,...,i_{t-1},i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>中概率最大的转移路径中第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6984em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>个节点的隐藏状态为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>,其递推表达式可以表示为：$$\Psi_t(i) = arg ; \max_{1 \leq j \leq N};[\delta_{t-1}(j)a_{ji}]$$</p><p>有了这两个局部状态，我们就可以从时刻0一直递推到时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>，然后利用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>记录的前一个最可能的状态节点回溯，直到找到最优的隐藏状态序列。</p><p>现在我们来总结下维特比算法的流程：</p><p>输入：HMM模型<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>λ</mi><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo separator="true">,</mo><mi mathvariant="normal">Π</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\lambda = (A, B, \Pi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">Π</span><span class="mclose">)</span></span></span></span>，观测序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>o</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>o</mi><mi>T</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O=(o_1,o_2,...o_T)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>输出：最有可能的隐藏状态序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">{</mo><msubsup><mi>i</mi><mn>1</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><msubsup><mi>i</mi><mn>2</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msubsup><mi>i</mi><mi>T</mi><mo>∗</mo></msubsup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I^*= \{i_1^*,i_2^*,...i_T^*\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></p><ol start="2"><li><p>进行动态规划递推时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">t=2,3,...T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>时刻的局部状态：$$\delta_{t}(i) = \max_{1 \leq j \leq N};[\delta_{t-1}(j)a_{ji}]b_i(0_{t}),;i=1,2…N$$$$\Psi_t(i) = arg ; \max_{1 \leq j \leq N};[\delta_{t-1}(j)a_{ji}],;i=1,2…N$$</p></li><li><p>计算时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>最大的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mi>T</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta_{T}(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>,即为最可能隐藏状态序列出现的概率。计算时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>最大的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mi>t</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi_t(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>,即为时刻<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>最可能的隐藏状态。$$P* = \max_{1 \leq j \leq N}\delta_{T}(i)$$$$i_T^* = arg ; \max_{1 \leq j \leq N};[\delta_{T}(i)]$$</p></li><li><p>利用局部状态<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Ψ</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Psi(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Ψ</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>开始回溯。对于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mi>T</mi><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>T</mi><mo>−</mo><mn>2</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t=T-1,T-2,...,1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span>：$$i_t^* = \Psi_{t+1}(i_{t+1}^*)$$</p></li></ol><p>最终得到最有可能的隐藏状态序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>I</mi><mo>∗</mo></msup><mo>=</mo><mo stretchy="false">{</mo><msubsup><mi>i</mi><mn>1</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><msubsup><mi>i</mi><mn>2</mn><mo>∗</mo></msubsup><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msubsup><mi>i</mi><mi>T</mi><mo>∗</mo></msubsup><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">I^*= \{i_1^*,i_2^*,...i_T^*\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6887em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0253em;vertical-align:-0.2753em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4247em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span></p><p>我们的观察集合是:$$V={红，白}，M=2$$</p><p>我们的状态集合是：$$Q ={盒子1，盒子2，盒子3}， N=3 $$</p><p>而观察序列和状态序列的长度为3.</p><p>初始状态分布为：$$\Pi = (0.2,0.4,0.4)^T$$</p><p>状态转移概率分布矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.5</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">A = \left( \begin{array} {ccc} 0.5 &amp; 0.2 &amp; 0.3 \\ 0.3 &amp; 0.5 &amp; 0.2 \\ 0.2 &amp; 0.3 &amp;0.5 \end{array} \right) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.3</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.2</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.3</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.2</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>观测状态概率矩阵为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>B</mi><mo>=</mo><mrow><mo fence="true">(</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.5</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.5</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.6</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.7</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0.3</mn></mstyle></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">B = \left( \begin{array} {ccc} 0.5 &amp; 0.5 \\ 0.4 &amp; 0.6 \\ 0.7 &amp; 0.3 \end{array} \right) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,-36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.4</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.6</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>球的颜色的观测序列:$$O={红，白，红}$$</p><p>按照我们上一节的维特比算法，首先需要得到三个隐藏状态在时刻1时对应的各自两个局部状态，此时观测状态为1：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi>π</mi><mn>1</mn></msub><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.2</mn><mo>×</mo><mn>0.5</mn><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">\delta_1(1) = \pi_1b_1(o_1) = 0.2 \times 0.5 = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi>π</mi><mn>2</mn></msub><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.4</mn><mo>×</mo><mn>0.4</mn><mo>=</mo><mn>0.16</mn></mrow><annotation encoding="application/x-tex">\delta_1(2) = \pi_2b_2(o_1) = 0.4 \times 0.4 = 0.16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.16</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi>π</mi><mn>3</mn></msub><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mn>0.4</mn><mo>×</mo><mn>0.7</mn><mo>=</mo><mn>0.28</mn></mrow><annotation encoding="application/x-tex">\delta_1(3) = \pi_3b_3(o_1) = 0.4 \times 0.7 = 0.28</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.28</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="normal">Ψ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><msub><mi mathvariant="normal">Ψ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Psi_1(1)=\Psi_1(2) =\Psi_1(3) =0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>现在开始递推三个隐藏状态在时刻2时对应的各自两个局部状态，此时观测状态为2：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.1</mn><mo>×</mo><mn>0.5</mn><mo separator="true">,</mo><mn>0.16</mn><mo>×</mo><mn>0.3</mn><mo separator="true">,</mo><mn>0.28</mn><mo>×</mo><mn>0.2</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.5</mn><mo>=</mo><mn>0.028</mn></mrow><annotation encoding="application/x-tex">\delta_2(1) = \max_{1\leq j \leq 3}[\delta_1(j)a_{j1}]b_1(o_2) = \max_{1\leq j \leq 3}[0.1 \times 0.5, 0.16 \times 0.3, 0.28\times 0.2] \times 0.5 = 0.028</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.28</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.028</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_2(1)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>2</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.1</mn><mo>×</mo><mn>0.2</mn><mo separator="true">,</mo><mn>0.16</mn><mo>×</mo><mn>0.5</mn><mo separator="true">,</mo><mn>0.28</mn><mo>×</mo><mn>0.3</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.6</mn><mo>=</mo><mn>0.0504</mn></mrow><annotation encoding="application/x-tex">\delta_2(2) = \max_{1\leq j \leq 3}[\delta_1(j)a_{j2}]b_2(o_2) = \max_{1\leq j \leq 3}[0.1 \times 0.2, 0.16 \times 0.5, 0.28\times 0.3] \times 0.6 = 0.0504</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.28</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.0504</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_2(2)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>3</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.1</mn><mo>×</mo><mn>0.3</mn><mo separator="true">,</mo><mn>0.16</mn><mo>×</mo><mn>0.2</mn><mo separator="true">,</mo><mn>0.28</mn><mo>×</mo><mn>0.5</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.3</mn><mo>=</mo><mn>0.042</mn></mrow><annotation encoding="application/x-tex">\delta_2(3) = \max_{1\leq j \leq 3}[\delta_1(j)a_{j3}]b_3(o_2) = \max_{1\leq j \leq 3}[0.1 \times 0.3, 0.16 \times 0.2, 0.28\times 0.5] \times 0.3 = 0.042</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.28</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.5</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.042</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_2(3)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></span></p><p>继续递推三个隐藏状态在时刻3时对应的各自两个局部状态，此时观测状态为1：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>1</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.028</mn><mo>×</mo><mn>0.5</mn><mo separator="true">,</mo><mn>0.0504</mn><mo>×</mo><mn>0.3</mn><mo separator="true">,</mo><mn>0.042</mn><mo>×</mo><mn>0.2</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.5</mn><mo>=</mo><mn>0.00756</mn></mrow><annotation encoding="application/x-tex">\delta_3(1) = \max_{1\leq j \leq 3}[\delta_2(j)a_{j1}]b_1(o_3) = \max_{1\leq j \leq 3}[0.028 \times 0.5, 0.0504 \times 0.3, 0.042\times 0.2] \times 0.5 = 0.00756</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.028</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.0504</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.042</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.5</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.00756</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\Psi_3(1)=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>2</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.028</mn><mo>×</mo><mn>0.2</mn><mo separator="true">,</mo><mn>0.0504</mn><mo>×</mo><mn>0.5</mn><mo separator="true">,</mo><mn>0.042</mn><mo>×</mo><mn>0.3</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.4</mn><mo>=</mo><mn>0.01008</mn></mrow><annotation encoding="application/x-tex">\delta_3(2) = \max_{1\leq j \leq 3}[\delta_2(j)a_{j2}]b_2(o_3) = \max_{1\leq j \leq 3}[0.028 \times 0.2, 0.0504\times 0.5, 0.042\times 0.3] \times 0.4 = 0.01008</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.028</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.0504</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.042</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.01008</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\Psi_3(2)=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>δ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><msub><mi>δ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo><msub><mi>a</mi><mrow><mi>j</mi><mn>3</mn></mrow></msub><mo stretchy="false">]</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">(</mo><msub><mi>o</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>max</mi><mo>⁡</mo></mrow><mrow><mn>1</mn><mo>≤</mo><mi>j</mi><mo>≤</mo><mn>3</mn></mrow></munder><mo stretchy="false">[</mo><mn>0.028</mn><mo>×</mo><mn>0.3</mn><mo separator="true">,</mo><mn>0.0504</mn><mo>×</mo><mn>0.2</mn><mo separator="true">,</mo><mn>0.042</mn><mo>×</mo><mn>0.5</mn><mo stretchy="false">]</mo><mo>×</mo><mn>0.7</mn><mo>=</mo><mn>0.0147</mn></mrow><annotation encoding="application/x-tex">\delta_3(3) = \max_{1\leq j \leq 3}[\delta_2(j)a_{j3}]b_3(o_3) = \max_{1\leq j \leq 3}[0.028 \times 0.3, 0.0504 \times 0.2, 0.042\times 0.5] \times 0.7 = 0.0147</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.6138em;vertical-align:-0.8638em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.4306em;"><span style="top:-2.3723em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">≤</span><span class="mord mtight">3</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">max</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8638em;"><span></span></span></span></span></span><span class="mopen">[</span><span class="mord">0.028</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.0504</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0.2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.042</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.5</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.7</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.0147</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_3(3)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></span></p><p>此时已经到最后的时刻，我们开始准备回溯。此时最大概率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>δ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\delta_3(3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span></span></span></span>,从而得到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>i</mi><mn>3</mn><mo>∗</mo></msubsup><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i_3^* =3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9368em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span></p><p>由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>3</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_3(3)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>,所以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>i</mi><mn>2</mn><mo>∗</mo></msubsup><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i_2^* =3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9368em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>, 而又由于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi mathvariant="normal">Ψ</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">\Psi_2(3)=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">Ψ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>,所以<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>i</mi><mn>1</mn><mo>∗</mo></msubsup><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">i_1^* =3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9368em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">∗</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span></span></span></span>。从而得到最终的最可能的隐藏状态序列为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,3,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span></p><p>如果大家看过之前写的<a href="http://www.cnblogs.com/pinard/p/6677078.html">文本挖掘的分词原理</a>中的维特比算法，就会发现这两篇之中的维特比算法稍有不同。主要原因是在中文分词时，我们没有观察状态和隐藏状态的区别，只有一种状态。但是维特比算法的核心是定义动态规划的局部状态与局部递推公式，这一点在中文分词维特比算法和HMM的维特比算法是相同的，也是维特比算法的精华所在。</p><p>维特比算法也是寻找序列最短路径的一个通用方法，和dijkstra算法有些类似，但是dijkstra算法并没有使用动态规划，而是贪心算法。同时维特比算法仅仅局限于求序列最短路径，而dijkstra算法是通用的求最短路径的方法。</p><p>（欢迎转载，转载请注明出处。欢迎沟通交流： <a href="mailto:liujianping-ok@163.com">liujianping-ok@163.com</a>）</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>深度学习理论</title>
      <link href="/2022/01/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-01-01-deep-learning-theories/"/>
      <url>/2022/01/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/MachineLearning/2022-01-01-deep-learning-theories/</url>
      
        <content type="html"><![CDATA[<h2 id="基础">基础</h2><p><a href="https://zhuanlan.zhihu.com/p/262697114">计算机视觉基本任务综述</a></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011542238.png" alt=""></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011542239.png" alt=""></p><p>卷积层输出尺寸计算公式</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mstyle mathcolor="OrangeRed"><mi>o</mi><mi>u</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo>=</mo><mfrac><mrow><mi>i</mi><mi>n</mi><mi>p</mi><mi>u</mi><mi>t</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo>+</mo><mn>2</mn><mo>×</mo><mi>p</mi><mi>a</mi><mi>d</mi><mi>d</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo>−</mo><mi>k</mi><mi>e</mi><mi>r</mi><mi>n</mi><mi>e</mi><mi>l</mi><mi mathvariant="normal">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mrow><mi>s</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>d</mi><mi>e</mi></mrow></mfrac><mo>+</mo><mn>1</mn></mstyle></mrow><annotation encoding="application/x-tex">\color{OrangeRed}output\_size = \cfrac{input\_size+2\times padding- kernel\_size}{stride}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9695em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="color:OrangeRed;">o</span><span class="mord mathnormal" style="color:OrangeRed;">u</span><span class="mord mathnormal" style="color:OrangeRed;">tp</span><span class="mord mathnormal" style="color:OrangeRed;">u</span><span class="mord mathnormal" style="color:OrangeRed;">t</span><span class="mord" style="margin-right:0.02778em;color:OrangeRed;">_</span><span class="mord mathnormal" style="color:OrangeRed;">s</span><span class="mord mathnormal" style="color:OrangeRed;">i</span><span class="mord mathnormal" style="color:OrangeRed;">ze</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:OrangeRed;">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.276em;vertical-align:-0.686em;"></span><span class="mord" style="color:OrangeRed;"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.59em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="color:OrangeRed;"><span class="mord mathnormal" style="color:OrangeRed;">s</span><span class="mord mathnormal" style="color:OrangeRed;">t</span><span class="mord mathnormal" style="margin-right:0.02778em;color:OrangeRed;">r</span><span class="mord mathnormal" style="color:OrangeRed;">i</span><span class="mord mathnormal" style="color:OrangeRed;">d</span><span class="mord mathnormal" style="color:OrangeRed;">e</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="color:OrangeRed;border-bottom-width:0.04em;"></span></span><span style="top:-3.74em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="color:OrangeRed;"><span class="mord mathnormal" style="color:OrangeRed;">in</span><span class="mord mathnormal" style="color:OrangeRed;">p</span><span class="mord mathnormal" style="color:OrangeRed;">u</span><span class="mord mathnormal" style="color:OrangeRed;">t</span><span class="mord" style="margin-right:0.02778em;color:OrangeRed;">_</span><span class="mord mathnormal" style="color:OrangeRed;">s</span><span class="mord mathnormal" style="color:OrangeRed;">i</span><span class="mord mathnormal" style="color:OrangeRed;">ze</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mbin" style="color:OrangeRed;">+</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mord" style="color:OrangeRed;">2</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mbin" style="color:OrangeRed;">×</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mord mathnormal" style="color:OrangeRed;">p</span><span class="mord mathnormal" style="color:OrangeRed;">a</span><span class="mord mathnormal" style="color:OrangeRed;">dd</span><span class="mord mathnormal" style="color:OrangeRed;">in</span><span class="mord mathnormal" style="margin-right:0.03588em;color:OrangeRed;">g</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mbin" style="color:OrangeRed;">−</span><span class="mspace" style="color:OrangeRed;margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;color:OrangeRed;">k</span><span class="mord mathnormal" style="margin-right:0.02778em;color:OrangeRed;">er</span><span class="mord mathnormal" style="color:OrangeRed;">n</span><span class="mord mathnormal" style="color:OrangeRed;">e</span><span class="mord mathnormal" style="margin-right:0.01968em;color:OrangeRed;">l</span><span class="mord" style="margin-right:0.02778em;color:OrangeRed;">_</span><span class="mord mathnormal" style="color:OrangeRed;">s</span><span class="mord mathnormal" style="color:OrangeRed;">i</span><span class="mord mathnormal" style="color:OrangeRed;">ze</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:OrangeRed;">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord" style="color:OrangeRed;">1</span></span></span></span></span></p><p>N是输入图片长度，K是滤波器长度（卷积核大小），S是步长</p><h3 id="干货集锦">干货集锦</h3><p><a href="https://www.cntofu.com/book/85/index.html">机器学习原理</a></p><p><a href="https://datawhalechina.github.io/leeml-notes/#/">李宏毅机器学习笔记</a></p><p><a href="https://www.bilibili.com/video/av59538266">李宏毅Bilibili</a></p><p><a href="https://blog.csdn.net/qq_41485273/article/details/111563979">白板推导</a></p><h3 id="信息论">信息论</h3><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011542240.png" alt=""></p><blockquote><p>I(X;Y) = I(Y;X) = H(Y)-H(Y/X) = H(X) – H(X/Y)<br>H(X) + H(Y) = H(X,Y) + I(X;Y)<br>I(X;Y)=H(X) + H(Y) – H(X,Y)</p></blockquote><h3 id="基础概念">基础概念</h3><p><a href="https://zhuanlan.zhihu.com/p/42706477">详解残差网络</a></p><p><a href="https://zhuanlan.zhihu.com/p/68386882">Singular Value Decomposition（SVD奇异值分解）</a></p><p><a href="https://zhuanlan.zhihu.com/p/22751416">数据挖掘|概率图模型（一）</a></p><h4 id="评估标准">评估标准</h4><p><a href="https://www.zhihu.com/question/19645541">查准率，准确率，查全率</a></p><p><a href="https://zhuanlan.zhihu.com/p/97870600">F1值</a></p><blockquote><p>实际上非常简单，<strong>精确率</strong>是针对我们<strong>预测结果</strong>而言的，它表示的是预测为正的样本中有多少是真正的正样本。那么预测为正就有两种可能了，一种就是把<a href="https://www.zhihu.com/search?q=%E6%AD%A3%E7%B1%BB&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A91694636%7D">正类</a>预测为正类(TP)，另一种就是把负类预测为正类(FP)，也就是<br><img src="https://www.zhihu.com/equation?tex=P++%3D+%5Cfrac%7BTP%7D%7BTP%2BFP%7D" alt=""><br>而<strong>召回率</strong>是针对我们原来的<strong>样本</strong>而言的，它表示的是样本中的正例有多少被预测正确了。那也有两种可能，一种是把原来的正类预测成正类(TP)，另一种就是把原来的正类预测为负类(FN)。<br><img src="https://www.zhihu.com/equation?tex=R+%3D+%5Cfrac%7BTP%7D%7BTP%2BFN%7D" alt=""></p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/66063089">自监督学习</a></p><p><a href="https://mp.weixin.qq.com/s/b2q3nexPR7Amx5ficdBh-Q">超详细的NLP预训练语言模型总结清单</a></p><p><a href="https://blog.csdn.net/asialee_bird/article/details/81486700">TF-IDF算法介绍及实现</a></p><p><a href="https://www.zhihu.com/question/20446337">马尔可夫毯（Markov Blanket）</a></p><p><a href="https://www.cnblogs.com/wisir/p/12556353.html">端到端学习</a></p><p><a href="https://zhuanlan.zhihu.com/p/41521695">特征工程与表示学习</a></p><p><a href="https://zhuanlan.zhihu.com/p/62629465">图嵌入</a></p><p><a href="https://zhuanlan.zhihu.com/p/75307407?from_voters_page=true">图神经网络</a></p><p><a href="https://blog.csdn.net/weixin_48629412/article/details/111174968">多模态特征表示和融合</a></p><p><a href="https://blog.csdn.net/tingzhiyi/article/details/114368433">上采样和下采样</a></p><h2 id="经典算法">经典算法</h2><h3 id="机器学习算法">机器学习算法</h3><p><a href="https://blog.csdn.net/v_july_v/category_9261611.html">机器学习十大算法系列</a></p><h4 id="感知机">感知机</h4><p><a href="https://www.zhihu.com/question/320426826">感知机</a></p><h4 id="logistic回归">logistic回归</h4><p><a href="https://www.cnblogs.com/geo-will/p/10468356.html">logistic回归</a></p><h4 id="EM">EM</h4><blockquote><p><a href="https://blog.csdn.net/u010834867/article/details/90762296">EM算法</a><br><a href="https://blog.csdn.net/v_july_v/article/details/81708386">如何通俗理解EM算法</a><br><a href="https://zhuanlan.zhihu.com/p/32925505">从EM到Variational EM</a><br><a href="https://blog.csdn.net/u012771351/article/details/53032365">LDA-隐狄利克雷分布-主题模型</a></p></blockquote><h4 id="贝叶斯">贝叶斯</h4><p><a href="https://www.cnblogs.com/geo-will/p/10468401.html">机器学习|算法笔记-朴素贝叶斯（Naive Bayesian）</a></p><p><a href="https://blog.csdn.net/v_july_v/article/details/40984699">从贝叶斯谈到贝叶斯网络</a></p><p><a href="https://blog.csdn.net/cjneo/article/details/45167223">朴素贝叶斯 VS 逻辑回归 区别</a></p><h4 id="支持向量机（SVM）">支持向量机（SVM）</h4><p><a href="https://zhuanlan.zhihu.com/p/35755150">推导 | SVM详解（1）SVM基本型</a></p><p><a href="https://www.cnblogs.com/geo-will/p/10503218.html">算法笔记-支持向量机</a></p><h4 id="HMM">HMM</h4><blockquote><p><strong><a href="https://zhuanlan.zhihu.com/p/29938926">HMM隐马尔科夫模型</a></strong><br><strong><a href="https://www.cnblogs.com/pinard/p/6945257.html">HMM</a></strong><br><strong><a href="https://blog.csdn.net/weixin_42175217/article/details/105442777?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-0&amp;spm=1001.2101.3001.4242">HMM2</a></strong><br><strong><a href="https://blog.csdn.net/hudashi/article/details/87867916">隐马尔科夫模型</a></strong></p></blockquote><p><strong>隐马尔可夫模型是 先生成状态序列，然后由状态序列生成观测序列，即是先 P(Z) , 再 P(O|Z), 所以拟合的是 P(O, Z)也就是联合概率分布而判别模型拟合的是条件概率分布。HMM在数据量较少的时候，会脑补数据，性能更好。</strong></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011542241.png" alt=""></p><blockquote><p>条件随机场是一种判别式无向图模型，生成式模型是直接对联合分布进行建模，而判别式模型则是对条件分布进行建模，隐马尔科夫模型（HMM）和马尔科夫随机场都是生成模型，而条件随机场(CRF)是判别式模型。CRF可看作给定观测值的马尔科夫随机场。</p></blockquote><p>维特比算法</p><p><a href="https://ah0aangfha.feishu.cn/docs/doccnoVrVCsrIzCEWkxvUlW30hN">Viterbi维特比算法</a></p><h4 id="CRF">CRF</h4><p><a href="https://ah0aangfha.feishu.cn/docs/doccnkchwwM1mp9wrcy9NybCgyg">CRF-条件随机场</a></p><p>为了建一个条件随机场，我们首先要定义一个特征函数集，每个特征函数都以整个句子s，当前位置i，位置i和i-1的标签为输入。然后为每一个特征函数赋予一个权重，然后针对每一个标注序列l，对所有的特征函数加权求和，必要的话，可以把求和的值转化为一个概率值。</p><p><a href="https://www.jianshu.com/p/da49f9a5468c">CRF-条件随机场</a></p><p><a href="https://zhuanlan.zhihu.com/p/70067113">一文理解条件随机场CRF</a></p><p><a href="https://zhuanlan.zhihu.com/p/383307632">机器学习 – 条件随机场 (CRF)</a></p><p><a href="https://zhuanlan.zhihu.com/p/112980214">马尔可夫随机场以及条件随机场</a></p><p><a href="https://www.sohu.com/a/341284906_787107">最通俗易懂的BiLSTM-CRF模型中的CRF层讲</a></p><p><a href="https://anxiang1836.github.io/2019/11/05/NLP_From_HMM_to_CRF/">从隐马尔科夫到条件随机场</a></p><h4 id="决策树">决策树</h4><p><a href="https://zhuanlan.zhihu.com/p/30059442">决策树(Decision Tree)：通俗易懂之介绍</a></p><p><a href="https://www.cnblogs.com/muzixi/p/6566803.html">决策树–信息增益，信息增益比，Geni指数的理解</a></p><h3 id="其他算法">其他算法</h3><p><a href="https://blog.csdn.net/yangyin007/article/details/82385967">随机森林算法及其实现（Random Forest）</a></p><h2 id="神经网络概念详解">神经网络概念详解</h2><h3 id="基础概念-2">基础概念</h3><h4 id="bottleneck">bottleneck</h4><p><a href="https://blog.csdn.net/duan19920101/article/details/104349188">bottleneck</a></p><h3 id="RNN">RNN</h3><p><a href="https://www.jianshu.com/p/87aa03352eb9">循环神经网络（RNN）浅析</a></p><p><a href="https://www.jianshu.com/p/b2b95f945a98">Seq2Seq模型概述</a></p><p><a href="https://zhuanlan.zhihu.com/p/32085405">人人都能看懂的LSTM</a></p><h3 id="Transformer">Transformer</h3><h4 id="Attention">Attention</h4><ul><li><a href="https://zhuanlan.zhihu.com/p/358206572">MultiHeadAttention实现详解</a></li><li><a href="http://nlp.seas.harvard.edu/2018/04/03/attention.html">The Annotated Transformer</a></li></ul><p><a href="https://www.jianshu.com/p/1d67638139da">attention机制原理及简单实现</a></p><p><a href="https://blog.csdn.net/baidu_29571167/article/details/89012223">深入理解shortcut</a></p><p><a href="https://blog.csdn.net/qq_38906523/article/details/79838000">Encoder-Decoder</a></p><h4 id="BERT">BERT</h4><h5 id="论文理论">论文理论</h5><h6 id="基础-2">基础</h6><p><a href="https://zhuanlan.zhihu.com/p/48612853">词向量之BERT</a><br><a href="https://zhuanlan.zhihu.com/p/248017234">bert的输入输出是什么</a></p><p><a href="https://blog.csdn.net/Sakura55/article/details/86679826">深度学习----Transformer模型之图示进阶篇</a></p><p><a href="https://www.bilibili.com/video/BV1J441137V6">李宏毅-Transformer</a></p><p><a href="https://www.bilibili.com/video/BV1H441187js?p=1">60分钟带你掌握NLP BERT理论与实战</a></p><p><a href="https://www.bilibili.com/video/BV17441137fa/?spm_id_from=333.788.videocard.11">李宏毅-ELMO, BERT, GPT讲解</a></p><p><a href="https://zhuanlan.zhihu.com/p/53682800">nlp中的Attention注意力机制+Transformer详解</a></p><p><a href="https://zhuanlan.zhihu.com/p/52119092">NLP中的RNN、Seq2Seq与attention注意力机制</a></p><p><a href="https://zhuanlan.zhihu.com/p/53682800">nlp中的Attention注意力机制+Transformer详解</a></p><h6 id="详解">详解</h6><p><a href="https://zhuanlan.zhihu.com/p/54356280">Bert详解</a><br><a href="https://zhuanlan.zhihu.com/p/338817680">Transformer模型详解（图解最完整版）</a><br><a href="https://zhuanlan.zhihu.com/p/48508221">详解Transformer （Attention Is All You Need）</a><br><a href="https://blog.csdn.net/weixin_43922901/article/details/102602557">Bert/Transformer模型的参数大小计算</a></p><h5 id="transformer代码讲解">transformer代码讲解</h5><h6 id="入门">入门</h6><ul><li><a href="https://www.cnblogs.com/dogecheng/p/11907036.html">手把手教你用Pytorch-Transformers——部分源码解读及相关说明（一） - 那少年和狗 - 博客园 (cnblogs.com)</a></li><li><a href="https://www.cnblogs.com/dogecheng/p/11911909.html">手把手教你用Pytorch-Transformers——实战（二） - 那少年和狗 - 博客园 (cnblogs.com)</a></li></ul><p><a href="https://blog.csdn.net/mch2869253130/article/details/105538245">pytorch-pretrained-bert简单使用</a>  老版库</p><h6 id="详解-2">详解</h6><p><a href="https://zhuanlan.zhihu.com/p/360988428">transformer代码详解（一）——HuggingFace Transformers最新版本源码解读</a></p><p><a href="https://blog.csdn.net/weixin_39422563/article/details/107180849">bert论文源码详解</a></p><p><a href="https://blog.csdn.net/weixin_36949593/article/details/106515904">Huggingface-transformers项目源码剖析及Bert命名实体识别实战</a></p><h6 id="其他">其他</h6><p><a href="https://blog.csdn.net/weixin_42167712/article/details/110890965">Transformer: Training and fine-tuning(六)</a></p><p><a href="https://zhuanlan.zhihu.com/p/349492378">BERT中的激活函数GELU：高斯误差线性单元</a></p><h4 id="VisionTransformer">VisionTransformer</h4><p><a href="https://zhuanlan.zhihu.com/p/348593638">Vision Transformer , Vision MLP 超详细解读 (原理分析+代码解读) (目录)</a></p><p><a href="https://blog.csdn.net/weixin_44966641/article/details/118733341">Vision Transformer（ViT）PyTorch代码全解析（附图解）</a></p><p><a href="https://zhuanlan.zhihu.com/p/350837279">视觉 Transformer 优秀开源工作：timm 库 vision transformer 代码解读</a></p><p><a href="https://blog.csdn.net/weixin_44966641/article/details/118733341">Vision Transformer（ViT）PyTorch代码全解析（附图解）</a></p><p><a href="https://blog.csdn.net/songyu0120/article/details/103884586">pytorch中model eval和torch no grad()的区别_江前云后的博客-CSDN博客_torch.nograd</a></p><p><a href="https://cloud.tencent.com/developer/article/1891357">论文解释：Vision Transformers和CNN看到的特征是相同的吗？</a></p><h2 id="经典模型">经典模型</h2><h3 id="VGG16">VGG16</h3><p><a href="https://www.cnblogs.com/lfri/p/10493408.html">VGG16详解</a></p><h3 id="ResNet">ResNet</h3><p><a href="https://zhuanlan.zhihu.com/p/91385516">一文读懂残差网络ResNet</a></p><p><a href="https://zhuanlan.zhihu.com/p/79378841">ResNet网络结构分析</a></p><h2 id="实战任务">实战任务</h2><h3 id="文本分类">文本分类</h3><p><a href="https://www.cnblogs.com/jiangxinyang/p/10207273.html">文本分类实战</a></p><h3 id="NER">NER</h3><h4 id="数据集">数据集</h4><p><a href="https://www.jianshu.com/p/5a5bcfe5c185">序列标注</a></p><p><a href="https://www.jianshu.com/p/c7c3ace12044">序列标注和中文命名实体识别</a></p><p><a href="https://www.datafountain.cn/datasets/5684">命名实体识别学习-数据集介绍-conll03</a></p><p><a href="https://blog.csdn.net/StarLib/article/details/106933974">LSTM+CRF序列标注</a></p><h3 id="关系抽取">关系抽取</h3><p><a href="https://www.cnblogs.com/sandwichnlp/p/12049829.html">简介</a></p><p><a href="https://zhuanlan.zhihu.com/p/74886839">实体关系联合抽取总结</a></p><p><a href="https://blog.csdn.net/dugudaibo/article/details/79120627">结构学习：序列标注</a></p><h2 id="多模态">多模态</h2><p><a href="https://blog.csdn.net/qq_39388410/article/details/105907097">跨模态检索</a></p><p><a href="https://blog.csdn.net/qq_39388410/article/details/105145074">多模态融合</a></p><h2 id="问答">问答</h2><p><a href="https://www.zhihu.com/question/20446337">生成模型和判别模型的区别</a></p><ul><li>生成模型数据量小时更优，判别模型数据量越大越好</li><li>生成模型要求数据独立同分布，判别模型没有要求</li></ul><h2 id="TEMP">TEMP</h2><h2 id="Others">Others</h2><p><a href="https://blog.csdn.net/moxibingdao/article/details/106667760">自监督、半监督、无监督学习，傻傻分不清楚？最新综述来帮你！</a></p><p><a href="https://blog.csdn.net/weixin_39612677/article/details/110394322">有监督学习和无监督学习举例_对比自监督学习</a></p><p><img src="https://raw.githubusercontent.com/ConanSteve/images/master/blog/202204011542242.png" alt=""></p><p>建议路线，ng课程入门，知道有哪些算法，大致怎么做，然后去kaggle打个入门赛，别做特征工程，把会的算法全用上。然后放下比赛，开始读这本书，同时看机器学习基石或其他比较数学化的进阶课程，这一步不需要你敲代码，你要会的是滚瓜烂熟的推导，做到这一步，再去kaggle参加奖金赛，阅读kernel，学习state of the art 模型，学习特征工程，再在学习过程中阅读最新的论文或者经典的论文，不断迭代这个过程，别淹死在什么机器学习实战上，有现成的轮子不用，非得费那个劲，除非你科班毕业，代码能力扎实，不然你能不能从头实现一遍决策树对你找不找到工作没有任何一毛钱关系。笔试不会考你如何实现hmm，只会考数据结构与算法，面试只会让你推导。</p>]]></content>
      
      
      <categories>
          
          <category> 机器学习笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MachineLearning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多GPU训练</title>
      <link href="/2021/10/10/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/train-by-ddp/"/>
      <url>/2021/10/10/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Pytorch/train-by-ddp/</url>
      
        <content type="html"><![CDATA[<p>对pytorch多GPU训练有一定的疑惑，这里做一个记录。<br>首先要对pytorch中的两种并行训练实现方式：1.DataParallel； 2.DDP有一定的认识。可参考:</p><p>Pytorch 中通过 torch.distributed 包提供分布式支持，包括 GPU 和 CPU 的分布式训练支持。Pytorch 分布式目前只支持 Linux。</p><p>在此之前，torch.nn.DataParallel 已经提供数据并行的支持，但是其不支持多机分布式训练，且底层实现相较于 distributed 的接口，有些许不足。</p><p>torch.distributed 的优势如下：</p><p><strong>每个进程对应一个独立的训练过程</strong>，且只对梯度等少量数据进行信息交换。<br>在每次迭代中，每个进程具有自己的 <strong>optimizer</strong> ，并独立完成所有的优化步骤，进程内与一般的训练无异。</p><p>在各进程梯度计算完成之后，各进程需要将梯度进行汇总平均，然后再由 rank=0 的进程，将其 broadcast 到所有进程。之后，各进程用该梯度来更新参数。</p><p>由于 <strong>各进程中的模型，初始参数一致</strong> (初始时刻进行一次 broadcast)，而每次用于更新参数的梯度也一致，因此，各进程的模型参数始终保持一致。</p><p>而在 DataParallel 中，全程维护一个 optimizer，对各 GPU 上梯度进行求和，而在主 GPU 进行参数更新，之后再将模型参数 broadcast 到其他 GPU。</p><p>相较于 DataParallel，torch.distributed 传输的数据量更少，因此速度更快，效率更高。</p><p>distributed的方式会在每个GPU上单独放一个 <strong>模型副本，optimizer副本，不同的dataloader</strong></p><h2 id="1-rank">1. rank</h2><ul><li>rank：<br>表示进程序号，用于进程间通讯，表征进程优先级。rank = 0 的主机为 master 节点。</li><li>local_rank：<br>进程内， <strong>GPU 编号</strong>， <strong>非显式参数</strong>，由 <strong>torch.distributed.launch</strong> 内部指定。比方说， rank = 3，local_rank = 0 表示第 3 个进程内的第 1 块 GPU。</li></ul><h2 id="2-init-process-group初始化">2. init_process_group初始化</h2><p>分布式训练的时候，有多种初始化方式，参考链接的第二篇文章。比较常用的是nccl的。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">torch.distributed.init_process_group(backend=&#x27;nccl&#x27;, init_method=&#x27;env://&#x27;)  # distributed backend</span><br></pre></td></tr></table></figure><h2 id="3-DistributedSampler">3. DistributedSampler</h2><p><strong>多GPU训练的时候，采用DDP的方式，每个GPU上都有一个模型副本，正确的情况应该是每个GPU上送入不同的数据，前向，求loss，整合loss，反向梯度</strong><br>pytorch中有DistributedSampler实现对单个dataset进行多GPU分发。详情看后面的例子</p><p><strong>应该还要将对应的数据放到不同的GPU上，比如用：input = <a href="http://input.to">input.to</a>(device)</strong></p><h2 id="4-DistributedDataParallel">4. DistributedDataParallel</h2><p>模型封装：</p><ul><li>将模型放到对应的GPU上</li><li>对模型进行封装</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;模型搬移到GPU：&quot;</span>, device)</span><br><span class="line">model.to(device)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> torch.cuda.device_count() &gt; <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Let&#x27;s use&quot;</span>, torch.cuda.device_count(), <span class="string">&quot;GPUs!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;模型封装的gpu：&quot;</span>, local_rank)</span><br><span class="line">    model = torch.nn.parallel.DistributedDataParallel(model,</span><br><span class="line">                                                      device_ids=[local_rank],</span><br><span class="line">                                                      output_device=local_rank)</span><br></pre></td></tr></table></figure><h2 id="5-例子">5. 例子</h2><p>这里用一个简单的例子对以上的几个方面进行测试，单机多卡的情况。<br><strong><a href="http://test.py">test.py</a></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset, DataLoader</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> torch.utils.data.distributed <span class="keyword">import</span> DistributedSampler</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_args</span>():</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&#x27;Train Multitask network&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--sync-bn&#x27;</span>, action=<span class="string">&#x27;store_true&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;use SyncBatchNorm, only available in DDP mode&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--local_rank&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">int</span>, default=-<span class="number">1</span>, <span class="built_in">help</span>=<span class="string">&#x27;DDP parameter, do not modify&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--conf-thres&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">float</span>, default=<span class="number">0.001</span>, <span class="built_in">help</span>=<span class="string">&#x27;object confidence threshold&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--iou-thres&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">float</span>, default=<span class="number">0.6</span>, <span class="built_in">help</span>=<span class="string">&#x27;IOU threshold for NMS&#x27;</span>)</span><br><span class="line">    args = parser.parse_args()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> args</span><br><span class="line"></span><br><span class="line">args = parse_args()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;local_rank: &quot;</span>, args.local_rank)</span><br><span class="line"></span><br><span class="line">torch.distributed.init_process_group(backend=<span class="string">&#x27;nccl&#x27;</span>, init_method=<span class="string">&#x27;env://&#x27;</span>)</span><br><span class="line"></span><br><span class="line">input_size = <span class="number">5</span></span><br><span class="line">output_size = <span class="number">2</span></span><br><span class="line">batch_size = <span class="number">4</span></span><br><span class="line">data_size = <span class="number">40</span></span><br><span class="line"></span><br><span class="line">local_rank = torch.distributed.get_rank()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;local rank: &quot;</span>, local_rank)</span><br><span class="line">torch.cuda.set_device(local_rank)</span><br><span class="line">device = torch.device(<span class="string">&quot;cuda&quot;</span>, local_rank)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;device: &quot;</span>, device)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomDataset</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, size, length</span>):</span><br><span class="line">        self.<span class="built_in">len</span> = length</span><br><span class="line">        self.data = torch.randn(length, size).to(<span class="string">&#x27;cuda&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, index</span>):</span><br><span class="line">        <span class="keyword">return</span> self.data[index]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">len</span></span><br><span class="line"></span><br><span class="line">dataset = RandomDataset(input_size, data_size)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;length dataset: &quot;</span> , <span class="built_in">len</span>(dataset))</span><br><span class="line"></span><br><span class="line">sampler = <span class="built_in">iter</span>(DistributedSampler(dataset))</span><br><span class="line"></span><br><span class="line">listsampler = <span class="built_in">list</span>(sampler)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;list sampler len:&quot;</span>, <span class="built_in">len</span>(listsampler))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;list sampler&quot;</span>, listsampler)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;sort sampler: &quot;</span>, <span class="built_in">sorted</span>(listsampler))</span><br><span class="line"></span><br><span class="line">rand_loader = DataLoader(dataset=dataset,</span><br><span class="line">                         batch_size=batch_size,</span><br><span class="line">                         sampler=DistributedSampler(dataset))</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Model</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, input_size, output_size</span>):</span><br><span class="line">        <span class="built_in">super</span>(Model, self).__init__()</span><br><span class="line">        self.fc = nn.Linear(input_size, output_size)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, <span class="built_in">input</span></span>):</span><br><span class="line">        output = self.fc(<span class="built_in">input</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;  In Model: input size&quot;</span>, <span class="built_in">input</span>.size(),</span><br><span class="line">              <span class="string">&quot;output size&quot;</span>, output.size())</span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">model = Model(input_size, output_size)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;模型搬移到GPU：&quot;</span>, device)</span><br><span class="line">model.to(device)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> torch.cuda.device_count() &gt; <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Let&#x27;s use&quot;</span>, torch.cuda.device_count(), <span class="string">&quot;GPUs!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;模型封装的gpu：&quot;</span>, local_rank)</span><br><span class="line">    model = torch.nn.parallel.DistributedDataParallel(model,</span><br><span class="line">                                                      device_ids=[local_rank],</span><br><span class="line">                                                      output_device=local_rank)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> data <span class="keyword">in</span> rand_loader:</span><br><span class="line">    <span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">        input_var = data</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        input_var = data</span><br><span class="line"></span><br><span class="line">    output = model(input_var)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Outside: input size&quot;</span>, input_var.size(), <span class="string">&quot;output_size&quot;</span>, output.size())</span><br></pre></td></tr></table></figure><p>命令：<code>CUDA_VISIBLE_DEVICES=0,1 python -m torch.distributed.launch --nproc_per_node=2 test.py</code></p><p>输出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">*****************************************</span><br><span class="line">Setting OMP_NUM_THREADS environment variable for each process to be 1 in default, to avoid your system being overloaded, please further tune the variable for optimal performance in your application as needed. </span><br><span class="line">*****************************************</span><br><span class="line">local_rank:  1</span><br><span class="line">local_rank:  0</span><br><span class="line">local rank:  0</span><br><span class="line">local rank:  1</span><br><span class="line">device:  device:  cuda:1</span><br><span class="line">cuda:0</span><br><span class="line">length dataset:  40</span><br><span class="line">length dataset:  40</span><br><span class="line">list sampler len: 20</span><br><span class="line">list sampler [16, 5, 14, 29, 26, 6, 25, 1, 32, 18, 0, 19, 36, 7, 38, 30, 12, 34, 22, 13]</span><br><span class="line">sort sampler:  [0, 1, 5, 6, 7, 12, 13, 14, 16, 18, 19, 22, 25, 26, 29, 30, 32, 34, 36, 38]</span><br><span class="line">list sampler len: 20</span><br><span class="line">list sampler [4, 21, 11, 39, 17, 2, 20, 24, 15, 28, 9, 10, 8, 27, 37, 31, 35, 3, 33, 23]</span><br><span class="line">sort sampler:  [2, 3, 4, 8, 9, 10, 11, 15, 17, 20, 21, 23, 24, 27, 28, 31, 33, 35, 37, 39]</span><br><span class="line">模型搬移到GPU：模型搬移到GPU：  cuda:1</span><br><span class="line">cuda:0</span><br><span class="line">Let&#x27;s use 2 GPUs!</span><br><span class="line">模型封装的gpu：Let&#x27;s use  12</span><br><span class="line"> GPUs!</span><br><span class="line">模型封装的gpu： 0</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br><span class="line">  In Model: input size torch.Size([4, 5]) output size torch.Size([4, 2])</span><br><span class="line">Outside: input size torch.Size([4, 5]) output_size torch.Size([4, 2])</span><br></pre></td></tr></table></figure><p>可以看到：</p><ul><li>local_rank是 <code>torch.distributed.launch</code>隐含指定的，这里我们指定了2块GPU，分别启动了2个两个线程，所以 <code>torch.distributed.launch</code>会将local_rank设为0，1</li><li>两个DistributedSampler是len(dataset)的一半，切二者的index数是不重合的</li><li>模型是单独分配到某个GPU，再进行封装的。</li></ul><h2 id="reference">reference</h2><ol><li><a href="https://blog.csdn.net/u011622208/article/details/120682874">Origin</a></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>在M1芯片macOS上安装jdk8</title>
      <link href="/2021/03/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-install-jdk8-on-m1/"/>
      <url>/2021/03/09/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-install-jdk8-on-m1/</url>
      
        <content type="html"><![CDATA[<p>M1 使用全新的系统架构，如果你正在使用搭载 M1 芯片的 Macbook 或 Mac mini 电脑，你一定会困惑如何解决 Java 开发环境的问题。截止2021年8月，甲骨文 (Oracle) 的 JDK 尚未针对苹果 M1 芯片进行适配。 因此如果将甲骨文 JDK 安装到 M1 芯片的 Mac 电脑上，Mac OS 将会使用 Rosetta 2 对其进行转译运行，导致生产力性能大幅下跌，同时开发过程中还可能会遇到兼容性问题。</p><p>如果想以原生的方式在 M1 芯片的电脑上运行 Java，我们可以选择使用 Azul Zulu 的 Java JDK 来解决改问题。</p><p>Zulu JDK 支持的 Java 版本有：8，9，10，11，12，13，14，15。</p><p>本次安装我们将选择较为通用的 JDK 8 来搭建环境。</p><p>本教程所使用 Mac 之配置详情如下：</p><ul><li><p>Mac mini ( M1, 2020 )</p></li><li><p>16 GB 内存</p></li><li><p>512 GB 存储内存</p></li><li><p>macOS Big Sur 11.2.1</p></li></ul><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/mac-mini-config.png?x86153" alt="mac-mini-config.png (586×313) (winsonlo.com)"></p><h2 id="从-Zulu-JDK-官方网站下载-JDK-安装包">从 Zulu JDK 官方网站下载 JDK 安装包</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Java Version: 对应 Java 版本，如：Java 8 (LTS)</span><br><span class="line">Operating Systems: 选择 macOS</span><br><span class="line">Architecture: 选择 ARM 64-bit</span><br><span class="line">Java Package: JDK</span><br></pre></td></tr></table></figure><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/08/zulu-jdk8-download-selection.png" alt="zulu-jdk8-download-selection.png (1473×663) (winsonlo.com)"></p><p>本次我将选择 Java 8 (LTS) 的 “8u282b08Zulu: 8.52.0.23” 版本，同时以 .dmg 安装包的方式安装以获得更加便捷的安装体验。</p><p>你可<a href="https://cdn.azul.com/zulu/bin/zulu8.52.0.23-ca-jdk8.0.282-macosx_x64.dmg">点击这里</a>直接下载。 <em>（链接对应 JDK 版本号: 8u282b08Zulu: 8.52.0.23，格式为 dmg 安装包，如需最新版本或其他格式的安装方式，请直接前往官方下载页面下载。）</em></p><p>***注意：**请选择 ARM 64-bit(ARMv8) 版本的安装包，切勿选择 x86 64-bit 版本，否则所安装的 JDK 环境后续运行时，Mac 将调用 Rosetta 2 将其转译，使其运行速度变得极为缓慢，性能大幅度下跌。</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-28.png" alt="image-28.png (1197×354) (winsonlo.com)"></p><h2 id="运行-Zulu-JDK-8-安装包">运行 Zulu JDK 8 安装包</h2><p>下载完毕后，你将得到一个 Zulu JDK 的安装包，双击以打开并运行它。安装包打开后，双击右边的按钮。</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-29.png?x86153" alt="image-29.png (600×509) (winsonlo.com)"></p><p>直接点击「继续」以进入下一步</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-30.png?x86153" alt="image-30.png (620×444) (winsonlo.com)"></p><p>选择你希望安装 JDK 的硬盘，通常就是你默认的 Mac 系统盘。然后点击「继续」以进入下一步。</p><p>继续点击「安装」，确认将 Zulu JDK 8 安装到 Mac 上。</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-31.png?x86153" alt="image-31.png (620×444) (winsonlo.com)"></p><p>点击「安装」后，你需要输入你 Mac 的密码或使用 Apple Watch 以授权安装器将 Zulu JDK 8 安装到你的 Mac 上。</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-32.png?x86153" alt="image-32.png (446×126) (winsonlo.com)"></p><p>授权完成后，安装器将会自动将 Zulu JDK 8 安装到你的 Mac 上。</p><h2 id="大功告成">大功告成</h2><p>安装器结束安装后，你将会见到「安装成功」的提示页面。此时，前往 Mac 的终端，并输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><p>执行命令后，当你看到如下输出，则证明 Zulu JDK 8 已成功安装在你的 Mac 上。</p><p><img src="https://www.winsonlo.com/wp-content/uploads/2021/03/image-38.png?x86153" alt="image-38.png (654×371) (winsonlo.com)"></p><p>安装完 Zulu JDK 8 后，你可以在搭载 M1 芯片的 Mac 上搭建并部署相关开发环境。</p><h2 id="开发环境的搭建">开发环境的搭建</h2><p>欢迎前往查看 M1 (Apple Silicon) 开发环境部署的教程。</p><p><a href="https://www.winsonlo.com/it/howto/apache-netbeans-12-on-m1/">《如何在苹果M1芯片 (Apple Silicon) 上安装 Apache Netbeans 12 以搭建 Web 开发环境》</a></p><h2 id="JDR-环境的安装">JDR 环境的安装</h2><p>Azul zulu 同时提供可运行在 M1 芯片上 JDR，安装方法与安装 JDK 相似，前往<a href="https://www.azul.com/downloads/?package=jre">下载页面</a>选择对应版本的安装包即可。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>在macOS上安装jdk</title>
      <link href="/2020/11/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-install-jdk/"/>
      <url>/2020/11/11/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/2022-11-11-install-jdk/</url>
      
        <content type="html"><![CDATA[<h2 id="jdk下载地址">jdk下载地址</h2><ul><li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Oracle</a></li></ul><blockquote><p>不支持M1版jdk8</p></blockquote><ul><li><a href="https://www.azul.com/downloads/zulu-community/?package=jdk">zulu</a></li></ul><blockquote><p>支持M1版jdk8</p></blockquote><h2 id="1、验证">1、验证</h2><p>判断当前Mac是否安装了jdk<br>如果出现以下情况表示还未安装jdk<br><img src="https://img-blog.csdnimg.cn/20200707152333604.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="2、下载">2、下载</h2><h3 id="获取Mac版本的Java安装包">获取Mac版本的Java安装包</h3><p>推荐地址：<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a><br>这边是8u251版本，下载的时候可能需要注册一个Oracle账户登录后，才可以进行下载<br><img src="https://img-blog.csdnimg.cn/20200707151549467.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""><br>备注：下载的时间比较久，在mac上的下载会比较慢</p><h2 id="3、安装">3、安装</h2><h3 id="双击已经下载好的dmg文件进行安装">双击已经下载好的dmg文件进行安装</h3><p><img src="https://img-blog.csdnimg.cn/2020070715223888.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="双击-pkg文件">双击.pkg文件</h3><p><img src="https://img-blog.csdnimg.cn/20200707152720204.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="安装完成">安装完成</h3><p><img src="https://img-blog.csdnimg.cn/20200707152609916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="4、环境配置">4、环境配置</h2><p>1、MAC的环境变量的配置都是在终端理进行，按键盘&quot;Ctrl + 空格&quot;组合键，调出Spotlight搜索，在这里可以快速启动终端，输入 <code>ter&amp;#xFF08;terminal.app&amp;#xFF09;</code>,然后回车，即可打开终端：<br><img src="https://img-blog.csdnimg.cn/2020070716222455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="Mac在安装jdk的时候自动配置好了">Mac在安装jdk的时候自动配置好了</h3><p>所以省略了配置环境的步骤</p><h3 id="验证是否成功">验证是否成功</h3><p>在终端输入 <code>java</code>，验证是否成功安装了java。显示以下信息表示正确<br><img src="https://img-blog.csdnimg.cn/20200707163710353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""><br>接下来输入 <code>javac</code>验证是否成功配置好环境变量。显示以下信息表示正确。<br><img src="https://img-blog.csdnimg.cn/20200707163842538.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""><br>如果没有配置成功，可以手动找到JDK的本地安装目录，然后进行配置</p><h2 id="5、Mac下查看已安装的jdk版本及其安装目录">5、Mac下查看已安装的jdk版本及其安装目录</h2><p>可以通过在命令行输入 <code>java -version</code>查看是否安装了jdk</p><p>打开终端输入： <code>/usr/libexec/java_home -V</code></p><blockquote><p>注意：输入命令参数区分大小写(-v是不对的，必须是-V)</p></blockquote><p>如图：3个红框内依次为：输入命令； 当前Mac已安装jdk目录； Mac默认使用的jdk版本；<br><img src="https://img-blog.csdnimg.cn/20200707163423642.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3h1aml1YmE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="Reference">Reference</h2><ul><li><a href="https://blog.csdn.net/xujiuba/article/details/107182028">Mac 安装 Java jdk 环境配置</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux 下十大命令行下载工具</title>
      <link href="/2016/05/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-08-01-linux-download-tools/"/>
      <url>/2016/05/21/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Linux/2022-08-01-linux-download-tools/</url>
      
        <content type="html"><![CDATA[<p>我们一想到Linux，肯定会想到黑白终端，真正的Linux用户总是偏爱从终端来进行工作，哪怕是用于下载。相比某种GUI工具，命令行下载工具可以帮助用户更迅速地从网上下载任何东西。有许多可满足一般用途、甚至用于torrent的下载工具，不过相比其它工具，只有像curl或者wget这少数几款工具更受欢迎。我们在本教程中将探讨用于在Linux环境中下载的十大命令行工具。不妨逐一探讨这些CLI工具。</p><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062101c28s3s4lyc58cs5s.png" alt=""></p><h3 id="1-Wget">1.Wget</h3><p>这是最有名的工具，可用于通过CLI下载。这款工具功能很丰富，可以充当某种功能完备的GUI下载管理器，它拥有一款理想的下载管理器所需要的所有功能，比如它可以恢复下载，可以下载多个文件，出现某个连接问题后，可以重新尝试下载，你甚至可以管理最大的下载带宽。</p><p><strong>例子</strong></p><p>从网上下载某个示例文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4 </span><br></pre></td></tr></table></figure><p><strong>示例输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">--2016-05-11 16:56:23-- http://www.sample- </span><br><span class="line"> videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4 </span><br><span class="line">Resolving www.sample-videos.com (www.sample-videos.com)... </span><br><span class="line">166.62.28.98 </span><br><span class="line">Connecting to www.sample-videos.com (www.sample- </span><br><span class="line">videos.com)|166.62.28.98|:80... connected. </span><br><span class="line">HTTP request sent, awaiting response... 200 OK </span><br><span class="line">Length: 1055736 (1.0M) </span><br><span class="line">Saving to: ‘big_buck_bunny_720p_1mb.mp4’ </span><br><span class="line">100%[==========================================================================================================&gt;] 10,55,736 52.1KB/s in 24s </span><br><span class="line">2016-05-11 16:56:47 (43.4 KB/s) - ‘big_buck_bunny_720p_1mb.mp4’ saved [1055736/1055736] </span><br></pre></td></tr></table></figure><p>后台下载文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -b http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4 </span><br></pre></td></tr></table></figure><p>如果互联网连接出现中断，恢复下载。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -c http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4</span><br></pre></td></tr></table></figure><p>从某个密码保护的ftp软件库下载文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --ftp-user=&lt;user_name&gt; --ftp-password=&lt;Give_password&gt; Download-url-address </span><br></pre></td></tr></table></figure><h3 id="2-Curl">2.Curl</h3><p>Curl是另一种高效的下载工具，它可以用来上传或下载文件，只要使用一个简单的命令。它支持暂停和恢复下载程序包，并支持数量最多的Web协议，可预测下载完成还剩余多少时间，可通过进度条来显示下载进度。它是所有Linux发行版的内置工具。这是一款快速高效的工具，不妨看一下。</p><p><strong>例子：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -o um.mp4 http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4</span><br></pre></td></tr></table></figure><p><strong>示例输出：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">% </span><span class="language-bash">Total % Received % Xferd Average Speed Time Time Time Current</span> </span><br><span class="line">Dload Upload Total Spent Left Speed </span><br><span class="line">100 1030k 100 1030k 0 0 105k 0 0:00:09 0:00:09 --:--:-- 111k </span><br></pre></td></tr></table></figure><p>借助-o选项，提供名称，下载文件会以该名称保存；如使用-O选项，文件就会以原始名称保存。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4</span><br></pre></td></tr></table></figure><p>使用一个curl命令，下载多个文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -O http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_2mb.mp4 -O</span><br></pre></td></tr></table></figure><h3 id="3-Axel">3.Axel</h3><p>这是wget的出色替代者，是一款轻量级下载实用工具。它实际上是个加速器，因为它打开了多路http连接，可下载独立文件片段，因而文件下载起来更快速。</p><p><strong>安装</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install axel</span><br></pre></td></tr></table></figure><p><strong>参数</strong><br>axel [options] url1 [url2] [url…]</p><table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td>–max-speed=x , -s x</td><td>最高速度x</td></tr><tr><td>–num-connections=x , -n x</td><td>连接数x</td></tr><tr><td>–output=f , -o f</td><td>下载为本地文件f</td></tr><tr><td>–search[=x] , -S [x]</td><td>搜索镜像</td></tr><tr><td>–header=x , -H x</td><td>添加头文件字符串x（指定 HTTP header）</td></tr><tr><td>–user-agent=x , -U x</td><td>设置用户代理（指定 HTTP user agent）</td></tr><tr><td>–no-proxy ， -N</td><td>不使用代理服务器</td></tr><tr><td>–quiet ， -q</td><td>静默模式</td></tr><tr><td>–verbose ，-v</td><td>更多状态信息</td></tr><tr><td>–alternate ， -a</td><td>Alternate progress indicator</td></tr><tr><td>–help ，-h</td><td>帮助</td></tr><tr><td>–version ，-V</td><td>版本信息</td></tr></tbody></table><p><strong>例子</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">axel http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4 </span><br><span class="line">Initializing download: http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4</span><br></pre></td></tr></table></figure><p><strong>示例输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">File size: 1055736 bytes  </span><br><span class="line"> Opening output file big_buck_bunny_720p_1mb.mp4.0  </span><br><span class="line"> Starting download  </span><br><span class="line">[ 0%] .......... .......... .......... .......... .......... [ 64.9KB/s] </span><br><span class="line">[ 4%] .......... .......... .......... .......... .......... [ 83.0KB/s] </span><br><span class="line">[ 9%] .......... .......... .......... .......... .......... [ 91.5KB/s] </span><br><span class="line">[ 14%] .......... .......... .......... .......... .......... [ 96.8KB/s] </span><br><span class="line">[ 19%] .......... .......... .......... .......... .......... [ 100.2KB/s] </span><br><span class="line">[ 24%] .......... .......... .......... .......... .......... [ 102.7KB/s] </span><br><span class="line">[ 29%] .......... .......... .......... .......... .......... [ 104.6KB/s] </span><br><span class="line">[ 33%] .......... .......... .......... .......... .......... [ 86.9KB/s] </span><br><span class="line">[ 38%] .......... .......... .......... .......... .......... [ 77.1KB/s] </span><br><span class="line">[ 43%] .......... .......... .......... .......... .......... [ 64.8KB/s] </span><br><span class="line">[ 48%] .......... .......... .......... .......... .......... [ 66.8KB/s] </span><br><span class="line">[ 53%] .......... .......... .......... .......... .......... [ 72.8KB/s] </span><br><span class="line">[ 58%] .......... .......... .......... ..... </span><br><span class="line">Connection 1 finished </span><br><span class="line">,,,,,,,,,, ,,,,,,,,,, ,,,,,,,,,, ,,,,,..... .......... [ 74.1KB/s] </span><br><span class="line">[ 63%] .......... .......... .......... .......... .......... [ 79.8KB/s] </span><br><span class="line">[ 67%] .......... .......... .......... .......... .......... [ 84.5KB/s] </span><br><span class="line">[ 72%] .......... .......... ..... </span><br><span class="line">Connection 2 finished </span><br><span class="line">,,,,,,,,, ,,,,,,,,,, ,,,,,..... .......... .......... [ 86.3KB/s]  </span><br><span class="line">[ 77%] .......... .......... .......... .......... .......... [ 91.6KB/s] </span><br><span class="line">[ 82%] .......... .......... .......... .......... .......... [ 96.7KB/s] </span><br><span class="line">[ 87%] .......... .......... .......... .......... .......... [ 101.6KB/s] </span><br><span class="line">[ 92%] .......... .......... .......... ... </span><br><span class="line">Connection 0 finished </span><br><span class="line">,,,,,,,,,, ,,,,,,,,,, ,,,,,,,,,, ,,,....... .......... [ 105.9KB/s]  </span><br><span class="line">[ 96%] .......... .......... .......... </span><br><span class="line">Downloaded 1031.0 kilobytes in 9 seconds. (108.66 KB/s) </span><br></pre></td></tr></table></figure><h3 id="4-Youtube-dl">4.Youtube-dl</h3><p>这是一款专用工具，可以通过命令行从YouTube下载视频，这是个易于安装的程序包，可用来下载一大批文件。</p><p><strong>安装</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl https://yt-dl.org/latest/youtube-dl -o /usr/local/bin/youtube-dl </span><br></pre></td></tr></table></figure><p>变更文件权限：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod a+rx /usr/local/bin/youtube-dl </span><br></pre></td></tr></table></figure><p><strong>例子</strong></p><p>下载一些视频，只要为命令添加视频URL参数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl https://www.youtube.com/watch?v=UZW2hs-2OAI </span><br></pre></td></tr></table></figure><p>想下载视频列表，将所有URL拷贝到一个文本文件中，然后运行下面这个命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl -a &lt;name_of_your_text_file.txt&gt; </span><br></pre></td></tr></table></figure><p><strong>示例输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">virtual-System-Product-Name prozilla-2.0.4-master # youtube-dl -a url.txt </span><br><span class="line">[youtube] xEf8A7X53YE: Downloading webpage </span><br><span class="line">[youtube] xEf8A7X53YE: Downloading video info webpage </span><br><span class="line">[youtube] xEf8A7X53YE: Extracting video information </span><br><span class="line">[youtube] xEf8A7X53YE: Downloading MPD manifest </span><br><span class="line">[download] Destination: EIC Outrage - Salute to Indian Athletes!-xEf8A7X53YE.mp4 </span><br><span class="line">[download] 3.9% of 70.87MiB at 82.53KiB/s ETA 14:04 </span><br></pre></td></tr></table></figure><h3 id="5-Aria2">5.Aria2</h3><p>这是一种开源命令行下载加速器，支持多个端口，你可以使用最大带宽来下载文件，是一款易于安装、易于使用的工具。</p><p><strong>安装</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install aria2</span><br></pre></td></tr></table></figure><p><strong>例子</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aria2 http://www.sample-videos.com/video/mp4/720/big_buck_bunny_720p_1mb.mp4</span><br></pre></td></tr></table></figure><p><strong>示例输出：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[#28c7dd 0.9MiB/1.0MiB(93%) CN:1 DL:70KiB ETA:1s] </span><br><span class="line">05/11 23:06:47 [NOTICE] Download complete: </span><br><span class="line">/home/virtual/Desktop/prozilla-2.0.4-master/big_buck_bunny_720p_1mb.mp4 </span><br><span class="line">Download Results: </span><br><span class="line">gid |stat|avg speed |path/URI </span><br><span class="line">======+====+===========+======================================================= </span><br><span class="line">28c7dd|OK | 72KiB/s|/home/virtual/Desktop/prozilla-2.0.4-master/big_buck_bunny_720p_1mb.mp4 </span><br><span class="line">Status Legend: </span><br><span class="line">(OK):download completed. </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-Movgrab">6.Movgrab</h3><p>这是用于下载视频的另一款高效工具，使用movgrab的优点在于，它不仅可以从YouTube下载视频，还可以从几乎所有的知名网站下载视频，比如metacafe、dailiymotion、 ehow和vobx等。这是一款很快速的工具，可以定义影片格式，还可以恢复下载。</p><p><strong>安装</strong></p><p>可以从该<a href="https://01c3c482-a-62cb3a1a-s-sites.googlegroups.com/site/columscode/files/movgrab-1.2.1.tar.gz?attachauth=ANoY7co3CB5Bhn675vOfjy3OKCJADnh9oqY4HjyZfm2AwuidRnepaU_6CyWNZlHw1oNkOZSsTX02pr-Yr_EiV45-w0mI-ycWtiXDeB81F5Lhf3yMrG2wXiVk8ixeQt_9jsdgJrGlnaPnBnBzR95ViakwzW1CS3yUKt2ojsCMYb_irKNokYCBv2IsSIsfSyKtrb-ldnakhj5jqpTEKtc-Cbg7o_58hM3vgnf9IqeBvP1C3LMFeBmKJuQ%3D&amp;attredirects=0">链接</a>下载程序包。</p><p>解压缩程序包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf movgrab-1.2.1.tar.gz </span><br><span class="line">cd movgrab-1.2.1 </span><br><span class="line">./configure </span><br><span class="line">make </span><br><span class="line">make install </span><br></pre></td></tr></table></figure><p>使用命令下载程序包</p><p>下载名称指定的文件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movgrab Youtube_url </span><br></pre></td></tr></table></figure><p>指定输出文件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">movgrab -o example.mp4 video_url </span><br></pre></td></tr></table></figure><p>使用maovgrab –h，即可了解更多的细节。</p><h3 id="7-rtorrent">7.rtorrent</h3><p>这种知名的命令行torrent客户软件随附在所有Linux发行版中，它需要screen实用工具才能正常运行。</p><p><strong>安装</strong></p><p>安装screen：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install screen </span><br></pre></td></tr></table></figure><p>安装rtorrent ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install rtorrent </span><br></pre></td></tr></table></figure><p>例子</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rtorrent example.torrent </span><br></pre></td></tr></table></figure><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062110zixx0nzinq31r03s.jpg" alt=""></p><h3 id="8-ctorrent">8.ctorrent</h3><p>C-torrent是最简单的命令行torrent下载工具，可以迅速安装，也是micro-torrent或utorrent的优秀替代者。</p><p><strong>安装</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install ctorrent </span><br></pre></td></tr></table></figure><p><strong>例子</strong></p><p>我们不妨下载一份最新版本的Ubuntu server 16.04。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctorrent ubuntu-16.04-server-amd64.iso.torrent </span><br></pre></td></tr></table></figure><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062110f76uvduj6d269xxo.jpg" alt=""></p><p>使用ctorrent –h，即可了解更多选项。</p><h3 id="9-Transmission-cli">9.Transmission-cli</h3><p>Transmission的这个命令行版本是一款非常强大的工具，可用于下载torrent。易于安装，它需要screen这个依赖项。</p><p><strong>安装</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install transmission-cli transmission-daemon transmission-common </span><br></pre></td></tr></table></figure><p>安装screen</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install screen </span><br></pre></td></tr></table></figure><p><strong>例子</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -a /usr/bin/transmission-cli -p 25000 ubuntu-16.04-server-amd64.iso.torrent </span><br></pre></td></tr></table></figure><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062110z55iz6nppd3nohag.jpg" alt=""></p><h3 id="10-vuze">10.vuze</h3><p>这是一种全面的torrent下载解决方案，占用资源极少，是功能最强大的torrent应用程序之一，它需要Java才能在控制台上运行，所以确保你已将open jdk的jre安装到系统上，它同样需要screen程序包。</p><p><strong>安装</strong></p><p>可以直接从该<a href="http://www.vuze.com/download.php">链接</a>下载，下载后解压缩程序包。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf VuzeInstaller.tar.bz2  </span><br><span class="line">cd vuze </span><br></pre></td></tr></table></figure><p>有一些依赖项必须下载，从该<a href="http://svn.vuze.com/public/client/trunk/uis/lib/">链接</a>获取必要的插件。</p><p>将这些.jar插件拷贝到vuze目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp *.jar vuze </span><br></pre></td></tr></table></figure><p>运行下面这个命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -cp &quot;Azureus2.jar:commons-cli.jar:log4j.jar&quot; org.gudy.azureus2.ui.common.Main --ui=console </span><br></pre></td></tr></table></figure><p>上述命令成功执行后，运行下面这个命令来启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen java -jar Azureus2.jar --ui=console</span><br></pre></td></tr></table></figure><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062110vc6vmc6dibci8chz.jpg" alt=""></p><p>使用help命令，给add命令添加上.torrent文件的路径，即可开始下载。</p><p><img src="https://img.linux.net.cn/data/attachment/album/201605/21/062111tss8wlvrp0d9kkvd.jpg" alt=""></p><h3 id="结束语"><strong>结束语</strong></h3><p>相比基于GUI的torrent或下载管理器，命令行工具来得更高效而快速。这些工具在无外设服务器中扮演重要角色，可以控制慢速互联网连接中的带宽使用。</p><p>请尽情享用！</p><h2 id="Reference">Reference</h2><ul><li><a href="https://linux.cn/article-7369-1.html">https://linux.cn/article-7369-1.html</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>zsh git readme</title>
      <link href="/2010/01/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/git-zsh-readme/"/>
      <url>/2010/01/01/Notebooks/%E8%AE%A1%E7%AE%97%E6%9C%BA/Basic/git-zsh-readme/</url>
      
        <content type="html"><![CDATA[<h1>git plugin</h1><p>The git plugin provides many <a href="#aliases">aliases</a> and a few useful <a href="#functions">functions</a>.</p><p>To use it, add <code>git</code> to the plugins array in your zshrc file:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins=(... git)</span><br></pre></td></tr></table></figure><h2 id="Aliases">Aliases</h2><table><thead><tr><th style="text-align:left">Alias</th><th style="text-align:left">Command</th></tr></thead><tbody><tr><td style="text-align:left">g</td><td style="text-align:left">git</td></tr><tr><td style="text-align:left">ga</td><td style="text-align:left">git add</td></tr><tr><td style="text-align:left">gaa</td><td style="text-align:left">git add --all</td></tr><tr><td style="text-align:left">gapa</td><td style="text-align:left">git add --patch</td></tr><tr><td style="text-align:left">gau</td><td style="text-align:left">git add --update</td></tr><tr><td style="text-align:left">gav</td><td style="text-align:left">git add --verbose</td></tr><tr><td style="text-align:left">gap</td><td style="text-align:left">git apply</td></tr><tr><td style="text-align:left">gapt</td><td style="text-align:left">git apply --3way</td></tr><tr><td style="text-align:left">gb</td><td style="text-align:left">git branch</td></tr><tr><td style="text-align:left">gba</td><td style="text-align:left">git branch -a</td></tr><tr><td style="text-align:left">gbd</td><td style="text-align:left">git branch -d</td></tr><tr><td style="text-align:left">gbda</td><td style="text-align:left">git branch --no-color --merged | grep -vE “^([+<em>]|\s</em>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>g</mi><mi>i</mi><msub><mi>t</mi><mi>m</mi></msub><mi>a</mi><mi>i</mi><msub><mi>n</mi><mi>b</mi></msub><mi>r</mi><mi>a</mi><mi>n</mi><mi>c</mi><mi>h</mi><mo stretchy="false">)</mo><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">(git_main_branch)|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">ai</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal">c</span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mord">∣</span></span></span></span>(git_develop_branch))\s*$)” | xargs git branch -d 2&gt;/dev/null</td></tr><tr><td style="text-align:left">gbD</td><td style="text-align:left">git branch -D</td></tr><tr><td style="text-align:left">gbl</td><td style="text-align:left">git blame -b -w</td></tr><tr><td style="text-align:left">gbnm</td><td style="text-align:left">git branch --no-merged</td></tr><tr><td style="text-align:left">gbr</td><td style="text-align:left">git branch --remote</td></tr><tr><td style="text-align:left">gbs</td><td style="text-align:left">git bisect</td></tr><tr><td style="text-align:left">gbsb</td><td style="text-align:left">git bisect bad</td></tr><tr><td style="text-align:left">gbsg</td><td style="text-align:left">git bisect good</td></tr><tr><td style="text-align:left">gbsr</td><td style="text-align:left">git bisect reset</td></tr><tr><td style="text-align:left">gbss</td><td style="text-align:left">git bisect start</td></tr><tr><td style="text-align:left">gc</td><td style="text-align:left">git commit -v</td></tr><tr><td style="text-align:left">gc!</td><td style="text-align:left">git commit -v --amend</td></tr><tr><td style="text-align:left">gcn!</td><td style="text-align:left">git commit -v --no-edit --amend</td></tr><tr><td style="text-align:left">gca</td><td style="text-align:left">git commit -v -a</td></tr><tr><td style="text-align:left">gca!</td><td style="text-align:left">git commit -v -a --amend</td></tr><tr><td style="text-align:left">gcan!</td><td style="text-align:left">git commit -v -a --no-edit --amend</td></tr><tr><td style="text-align:left">gcans!</td><td style="text-align:left">git commit -v -a -s --no-edit --amend</td></tr><tr><td style="text-align:left">gcam</td><td style="text-align:left">git commit -a -m</td></tr><tr><td style="text-align:left">gcas</td><td style="text-align:left">git commit -a -s</td></tr><tr><td style="text-align:left">gcasm</td><td style="text-align:left">git commit -a -s -m</td></tr><tr><td style="text-align:left">gcsm</td><td style="text-align:left">git commit -s -m</td></tr><tr><td style="text-align:left">gcb</td><td style="text-align:left">git checkout -b</td></tr><tr><td style="text-align:left">gcf</td><td style="text-align:left">git config --list</td></tr><tr><td style="text-align:left">gcl</td><td style="text-align:left">git clone --recurse-submodules</td></tr><tr><td style="text-align:left">gccd</td><td style="text-align:left">git clone --recurse-submodules “@" && cd "(basename $_ .git)”</td></tr><tr><td style="text-align:left">gclean</td><td style="text-align:left">git clean -id</td></tr><tr><td style="text-align:left">gpristine</td><td style="text-align:left">git reset --hard &amp;&amp; git clean -dffx</td></tr><tr><td style="text-align:left">gcm</td><td style="text-align:left">git checkout $(git_main_branch)</td></tr><tr><td style="text-align:left">gcd</td><td style="text-align:left">git checkout $(git_develop_branch)</td></tr><tr><td style="text-align:left">gcmsg</td><td style="text-align:left">git commit -m</td></tr><tr><td style="text-align:left">gco</td><td style="text-align:left">git checkout</td></tr><tr><td style="text-align:left">gcor</td><td style="text-align:left">git checkout --recurse-submodules</td></tr><tr><td style="text-align:left">gcount</td><td style="text-align:left">git shortlog -sn</td></tr><tr><td style="text-align:left">gcp</td><td style="text-align:left">git cherry-pick</td></tr><tr><td style="text-align:left">gcpa</td><td style="text-align:left">git cherry-pick --abort</td></tr><tr><td style="text-align:left">gcpc</td><td style="text-align:left">git cherry-pick --continue</td></tr><tr><td style="text-align:left">gcs</td><td style="text-align:left">git commit -S</td></tr><tr><td style="text-align:left">gd</td><td style="text-align:left">git diff</td></tr><tr><td style="text-align:left">gdca</td><td style="text-align:left">git diff --cached</td></tr><tr><td style="text-align:left">gdcw</td><td style="text-align:left">git diff --cached --word-diff</td></tr><tr><td style="text-align:left">gdct</td><td style="text-align:left">git describe --tags $(git rev-list --tags --max-count=1)</td></tr><tr><td style="text-align:left">gds</td><td style="text-align:left">git diff --staged</td></tr><tr><td style="text-align:left">gdt</td><td style="text-align:left">git diff-tree --no-commit-id --name-only -r</td></tr><tr><td style="text-align:left">gdnolock</td><td style="text-align:left">git diff $@ “:(exclude)package-lock.json” “:(exclude)*.lock”</td></tr><tr><td style="text-align:left">gdup</td><td style="text-align:left">git diff @{upstream}</td></tr><tr><td style="text-align:left">gdv</td><td style="text-align:left">git diff -w $@ | view -</td></tr><tr><td style="text-align:left">gdw</td><td style="text-align:left">git diff --word-diff</td></tr><tr><td style="text-align:left">gf</td><td style="text-align:left">git fetch</td></tr><tr><td style="text-align:left">gfa</td><td style="text-align:left">git fetch --all --prune</td></tr><tr><td style="text-align:left">gfg</td><td style="text-align:left">git ls-files | grep</td></tr><tr><td style="text-align:left">gfo</td><td style="text-align:left">git fetch origin</td></tr><tr><td style="text-align:left">gg</td><td style="text-align:left">git gui citool</td></tr><tr><td style="text-align:left">gga</td><td style="text-align:left">git gui citool --amend</td></tr><tr><td style="text-align:left">ggf</td><td style="text-align:left">git push --force origin $(current_branch)</td></tr><tr><td style="text-align:left">ggfl</td><td style="text-align:left">git push --force-with-lease origin $(current_branch)</td></tr><tr><td style="text-align:left">ggl</td><td style="text-align:left">git pull origin $(current_branch)</td></tr><tr><td style="text-align:left">ggp</td><td style="text-align:left">git push origin $(current_branch)</td></tr><tr><td style="text-align:left">ggpnp</td><td style="text-align:left">ggl &amp;&amp; ggp</td></tr><tr><td style="text-align:left">ggpull</td><td style="text-align:left">git pull origin “$(git_current_branch)”</td></tr><tr><td style="text-align:left">ggpur</td><td style="text-align:left">ggu</td></tr><tr><td style="text-align:left">ggpush</td><td style="text-align:left">git push origin “$(git_current_branch)”</td></tr><tr><td style="text-align:left">ggsup</td><td style="text-align:left">git branch --set-upstream-to=origin/$(git_current_branch)</td></tr><tr><td style="text-align:left">ggu</td><td style="text-align:left">git pull --rebase origin $(current_branch)</td></tr><tr><td style="text-align:left">gpsup</td><td style="text-align:left">git push --set-upstream origin $(git_current_branch)</td></tr><tr><td style="text-align:left">ghh</td><td style="text-align:left">git help</td></tr><tr><td style="text-align:left">gignore</td><td style="text-align:left">git update-index --assume-unchanged</td></tr><tr><td style="text-align:left">gignored</td><td style="text-align:left">git ls-files -v | grep “^[[:lower:]]”</td></tr><tr><td style="text-align:left">git-svn-dcommit-push</td><td style="text-align:left">git svn dcommit &amp;&amp; git push github $(git_main_branch):svntrunk</td></tr><tr><td style="text-align:left">gk</td><td style="text-align:left">gitk --all --branches &amp;!</td></tr><tr><td style="text-align:left">gke</td><td style="text-align:left">gitk --all $(git log -g --pretty=%h) &amp;!</td></tr><tr><td style="text-align:left">gl</td><td style="text-align:left">git pull</td></tr><tr><td style="text-align:left">glg</td><td style="text-align:left">git log --stat</td></tr><tr><td style="text-align:left">glgp</td><td style="text-align:left">git log --stat -p</td></tr><tr><td style="text-align:left">glgg</td><td style="text-align:left">git log --graph</td></tr><tr><td style="text-align:left">glgga</td><td style="text-align:left">git log --graph --decorate --all</td></tr><tr><td style="text-align:left">glgm</td><td style="text-align:left">git log --graph --max-count=10</td></tr><tr><td style="text-align:left">glo</td><td style="text-align:left">git log --oneline --decorate</td></tr><tr><td style="text-align:left">glol</td><td style="text-align:left">git log --graph --pretty=‘%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset’</td></tr><tr><td style="text-align:left">glols</td><td style="text-align:left">git log --graph --pretty=‘%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset’ --stat</td></tr><tr><td style="text-align:left">glod</td><td style="text-align:left">git log --graph --pretty=‘%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset’</td></tr><tr><td style="text-align:left">glods</td><td style="text-align:left">git log --graph --pretty=‘%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ad) %C(bold blue)&lt;%an&gt;%Creset’ --date=short</td></tr><tr><td style="text-align:left">glola</td><td style="text-align:left">git log --graph --pretty=‘%Cred%h%Creset -%C(auto)%d%Creset %s %Cgreen(%ar) %C(bold blue)&lt;%an&gt;%Creset’ --all</td></tr><tr><td style="text-align:left">glog</td><td style="text-align:left">git log --oneline --decorate --graph</td></tr><tr><td style="text-align:left">gloga</td><td style="text-align:left">git log --oneline --decorate --graph --all</td></tr><tr><td style="text-align:left">glp</td><td style="text-align:left">git log --pretty=&lt;format&gt;</td></tr><tr><td style="text-align:left">gm</td><td style="text-align:left">git merge</td></tr><tr><td style="text-align:left">gmom</td><td style="text-align:left">git merge origin/$(git_main_branch)</td></tr><tr><td style="text-align:left">gmtl</td><td style="text-align:left">git mergetool --no-prompt</td></tr><tr><td style="text-align:left">gmtlvim</td><td style="text-align:left">git mergetool --no-prompt --tool=vimdiff</td></tr><tr><td style="text-align:left">gmum</td><td style="text-align:left">git merge upstream/$(git_main_branch)</td></tr><tr><td style="text-align:left">gma</td><td style="text-align:left">git merge --abort</td></tr><tr><td style="text-align:left">gp</td><td style="text-align:left">git push</td></tr><tr><td style="text-align:left">gpd</td><td style="text-align:left">git push --dry-run</td></tr><tr><td style="text-align:left">gpf</td><td style="text-align:left">git push --force-with-lease</td></tr><tr><td style="text-align:left">gpf!</td><td style="text-align:left">git push --force</td></tr><tr><td style="text-align:left">gpoat</td><td style="text-align:left">git push origin --all &amp;&amp; git push origin --tags</td></tr><tr><td style="text-align:left">gpr</td><td style="text-align:left">git pull --rebase</td></tr><tr><td style="text-align:left">gpu</td><td style="text-align:left">git push upstream</td></tr><tr><td style="text-align:left">gpv</td><td style="text-align:left">git push -v</td></tr><tr><td style="text-align:left">gr</td><td style="text-align:left">git remote</td></tr><tr><td style="text-align:left">gra</td><td style="text-align:left">git remote add</td></tr><tr><td style="text-align:left">grb</td><td style="text-align:left">git rebase</td></tr><tr><td style="text-align:left">grba</td><td style="text-align:left">git rebase --abort</td></tr><tr><td style="text-align:left">grbc</td><td style="text-align:left">git rebase --continue</td></tr><tr><td style="text-align:left">grbd</td><td style="text-align:left">git rebase $(git_develop_branch)</td></tr><tr><td style="text-align:left">grbi</td><td style="text-align:left">git rebase -i</td></tr><tr><td style="text-align:left">grbm</td><td style="text-align:left">git rebase $(git_main_branch)</td></tr><tr><td style="text-align:left">grbom</td><td style="text-align:left">git rebase origin/$(git_main_branch)</td></tr><tr><td style="text-align:left">grbo</td><td style="text-align:left">git rebase --onto</td></tr><tr><td style="text-align:left">grbs</td><td style="text-align:left">git rebase --skip</td></tr><tr><td style="text-align:left">grev</td><td style="text-align:left">git revert</td></tr><tr><td style="text-align:left">grh</td><td style="text-align:left">git reset</td></tr><tr><td style="text-align:left">grhh</td><td style="text-align:left">git reset --hard</td></tr><tr><td style="text-align:left">groh</td><td style="text-align:left">git reset origin/$(git_current_branch) --hard</td></tr><tr><td style="text-align:left">grm</td><td style="text-align:left">git rm</td></tr><tr><td style="text-align:left">grmc</td><td style="text-align:left">git rm --cached</td></tr><tr><td style="text-align:left">grmv</td><td style="text-align:left">git remote rename</td></tr><tr><td style="text-align:left">grrm</td><td style="text-align:left">git remote remove</td></tr><tr><td style="text-align:left">grs</td><td style="text-align:left">git restore</td></tr><tr><td style="text-align:left">grset</td><td style="text-align:left">git remote set-url</td></tr><tr><td style="text-align:left">grss</td><td style="text-align:left">git restore --source</td></tr><tr><td style="text-align:left">grst</td><td style="text-align:left">git restore --staged</td></tr><tr><td style="text-align:left">grt</td><td style="text-align:left">cd “$(git rev-parse --show-toplevel || echo .)”</td></tr><tr><td style="text-align:left">gru</td><td style="text-align:left">git reset –</td></tr><tr><td style="text-align:left">grup</td><td style="text-align:left">git remote update</td></tr><tr><td style="text-align:left">grv</td><td style="text-align:left">git remote -v</td></tr><tr><td style="text-align:left">gsb</td><td style="text-align:left">git status -sb</td></tr><tr><td style="text-align:left">gsd</td><td style="text-align:left">git svn dcommit</td></tr><tr><td style="text-align:left">gsh</td><td style="text-align:left">git show</td></tr><tr><td style="text-align:left">gsi</td><td style="text-align:left">git submodule init</td></tr><tr><td style="text-align:left">gsps</td><td style="text-align:left">git show --pretty=short --show-signature</td></tr><tr><td style="text-align:left">gsr</td><td style="text-align:left">git svn rebase</td></tr><tr><td style="text-align:left">gss</td><td style="text-align:left">git status -s</td></tr><tr><td style="text-align:left">gst</td><td style="text-align:left">git status</td></tr><tr><td style="text-align:left">gsta</td><td style="text-align:left">git stash push</td></tr><tr><td style="text-align:left">gsta</td><td style="text-align:left">git stash save</td></tr><tr><td style="text-align:left">gstaa</td><td style="text-align:left">git stash apply</td></tr><tr><td style="text-align:left">gstc</td><td style="text-align:left">git stash clear</td></tr><tr><td style="text-align:left">gstd</td><td style="text-align:left">git stash drop</td></tr><tr><td style="text-align:left">gstl</td><td style="text-align:left">git stash list</td></tr><tr><td style="text-align:left">gstp</td><td style="text-align:left">git stash pop</td></tr><tr><td style="text-align:left">gsts</td><td style="text-align:left">git stash show --text</td></tr><tr><td style="text-align:left">gstu</td><td style="text-align:left">git stash --include-untracked</td></tr><tr><td style="text-align:left">gstall</td><td style="text-align:left">git stash --all</td></tr><tr><td style="text-align:left">gsu</td><td style="text-align:left">git submodule update</td></tr><tr><td style="text-align:left">gsw</td><td style="text-align:left">git switch</td></tr><tr><td style="text-align:left">gswc</td><td style="text-align:left">git switch -c</td></tr><tr><td style="text-align:left">gswm</td><td style="text-align:left">git switch $(git_main_branch)</td></tr><tr><td style="text-align:left">gswd</td><td style="text-align:left">git switch $(git_develop_branch)</td></tr><tr><td style="text-align:left">gts</td><td style="text-align:left">git tag -s</td></tr><tr><td style="text-align:left">gtv</td><td style="text-align:left">git tag | sort -V</td></tr><tr><td style="text-align:left">gtl</td><td style="text-align:left">gtl(){ git tag --sort=-v:refname -n -l ${1}* }; noglob gtl</td></tr><tr><td style="text-align:left">gunignore</td><td style="text-align:left">git update-index --no-assume-unchanged</td></tr><tr><td style="text-align:left">gunwip</td><td style="text-align:left">git log -n 1 | grep -q -c “--wip--” &amp;&amp; git reset HEAD~1</td></tr><tr><td style="text-align:left">gup</td><td style="text-align:left">git pull --rebase</td></tr><tr><td style="text-align:left">gupv</td><td style="text-align:left">git pull --rebase -v</td></tr><tr><td style="text-align:left">gupa</td><td style="text-align:left">git pull --rebase --autostash</td></tr><tr><td style="text-align:left">gupav</td><td style="text-align:left">git pull --rebase --autostash -v</td></tr><tr><td style="text-align:left">glum</td><td style="text-align:left">git pull upstream $(git_main_branch)</td></tr><tr><td style="text-align:left">gwch</td><td style="text-align:left">git whatchanged -p --abbrev-commit --pretty=medium</td></tr><tr><td style="text-align:left">gwip</td><td style="text-align:left">git add -A; git rm $(git ls-files --deleted) 2&gt; /dev/null; git commit --no-verify --no-gpg-sign -m “–wip-- [skip ci]”</td></tr><tr><td style="text-align:left">gam</td><td style="text-align:left">git am</td></tr><tr><td style="text-align:left">gamc</td><td style="text-align:left">git am --continue</td></tr><tr><td style="text-align:left">gams</td><td style="text-align:left">git am --skip</td></tr><tr><td style="text-align:left">gama</td><td style="text-align:left">git am --abort</td></tr><tr><td style="text-align:left">gamscp</td><td style="text-align:left">git am --show-current-patch</td></tr></tbody></table><h3 id="Main-branch-preference">Main branch preference</h3><p>Following the recent push for removing racially-charged words from our technical vocabulary, the git plugin favors using<br>a branch name other than <code>master</code>. In this case, we favor the shorter, neutral and descriptive term <code>main</code>. This means<br>that any aliases and functions that previously used <code>master</code>, will use <code>main</code> if that branch exists. We do this via the<br>function <code>git_main_branch</code>.</p><h3 id="Deprecated-aliases">Deprecated aliases</h3><p>These are aliases that have been removed, renamed, or otherwise modified in a way that may, or may not, receive further support.</p><table><thead><tr><th style="text-align:left">Alias</th><th style="text-align:left">Command</th><th style="text-align:left">Modification</th></tr></thead><tbody><tr><td style="text-align:left">gap</td><td style="text-align:left"><code>git add --patch</code></td><td style="text-align:left">new alias <code>gapa</code></td></tr><tr><td style="text-align:left">gcl</td><td style="text-align:left"><code>git config --list</code></td><td style="text-align:left">new alias <code>gcf</code></td></tr><tr><td style="text-align:left">gdc</td><td style="text-align:left"><code>git diff --cached</code></td><td style="text-align:left">new alias <code>gdca</code></td></tr><tr><td style="text-align:left">gdt</td><td style="text-align:left"><code>git difftool</code></td><td style="text-align:left">no replacement</td></tr><tr><td style="text-align:left">ggpull</td><td style="text-align:left"><code>git pull origin $(current_branch)</code></td><td style="text-align:left">new alias <code>ggl</code> (<code>ggpull</code> still exists for now though)</td></tr><tr><td style="text-align:left">ggpur</td><td style="text-align:left"><code>git pull --rebase origin $(current_branch)</code></td><td style="text-align:left">new alias <code>ggu</code> (<code>ggpur</code> still exists for now though)</td></tr><tr><td style="text-align:left">ggpush</td><td style="text-align:left"><code>git push origin $(current_branch)</code></td><td style="text-align:left">new alias <code>ggp</code> (<code>ggpush</code> still exists for now though)</td></tr><tr><td style="text-align:left">gk</td><td style="text-align:left"><code>gitk --all --branches</code></td><td style="text-align:left">now aliased to <code>gitk --all --branches</code></td></tr><tr><td style="text-align:left">glg</td><td style="text-align:left"><code>git log --stat --max-count = 10</code></td><td style="text-align:left">now aliased to <code>git log --stat --color</code></td></tr><tr><td style="text-align:left">glgg</td><td style="text-align:left"><code>git log --graph --max-count = 10</code></td><td style="text-align:left">now aliased to <code>git log --graph --color</code></td></tr><tr><td style="text-align:left">gwc</td><td style="text-align:left"><code>git whatchanged -p --abbrev-commit --pretty = medium</code></td><td style="text-align:left">new alias <code>gwch</code></td></tr></tbody></table><h2 id="Functions">Functions</h2><h3 id="Current">Current</h3><table><thead><tr><th style="text-align:left">Command</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><code>grename &lt;old&gt; &lt;new&gt;</code></td><td style="text-align:left">Rename <code>old</code> branch to <code>new</code>, including in origin remote</td></tr><tr><td style="text-align:left">current_branch</td><td style="text-align:left">Return the name of the current branch</td></tr><tr><td style="text-align:left">git_current_user_name</td><td style="text-align:left">Returns the <code>user.name</code> config value</td></tr><tr><td style="text-align:left">git_current_user_email</td><td style="text-align:left">Returns the <code>user.email</code> config value</td></tr><tr><td style="text-align:left">git_main_branch</td><td style="text-align:left">Returns the name of the main branch: <code>main</code> if it exists, <code>master</code> otherwise</td></tr><tr><td style="text-align:left">git_develop_branch</td><td style="text-align:left">Returns the name of the develop branch: <code>dev</code>, <code>devel</code>, <code>development</code> if they exist, <code>develop</code> otherwise</td></tr></tbody></table><h3 id="Work-in-Progress-WIP">Work in Progress (WIP)</h3><p>These features allow to pause a branch development and switch to another one (<em>“Work in Progress”</em>,  or wip). When you want to go back to work, just unwip it.</p><table><thead><tr><th style="text-align:left">Command</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left">work_in_progress</td><td style="text-align:left">Echoes a warning if the current branch is a wip</td></tr><tr><td style="text-align:left">gwip</td><td style="text-align:left">Commit wip branch</td></tr><tr><td style="text-align:left">gunwip</td><td style="text-align:left">Uncommit wip branch</td></tr></tbody></table><h3 id="Deprecated-functions">Deprecated functions</h3><table><thead><tr><th style="text-align:left">Command</th><th style="text-align:left">Description</th><th style="text-align:left">Reason</th></tr></thead><tbody><tr><td style="text-align:left">current_repository</td><td style="text-align:left">Return the names of the current remotes</td><td style="text-align:left">Didn’t work properly. Use <code>git remote -v</code> instead (<code>grv</code> alias)</td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>HelloWorld</title>
      <link href="/1111/01/01/Notebooks/hello-world/"/>
      <url>/1111/01/01/Notebooks/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Test</p><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start">Quick Start</h2><h3 id="Create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><ol><li>111111</li><li>22222</li><li>33333</li></ol><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021年快到了…</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>小心开车 安全至上</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>这是三片呢？还是四片？</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>你是刷 Visa 还是 UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>剪刀石头布</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>前端最讨厌的浏览器</p></div><div class="note flat"><p>默认 提示块标签</p></div><div class="note default flat"><p>default 提示块标签</p></div><div class="note primary flat"><p>primary 提示块标签</p></div><div class="note success flat"><p>success 提示块标签</p></div><div class="note info flat"><p>info 提示块标签</p></div><div class="note warning flat"><p>warning 提示块标签</p></div><div class="note danger flat"><p>danger 提示块标签</p></div>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
